client service is listening on port 9001
room service is listening on localhost:9002
game server is listening on localhost:9003
account server is listening on 9000
dealer api is listening on localhost:12581
game server is listening on 10000
game server registered.
	id:101.200.52.241:10000
	addr:127.0.0.1
	http port:9003
	socket clientport:10000
101.200.52.241:10000
4b5d25ae3019249ca14af3d4d9e9f127
invalid parameters
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT name,sex,headimg FROM t_users WHERE userid=100333
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
INSERT INTO t_feed_back(userid,content) VALUES (100333,"我问问")
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100333)  
2,null
++++++++++++++++++++++++++++++++++++
{"x":35.621778,"y":111.367674}
UPDATE t_users SET location='{"x":35.621778,"y":111.367674}' WHERE account='wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1FHJngPDAwtLMlzZHIhp-6k"
SELECT name,sex,headimg FROM t_users WHERE userid=100352
SELECT gems FROM t_users WHERE account = "wx_omM_A1FHJngPDAwtLMlzZHIhp-6k"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100352)  
2,null
++++++++++++++++++++++++++++++++++++
{"x":35.620743,"y":111.368186}
UPDATE t_users SET location='{"x":35.620743,"y":111.368186}' WHERE account='wx_omM_A1FHJngPDAwtLMlzZHIhp-6k'
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100333)  
2,null
++++++++++++++++++++++++++++++++++++
{"x":35.621766,"y":111.367668}
UPDATE t_users SET location='{"x":35.621766,"y":111.367668}' WHERE account='wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg'
++++++++++++++++++++++++++++++++++++
{"x":35.62189,"y":111.366925}
UPDATE t_users SET location='{"x":35.62189,"y":111.366925}' WHERE account='wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg'
{ account: 'wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg',
  sign: '427f1401a72892b226dc107a524c9467',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":0,"clubId":"","type":"sjmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":0,"clubId":"","type":"sjmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100333"
club_id is
{ type: 'sjmj',
  baseScore: 0.5,
  jinfen: 1,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100333,
  paytype: 0,
  cheat: true,
  clubId: '' }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523678063382007050','007050','{"type":"sjmj","baseScore":0.5,"jinfen":1,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100333,"paytype":0,"cheat":true,"clubId":""}','127.0.0.1',10000,1523678064,100333,4,'')
1523678063382007050
SELECT ip,port FROM t_rooms WHERE id = "007050"
{ userid: '100333',
  name: '张麟华',
  roomid: '007050',
  sign: 'a13e1b3610fe73425f08eb500272b95f' }
a13e1b3610fe73425f08eb500272b95f
SELECT gems FROM t_users WHERE userid = 100333
UPDATE t_rooms SET user_id0 = 100333,user_icon0 = "",user_name0 = "5byg6bqf5Y2O" WHERE id = "007050"
{ token: 'be55e33264c0e47ab7a0a2030323aa9b',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "007050" WHERE userid = "100333"
007050
be55e33264c0e47ab7a0a2030323aa9b
1523678063415
a5908fdc8df78a6890a20952f8058056
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT name,sex,headimg FROM t_users WHERE userid=100335
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100352)  
++++++++++++++++++++++++++++++++++++
{"x":35.62074,"y":111.368235}
UPDATE t_users SET location='{"x":35.62074,"y":111.368235}' WHERE account='wx_omM_A1FHJngPDAwtLMlzZHIhp-6k'
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100335)  
2,null
++++++++++++++++++++++++++++++++++++
{"x":35.620657,"y":111.368311}
UPDATE t_users SET location='{"x":35.620657,"y":111.368311}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111190 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111190 )
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100335)  
++++++++++++++++++++++++++++++++++++
{"x":35.620724,"y":111.368249}
UPDATE t_users SET location='{"x":35.620724,"y":111.368249}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100352)  
++++++++++++++++++++++++++++++++++++
{"x":35.620732,"y":111.368272}
UPDATE t_users SET location='{"x":35.620732,"y":111.368272}' WHERE account='wx_omM_A1FHJngPDAwtLMlzZHIhp-6k'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=007050 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "007050"
{ userid: '100333',
  name: '张麟华',
  roomid: '007050',
  sign: 'a13e1b3610fe73425f08eb500272b95f' }
a13e1b3610fe73425f08eb500272b95f
SELECT gems FROM t_users WHERE userid = 100333
{ token: '3d877e1c2907b83f44e7c18fbd4a0b1b',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "007050" WHERE userid = "100333"
007050
3d877e1c2907b83f44e7c18fbd4a0b1b
1523678273578
f1c9b82f1a3bbfafb62ca0b18c09af3b
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111190 
{ account: 'wx_omM_A1FHJngPDAwtLMlzZHIhp-6k',
  sign: '7bf3dcfa65f0b7279b5b3be0e9bdb085',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":111190,"type":"sjmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":111190,"type":"sjmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1FHJngPDAwtLMlzZHIhp-6k"
SELECT gems FROM t_users WHERE account = "wx_omM_A1FHJngPDAwtLMlzZHIhp-6k"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100352"
club_id is111190
{ type: 'sjmj',
  baseScore: 0.5,
  jinfen: 1,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100352,
  paytype: 0,
  cheat: false,
  clubId: 111190 }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523678388659184433','184433','{"type":"sjmj","baseScore":0.5,"jinfen":1,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100352,"paytype":0,"cheat":false,"clubId":111190}','127.0.0.1',10000,1523678389,100352,4,'111190')
1523678388659184433
SELECT ip,port FROM t_rooms WHERE id = "184433"
{ userid: '100352',
  name: '如鱼得水',
  roomid: '184433',
  sign: '3a22c695977301e01c76d3c0806ba4e9' }
3a22c695977301e01c76d3c0806ba4e9
SELECT gems FROM t_users WHERE userid = 100352
UPDATE t_rooms SET user_id0 = 100352,user_icon0 = "",user_name0 = "5aaC6bG85b6X5rC0" WHERE id = "184433"
{ token: '3b0949316a2867a9a60056d3152dd741',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "184433" WHERE userid = "100352"
184433
3b0949316a2867a9a60056d3152dd741
1523678388671
5d0d21c2dd06fead07b930e517fcb388
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1FHJngPDAwtLMlzZHIhp-6k"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100352)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111190 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111190 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
UPDATE t_rooms SET user_id0 = 0,user_icon0 = "",user_name0 = "" WHERE id = "184433"
UPDATE t_users SET roomid = null WHERE userid = "100352"
SELECT gems FROM t_users WHERE account = "wx_omM_A1FHJngPDAwtLMlzZHIhp-6k"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
++++++++++++++++++++++++++++++++++++
{"x":35.620727,"y":111.368249}
UPDATE t_users SET location='{"x":35.620727,"y":111.368249}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=007050 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "007050"
{ userid: '100335',
  name: '东阳赌圣',
  roomid: '007050',
  sign: 'cf389888fbe46a0bb471c4c8dc088cbf' }
cf389888fbe46a0bb471c4c8dc088cbf
SELECT gems FROM t_users WHERE userid = 100335
距离129.46456779251304
{ errcode: 998, errmsg: 'you are not in' }
you are not in
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1FHJngPDAwtLMlzZHIhp-6k"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=007050 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "007050"
{ userid: '100352',
  name: '如鱼得水',
  roomid: '007050',
  sign: '342606c7595fbb92a08a8719b3d8b70e' }
342606c7595fbb92a08a8719b3d8b70e
SELECT gems FROM t_users WHERE userid = 100352
距离128.90797033917835
{ errcode: 998, errmsg: 'you are not in' }
you are not in
++++++++++++++++++++++++++++++++++++
{"x":35.620727,"y":111.368249}
UPDATE t_users SET location='{"x":35.620727,"y":111.368249}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
UPDATE t_rooms SET user_id0 = 0,user_icon0 = "",user_name0 = "" WHERE id = "007050"
UPDATE t_users SET roomid = null WHERE userid = "100333"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT history FROM t_users WHERE userid = "100333"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT name,sex,headimg FROM t_users WHERE userid=100334
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
{ account: 'wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg',
  sign: '427f1401a72892b226dc107a524c9467',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100333"
club_id is
{ type: 'sjmj',
  baseScore: 0.5,
  jinfen: 1,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100333,
  paytype: 0,
  cheat: false,
  clubId: '' }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523678618930492395','492395','{"type":"sjmj","baseScore":0.5,"jinfen":1,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100333,"paytype":0,"cheat":false,"clubId":""}','127.0.0.1',10000,1523678619,100333,4,'')
1523678618930492395
SELECT ip,port FROM t_rooms WHERE id = "492395"
{ userid: '100333',
  name: '张麟华',
  roomid: '492395',
  sign: 'cac4f4a399e36b0e793658137e7bab35' }
cac4f4a399e36b0e793658137e7bab35
SELECT gems FROM t_users WHERE userid = 100333
UPDATE t_rooms SET user_id0 = 100333,user_icon0 = "",user_name0 = "5byg6bqf5Y2O" WHERE id = "492395"
{ token: 'f76e93a6fa8e0c9b5d11aa314d43eb70',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "492395" WHERE userid = "100333"
492395
f76e93a6fa8e0c9b5d11aa314d43eb70
1523678618956
d7a07f22240385274fb9d3c6a52b00b8
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100334)  
2,null
++++++++++++++++++++++++++++++++++++
{"x":35.62079,"y":111.36817}
UPDATE t_users SET location='{"x":35.62079,"y":111.36817}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
++++++++++++++++++++++++++++++++++++
{"x":35.620829,"y":111.368045}
UPDATE t_users SET location='{"x":35.620829,"y":111.368045}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1FHJngPDAwtLMlzZHIhp-6k"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=492395 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "492395"
{ userid: '100352',
  name: '如鱼得水',
  roomid: '492395',
  sign: '208956aed352b3790f043618c917696a' }
208956aed352b3790f043618c917696a
SELECT gems FROM t_users WHERE userid = 100352
UPDATE t_rooms SET user_id1 = 100352,user_icon1 = "",user_name1 = "5aaC6bG85b6X5rC0" WHERE id = "492395"
{ token: '936190cc0ee174e3d4c9f89b0e9dddab',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "492395" WHERE userid = "100352"
492395
936190cc0ee174e3d4c9f89b0e9dddab
1523678646214
3f3d143e30e5ce27612da480d6968db0
SELECT name,sex,headimg FROM t_users WHERE userid=100352
SELECT name,sex,headimg FROM t_users WHERE userid=100333
UPDATE t_rooms SET user_id0 = 0,user_icon0 = "",user_name0 = "" WHERE id = "492395"
UPDATE t_users SET roomid = null WHERE userid = "100333"
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1FHJngPDAwtLMlzZHIhp-6k"
UPDATE t_rooms SET user_id1 = 0,user_icon1 = "",user_name1 = "" WHERE id = "492395"
UPDATE t_users SET roomid = null WHERE userid = "100352"
SELECT gems FROM t_users WHERE account = "wx_omM_A1FHJngPDAwtLMlzZHIhp-6k"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
{ account: 'wx_omM_A1EAhZ8maByl3fRKpMyAO2qo',
  sign: '2c7858780b7838119ba485189ebbb67c',
  conf: '{"wanfaxuanze":1,"xuanzejushu":0,"paytype":1,"difen":"1","cheat":1,"daifeng":0,"clubId":"","type":"bymj"}' }
conf is{"wanfaxuanze":1,"xuanzejushu":0,"paytype":1,"difen":"1","cheat":1,"daifeng":0,"clubId":"","type":"bymj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100334"
club_id is
{ type: 'bymj',
  baseScore: '1',
  isBaoTing: false,
  maxGames: 4,
  creator: 100334,
  paytype: 1,
  cheat: false,
  daifeng: true,
  clubId: '' }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523678659965394923','394923','{"type":"bymj","baseScore":"1","isBaoTing":false,"maxGames":4,"creator":100334,"paytype":1,"cheat":false,"daifeng":true,"clubId":""}','127.0.0.1',10000,1523678660,100334,1,'')
1523678659965394923
SELECT ip,port FROM t_rooms WHERE id = "394923"
{ userid: '100334',
  name: '夏侯自摸',
  roomid: '394923',
  sign: 'bc27c871282ac236be3e1ebdf5a94b02' }
bc27c871282ac236be3e1ebdf5a94b02
SELECT gems FROM t_users WHERE userid = 100334
UPDATE t_rooms SET user_id0 = 100334,user_icon0 = "",user_name0 = "5aSP5L6v6Ieq5pG4" WHERE id = "394923"
{ token: 'f32c88ee507f9d41694dc0bcbff91624',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "394923" WHERE userid = "100334"
394923
f32c88ee507f9d41694dc0bcbff91624
1523678659979
46ad147efa3872a84020b3cd9b005389
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=394923 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "394923"
{ userid: '100333',
  name: '张麟华',
  roomid: '394923',
  sign: '9458c5041397089dffe6f8cded0973c7' }
9458c5041397089dffe6f8cded0973c7
SELECT gems FROM t_users WHERE userid = 100333
UPDATE t_rooms SET user_id1 = 100333,user_icon1 = "",user_name1 = "5byg6bqf5Y2O" WHERE id = "394923"
{ token: 'e2e025900bd91480a2c6f4f096b0fd31',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "394923" WHERE userid = "100333"
394923
e2e025900bd91480a2c6f4f096b0fd31
1523678668357
51fafb7367206f85f57de9d43dd816eb
SELECT name,sex,headimg FROM t_users WHERE userid=100333
++++++++++++++++++++++++++++++++++++
{"x":35.620715,"y":111.368265}
UPDATE t_users SET location='{"x":35.620715,"y":111.368265}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT name,sex,headimg FROM t_users WHERE userid=100334
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=394923 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "394923"
{ userid: '100335',
  name: '东阳赌圣',
  roomid: '394923',
  sign: '08b939b10ecfbca9bfa4e0998abed1d3' }
08b939b10ecfbca9bfa4e0998abed1d3
SELECT gems FROM t_users WHERE userid = 100335
UPDATE t_rooms SET user_id2 = 100335,user_icon2 = "",user_name2 = "5Lic6Ziz6LWM5Zyj" WHERE id = "394923"
{ token: '4b479659b9c6fdffd9d0bef1ad9c9321',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "394923" WHERE userid = "100335"
394923
4b479659b9c6fdffd9d0bef1ad9c9321
1523678671923
6de95a083d49150d525990aca199a634
SELECT name,sex,headimg FROM t_users WHERE userid=100335
SELECT name,sex,headimg FROM t_users WHERE userid=100335
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1FHJngPDAwtLMlzZHIhp-6k"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=394923 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "394923"
{ userid: '100352',
  name: '如鱼得水',
  roomid: '394923',
  sign: '361c5fc51c65a294ae8cc5ae4f4be28f' }
361c5fc51c65a294ae8cc5ae4f4be28f
SELECT gems FROM t_users WHERE userid = 100352
UPDATE t_rooms SET user_id3 = 100352,user_icon3 = "",user_name3 = "5aaC6bG85b6X5rC0" WHERE id = "394923"
{ token: '99e4cec423d2e1d162bea1286e03e17e',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "394923" WHERE userid = "100352"
394923
99e4cec423d2e1d162bea1286e03e17e
1523678672860
240eb9b4b7ad3c562cb3b5d75f0aa6c4
begin start==============394923
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
SELECT name,sex,headimg FROM t_users WHERE userid=100352
SELECT name,sex,headimg FROM t_users WHERE userid=100352
SELECT name,sex,headimg FROM t_users WHERE userid=100352
SELECT name,sex,headimg FROM t_users WHERE userid=100334
SELECT name,sex,headimg FROM t_users WHERE userid=100335
SELECT name,sex,headimg FROM t_users WHERE userid=100352
SELECT name,sex,headimg FROM t_users WHERE userid=100334
SELECT name,sex,headimg FROM t_users WHERE userid=100333
game_mopai_push
game_action_push
1
5
6
delete room and games
do game over!
roomid :394923
roomInfo:[object Object]
forceEnd :true
UPDATE t_rooms SET next_button = 1 WHERE id = "394923"
game_over_push
UPDATE t_users SET roomid = null WHERE userid = "100334"
UPDATE t_users SET roomid = null WHERE userid = "100333"
UPDATE t_users SET roomid = null WHERE userid = "100335"
UPDATE t_users SET roomid = null WHERE userid = "100352"
DELETE FROM t_rooms WHERE id = '394923'
INSERT INTO t_games_archive(SELECT * FROM t_games WHERE room_uuid = '1523678659965394923')
DELETE FROM t_games WHERE room_uuid = '1523678659965394923'
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT last FROM t_users WHERE userid=100334
UPDATE t_users SET last='Sat Apr 14 2018 12:06:54 GMT+0800 (CST)' WHERE userid=100334
UPDATE t_users SET gems = gems+1 WHERE userid = 100334
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1FHJngPDAwtLMlzZHIhp-6k"
SELECT name,sex,headimg FROM t_users WHERE userid=100352
SELECT gems FROM t_users WHERE account = "wx_omM_A1FHJngPDAwtLMlzZHIhp-6k"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
Android
SELECT userid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
UPDATE t_users SET name="5pyI5YWJ",headimg="http://thirdwx.qlogo.cn/mmopen/vi_32/07zIq4qMkyKgYFtAQ4QrykhjH0rrPl85eZ6evHhrotrqGACZqcO4wbAxmc7jRRQgAExZYic26IWg3WP8Hicu6Bfw/132",sex=0 WHERE account="wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT * FROM t_message WHERE type = "fkgm"
Android
SELECT userid FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
INSERT INTO t_users(account,name,coins,gems,sex,headimg,blacklist,location) VALUES('wx_omM_A1NOMusnf4LKbEoKtDCDpKv0','6K+g6YeK',1000,21,2,"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJl5efMibfHzgu7DuDAqNu4XiaBVicu2KAh5N5UsdtQ1bSSlQs2X1zsgYIZ5AV8K4yLFjuz21yy8ibv1g/132",'[]','{"x":0.0,"y":0.0}')
++++++++++++++++++++++++++++++++++++
{"x":35.620732,"y":111.368256}
UPDATE t_users SET location='{"x":35.620732,"y":111.368256}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT gems FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT name,sex,headimg FROM t_users WHERE userid=100390
Android
SELECT userid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
UPDATE t_users SET name="576k5Li7",headimg="http://thirdwx.qlogo.cn/mmopen/vi_32/AV94U0dPztbdCMHtBGgU1y4Aqn4dcQKIJtm18kpqBlUwPucYEgkaIqF02cC4bIJXAJxJibfFia9uDA0YSuoVS9hw/132",sex=0 WHERE account="wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT * FROM t_message WHERE type = "fkgm"
++++++++++++++++++++++++++++++++++++
{"x":35.620704,"y":111.368246}
UPDATE t_users SET location='{"x":35.620704,"y":111.368246}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
++++++++++++++++++++++++++++++++++++
{"x":35.620673,"y":111.368315}
UPDATE t_users SET location='{"x":35.620673,"y":111.368315}' WHERE account='wx_omM_A1NOMusnf4LKbEoKtDCDpKv0'
{ account: 'wx_omM_A1EAhZ8maByl3fRKpMyAO2qo',
  sign: '38f00e0423bfdce4b03e4166b588f50b',
  conf: '{"wanfaxuanze":1,"xuanzejushu":0,"paytype":1,"difen":"1","cheat":1,"daifeng":0,"clubId":"","type":"bymj"}' }
conf is{"wanfaxuanze":1,"xuanzejushu":0,"paytype":1,"difen":"1","cheat":1,"daifeng":0,"clubId":"","type":"bymj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100334"
club_id is
{ type: 'bymj',
  baseScore: '1',
  isBaoTing: false,
  maxGames: 4,
  creator: 100334,
  paytype: 1,
  cheat: false,
  daifeng: true,
  clubId: '' }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523678996348220864','220864','{"type":"bymj","baseScore":"1","isBaoTing":false,"maxGames":4,"creator":100334,"paytype":1,"cheat":false,"daifeng":true,"clubId":""}','127.0.0.1',10000,1523678997,100334,1,'')
1523678996348220864
SELECT ip,port FROM t_rooms WHERE id = "220864"
{ userid: '100334',
  name: '群主',
  roomid: '220864',
  sign: '0cd022917f16c77ac7c487b72c9ed62b' }
0cd022917f16c77ac7c487b72c9ed62b
SELECT gems FROM t_users WHERE userid = 100334
UPDATE t_rooms SET user_id0 = 100334,user_icon0 = "",user_name0 = "576k5Li7" WHERE id = "220864"
{ token: 'f7cc2c4eb72d72a3ffba23a211ed1c43',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "220864" WHERE userid = "100334"
220864
f7cc2c4eb72d72a3ffba23a211ed1c43
1523678996372
223cbe15194ec3995660338f7a8ff765
++++++++++++++++++++++++++++++++++++
{"x":35.62067355685764,"y":111.3683154296875}
UPDATE t_users SET location='{"x":35.62067355685764,"y":111.3683154296875}' WHERE account='wx_omM_A1NOMusnf4LKbEoKtDCDpKv0'
++++++++++++++++++++++++++++++++++++
{"x":35.620736,"y":111.368232}
UPDATE t_users SET location='{"x":35.620736,"y":111.368232}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=220864 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "220864"
{ userid: '100390',
  name: '诠释',
  roomid: '220864',
  sign: '13d3bda4e2c4fd6875c7fe61a61ad994' }
13d3bda4e2c4fd6875c7fe61a61ad994
SELECT gems FROM t_users WHERE userid = 100390
UPDATE t_rooms SET user_id1 = 100390,user_icon1 = "",user_name1 = "6K+g6YeK" WHERE id = "220864"
{ token: '0b832ef92358fcb537c75f5c5d69d4c7',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "220864" WHERE userid = "100390"
220864
0b832ef92358fcb537c75f5c5d69d4c7
1523679004671
e1aebaae9177fc5e47b001377d6bcf83
SELECT name,sex,headimg FROM t_users WHERE userid=100390
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=220864 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "220864"
{ userid: '100335',
  name: '月光',
  roomid: '220864',
  sign: '0dd504186dc19da5f25a6f40f144e669' }
0dd504186dc19da5f25a6f40f144e669
SELECT gems FROM t_users WHERE userid = 100335
UPDATE t_rooms SET user_id2 = 100335,user_icon2 = "",user_name2 = "5pyI5YWJ" WHERE id = "220864"
{ token: '003d557af64e6dd0cadf444a1453bad1',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "220864" WHERE userid = "100335"
SELECT name,sex,headimg FROM t_users WHERE userid=100334
220864
003d557af64e6dd0cadf444a1453bad1
1523679006275
5dcc55476f24e02d32ae9797792bf6b2
SELECT name,sex,headimg FROM t_users WHERE userid=100335
SELECT name,sex,headimg FROM t_users WHERE userid=100390
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=220864 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "220864"
{ userid: '100333',
  name: '张麟华',
  roomid: '220864',
  sign: '24833b13c90572d62f2a6acd3ed45b78' }
24833b13c90572d62f2a6acd3ed45b78
SELECT gems FROM t_users WHERE userid = 100333
UPDATE t_rooms SET user_id3 = 100333,user_icon3 = "",user_name3 = "5byg6bqf5Y2O" WHERE id = "220864"
{ token: '5a345a7953afdfeefbba1a011023105e',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "220864" WHERE userid = "100333"
220864
5a345a7953afdfeefbba1a011023105e
1523679009520
50953a49dffaf84ec80d978c58abdaa5
begin start==============220864
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
SELECT name,sex,headimg FROM t_users WHERE userid=100333
SELECT name,sex,headimg FROM t_users WHERE userid=100333
SELECT name,sex,headimg FROM t_users WHERE userid=100333
SELECT name,sex,headimg FROM t_users WHERE userid=100390
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
3681
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
guo=================================100333
{ game: 
   { conf: 
      { type: 'bymj',
        baseScore: '1',
        isBaoTing: false,
        maxGames: 4,
        creator: 100334,
        paytype: 1,
        cheat: false,
        daifeng: true,
        clubId: '' },
     roomInfo: 
      { uuid: '1523678996348220864',
        id: '220864',
        numOfGames: 1,
        createTime: 1523678997,
        nextButton: 0,
        seats: [Object],
        conf: [Object],
        gameMgr: [Object] },
     gameIndex: 0,
     button: 0,
     currentIndex: 81,
     gameSeats: [ [Object], [Object], [Object], [Circular] ],
     turn: 0,
     chuPai: 9,
     state: 'playing',
     firstHupai: -1,
     actionList: 
      [ 0,
        1,
        32,
        1,
        2,
        21,
        1,
        1,
        32,
        2,
        2,
        16,
        2,
        1,
        30,
        3,
        2,
        25,
        3,
        1,
        32,
        0,
        2,
        18,
        0,
        1,
        33,
        1,
        2,
        26,
        1,
        1,
        28,
        2,
        2,
        0,
        2,
        1,
        29,
        3,
        2,
        16,
        3,
        1,
        32,
        0,
        2,
        22,
        0,
        1,
        30,
        1,
        2,
        29,
        1,
        1,
        29,
        2,
        2,
        3,
        2,
        1,
        29,
        3,
        2,
        19,
        3,
        1,
        31,
        0,
        2,
        31,
        0,
        1,
        31,
        1,
        2,
        26,
        1,
        1,
        2,
        2,
        2,
        23,
        2,
        1,
        12,
        3,
        2,
        22,
        3,
        1,
        31,
        0,
        2,
        17,
        0,
        1,
        27,
        1,
        2,
        23,
        1,
        1,
        5,
        2,
        2,
        1,
        2,
        1,
        26,
        1,
        3,
        26,
        1,
        1,
        6,
        2,
        2,
        5,
        2,
        1,
        18,
        3,
        2,
        28,
        3,
        1,
        27,
        0,
        2,
        6,
        0,
        1,
        27,
        1,
        2,
        17,
        1,
        1,
        17,
        2,
        2,
        30,
        2,
        1,
        30,
        3,
        2,
        9,
        3,
        1,
        28,
        0,
        2,
        11,
        0,
        1,
        3,
        1,
        2,
        5,
        1,
        1,
        5,
        2,
        3,
        5,
        2,
        1,
        23,
        3,
        2,
        8,
        3,
        1,
        28,
        0,
        2,
        22,
        0,
        1,
        9 ],
     hupaiList: [],
     chupaiCnt: 31,
     mahjongs: 
      [ 27,
        6,
        18,
        17,
        27,
        19,
        30,
        32,
        7,
        18,
        29,
        31,
        16,
        20,
        29,
        28,
        26,
        10,
        12,
        19,
        3,
        2,
        5,
        1,
        25,
        32,
        20,
        27,
        9,
        28,
        15,
        9,
        24,
        5,
        6,
        32,
        33,
        10,
        4,
        3,
        32,
        13,
        26,
        8,
        21,
        25,
        21,
        1,
        30,
        12,
        8,
        31,
        23,
        21,
        16,
        25,
        18,
        26,
        0,
        16,
        22,
        29,
        3,
        19,
        31,
        26,
        23,
        22,
        17,
        23,
        1,
        5,
        28,
        6,
        17,
        30,
        9,
        11,
        5,
        8,
        22,
        10,
        17,
        7,
        11,
        4,
        1,
        27,
        10,
        22,
        0,
        2,
        13,
        20,
        33,
        13,
        11,
        14,
        2,
        14,
        21,
        31,
        15,
        24,
        24,
        3,
        2,
        0,
        33,
        29,
        25,
        33,
        6,
        16,
        18,
        4,
        15,
        0,
        20,
        9,
        24,
        19,
        11,
        23,
        4,
        7,
        30,
        15,
        12,
        28,
        13,
        14,
        12,
        8,
        14,
        7 ],
     baseInfoJson: '{"type":"bymj","button":0,"index":0,"mahjongs":[27,6,18,17,27,19,30,32,7,18,29,31,16,20,29,28,26,10,12,19,3,2,5,1,25,32,20,27,9,28,15,9,24,5,6,32,33,10,4,3,32,13,26,8,21,25,21,1,30,12,8,31,23,21,16,25,18,26,0,16,22,29,3,19,31,26,23,22,17,23,1,5,28,6,17,30,9,11,5,8,22,10,17,7,11,4,1,27,10,22,0,2,13,20,33,13,11,14,2,14,21,31,15,24,24,3,2,0,33,29,25,33,6,16,18,4,15,0,20,9,24,19,11,23,4,7,30,15,12,28,13,14,12,8,14,7],"game_seats":[[27,27,7,16,26,3,25,9,24,33,32,21,30,23],[6,19,18,20,10,2,32,28,5,10,13,25,12],[18,30,29,29,12,5,20,15,6,4,26,21,8],[17,32,31,28,19,1,27,9,32,3,8,1,31]]}',
     fangpaoshumu: 0,
     tinging: false,
     qiangGangContext: null },
  seatIndex: 3,
  userId: 100333,
  holds: [ 1, 9, 19, 8, 1, 3, 8, 9, 16, 17, 19, 22, 25 ],
  folds: [ 32, 32, 31, 31, 27, 28, 28 ],
  angangs: [],
  diangangs: [],
  wangangs: [],
  pengs: [],
  duoyu: [],
  countMap: 
   { '0': 0,
     '1': 2,
     '2': 0,
     '3': 1,
     '4': 0,
     '5': 0,
     '6': 0,
     '7': 0,
     '8': 2,
     '9': 2,
     '10': 0,
     '11': 0,
     '12': 0,
     '13': 0,
     '14': 0,
     '15': 0,
     '16': 1,
     '17': 1,
     '18': 0,
     '19': 2,
     '20': 0,
     '21': 0,
     '22': 1,
     '23': 0,
     '24': 0,
     '25': 1,
     '26': 0,
     '27': 0,
     '28': 0,
     '31': 0,
     '32': 0 },
  tingMap: {},
  pattern: '',
  canGang: false,
  gangPai: [],
  canPeng: true,
  canHu: false,
  canChuPai: false,
  canTing: false,
  tinged: false,
  guohu: false,
  hued: false,
  iszimo: false,
  dianpao: false,
  actions: [],
  score: 0,
  lastFangGangSeat: -1,
  numAnGang: 0,
  numMingGang: 0,
  gangfen: 0,
  hufen: 0 }
guo_result
false
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
game_action_push
gang=============100390       10
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
[ 18, 19, 20, 21, 22, 23, 25, 25 ]
do game over!
roomid :220864
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
ye shu = 11
UPDATE t_rooms SET next_button = 1 WHERE id = "220864"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523678996348220864',0,'{"type":"bymj","button":0,"index":0,"mahjongs":[27,6,18,17,27,19,30,32,7,18,29,31,16,20,29,28,26,10,12,19,3,2,5,1,25,32,20,27,9,28,15,9,24,5,6,32,33,10,4,3,32,13,26,8,21,25,21,1,30,12,8,31,23,21,16,25,18,26,0,16,22,29,3,19,31,26,23,22,17,23,1,5,28,6,17,30,9,11,5,8,22,10,17,7,11,4,1,27,10,22,0,2,13,20,33,13,11,14,2,14,21,31,15,24,24,3,2,0,33,29,25,33,6,16,18,4,15,0,20,9,24,19,11,23,4,7,30,15,12,28,13,14,12,8,14,7],"game_seats":[[27,27,7,16,26,3,25,9,24,33,32,21,30,23],[6,19,18,20,10,2,32,28,5,10,13,25,12],[18,30,29,29,12,5,20,15,6,4,26,21,8],[17,32,31,28,19,1,27,9,32,3,8,1,31]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[-5,13,-4,-4]' WHERE room_uuid = '1523678996348220864' AND game_index = 0
UPDATE t_games SET action_records = '[0,1,32,1,2,21,1,1,32,2,2,16,2,1,30,3,2,25,3,1,32,0,2,18,0,1,33,1,2,26,1,1,28,2,2,0,2,1,29,3,2,16,3,1,32,0,2,22,0,1,30,1,2,29,1,1,29,2,2,3,2,1,29,3,2,19,3,1,31,0,2,31,0,1,31,1,2,26,1,1,2,2,2,23,2,1,12,3,2,22,3,1,31,0,2,17,0,1,27,1,2,23,1,1,5,2,2,1,2,1,26,1,3,26,1,1,6,2,2,5,2,1,18,3,2,28,3,1,27,0,2,6,0,1,27,1,2,17,1,1,17,2,2,30,2,1,30,3,2,9,3,1,28,0,2,11,0,1,3,1,2,5,1,1,5,2,3,5,2,1,23,3,2,8,3,1,28,0,2,22,0,1,9,1,2,10,1,1,13,2,2,17,2,1,21,3,2,7,3,1,25,0,2,11,0,1,17,1,2,4,1,1,4,2,2,1,2,1,20,3,2,27,3,1,27,0,2,10,0,1,16,1,2,22,1,6,12,2,2,0,2,1,8,3,3,8,3,1,22,0,3,22,0,1,10,1,4,10,1,2,2,1,1,2,2,2,13,2,1,13,3,2,20,3,1,20,0,2,33,0,1,33,1,2,13,1,1,13,2,2,11,2,1,11,0,3,11,0,1,18,1,2,14,1,1,14,2,2,2,2,6,6,3,2,14,3,1,19,0,2,21,0,6,26,1,2,31,1,1,31,2,2,15,2,1,15,3,2,24,3,1,24,0,2,24,0,1,24,1,2,3,1,1,3,2,2,2,2,1,2,3,2,0,3,1,19,0,2,33,0,1,33,1,2,29,1,1,29,2,2,25,2,1,25,1,5,25]' WHERE room_uuid = '1523678996348220864' AND game_index = 0
UPDATE t_rooms SET num_of_turns = 1 WHERE id = "220864"
UPDATE t_users SET gems = gems -1 WHERE userid = 100334
UPDATE t_users SET gems = gems -1 WHERE userid = 100390
UPDATE t_users SET gems = gems -1 WHERE userid = 100335
UPDATE t_users SET gems = gems -1 WHERE userid = 100333
game_over_push
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=220864 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "220864"
{ userid: '100333',
  name: '张麟华',
  roomid: '220864',
  sign: '24833b13c90572d62f2a6acd3ed45b78' }
24833b13c90572d62f2a6acd3ed45b78
SELECT gems FROM t_users WHERE userid = 100333
{ token: '6ec0157b1cdfa41cfe94ebb4c0b5e047',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "220864" WHERE userid = "100333"
220864
6ec0157b1cdfa41cfe94ebb4c0b5e047
1523679613303
d0d48538a528ea3fce7659a9fa3bf577
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=220864 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "220864"
{ userid: '100333',
  name: '张麟华',
  roomid: '220864',
  sign: '24833b13c90572d62f2a6acd3ed45b78' }
24833b13c90572d62f2a6acd3ed45b78
SELECT gems FROM t_users WHERE userid = 100333
{ token: '324731cb1889ad7ef2ebc174f8ed2e8f',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "220864" WHERE userid = "100333"
220864
324731cb1889ad7ef2ebc174f8ed2e8f
1523679863267
509d760db058fa7168b32ff7a2a7c094
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=220864 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "220864"
{ userid: '100334',
  name: '群主',
  roomid: '220864',
  sign: '0cd022917f16c77ac7c487b72c9ed62b' }
0cd022917f16c77ac7c487b72c9ed62b
SELECT gems FROM t_users WHERE userid = 100334
{ token: '6e87990f2083de605362802cc5b2a62a',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "220864" WHERE userid = "100334"
220864
6e87990f2083de605362802cc5b2a62a
1523680017201
d1efbc43101e9c61b31f916f63087a98
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=220864 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "220864"
{ userid: '100390',
  name: '诠释',
  roomid: '220864',
  sign: '13d3bda4e2c4fd6875c7fe61a61ad994' }
13d3bda4e2c4fd6875c7fe61a61ad994
SELECT gems FROM t_users WHERE userid = 100390
{ token: 'dd5ab6fdbc1d79f0fd09cfb66d82efe9',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "220864" WHERE userid = "100390"
220864
dd5ab6fdbc1d79f0fd09cfb66d82efe9
1523680017673
d199fcdddc1db2c281b1cc175206c82c
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=220864 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "220864"
{ userid: '100335',
  name: '月光',
  roomid: '220864',
  sign: '0dd504186dc19da5f25a6f40f144e669' }
0dd504186dc19da5f25a6f40f144e669
SELECT gems FROM t_users WHERE userid = 100335
{ token: '58ae62864b6694c89a27ee998db6802f',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "220864" WHERE userid = "100335"
220864
58ae62864b6694c89a27ee998db6802f
1523680022306
187fb57e6e745ae5b1728857fbe84021
begin start==============220864
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
gang=============100333       7
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
game_action_push
[ 15, 14, 15, 25, 3, 4, 14, 15, 25, 5, 14 ]
do game over!
roomid :220864
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
ye shu = 9
UPDATE t_rooms SET next_button = 2 WHERE id = "220864"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523678996348220864',1,'{"type":"bymj","button":1,"index":1,"mahjongs":[10,9,26,5,0,19,14,19,10,32,7,29,27,2,15,4,2,33,8,31,28,13,29,12,20,23,3,28,24,22,3,25,17,16,7,7,3,17,24,26,27,12,18,33,20,1,32,14,20,8,14,15,32,23,23,10,13,27,29,15,21,17,13,15,30,11,31,25,1,32,6,12,12,33,22,26,9,23,3,14,0,18,6,8,30,5,5,18,1,11,21,7,30,5,2,13,27,16,22,2,16,11,8,28,10,0,0,24,21,21,6,25,1,31,25,4,18,16,9,30,20,19,6,4,29,19,31,22,33,11,26,17,4,28,24,9],"game_seats":[[5,19,29,4,31,12,28,25,7,26,33,14,15],[10,0,10,27,2,28,20,24,17,3,27,20,20,32],[9,19,32,2,33,13,23,22,16,17,12,1,8],[26,14,7,15,8,29,3,3,7,24,18,32,14]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[7,0,0,-7]' WHERE room_uuid = '1523678996348220864' AND game_index = 1
UPDATE t_games SET action_records = '[1,1,32,2,2,23,2,1,33,3,2,23,3,1,32,0,2,10,0,1,29,1,2,13,1,1,28,2,2,27,2,1,27,3,2,29,3,1,29,0,2,15,0,1,31,1,2,21,1,1,27,2,2,17,2,1,32,3,2,13,3,1,29,0,2,15,0,1,33,1,2,30,1,1,27,2,2,11,2,1,8,3,2,31,3,1,31,0,2,25,0,1,28,1,2,1,1,1,30,2,2,32,2,1,32,3,2,6,3,1,18,0,2,12,0,1,19,1,2,12,1,1,17,2,3,17,2,1,19,3,2,33,3,1,26,0,2,22,0,1,26,1,2,26,1,1,13,2,2,9,2,1,22,3,2,23,3,1,33,0,2,3,0,1,7,3,3,7,3,1,24,0,2,14,0,1,22,1,2,0,1,1,12,0,3,12,0,6,10,1,3,10,2,2,18,2,1,18,3,2,6,3,1,23,2,3,23,2,6,16,3,2,8,3,1,23,0,2,30,0,1,30,1,2,5,1,1,24,2,2,5,2,1,5,3,2,18,3,1,18,0,2,1,0,1,1,1,2,11,1,1,21,2,2,21,2,1,21,3,2,7,3,4,7,3,2,30,3,1,30,0,2,5,0,1,5,1,2,2,1,1,11,2,2,13,2,1,13,3,2,27,3,1,27,0,2,16,0,1,16,1,2,22,1,1,22,2,2,2,2,1,2,1,3,2,1,6,5,2,2,16,2,1,16,3,2,11,3,1,11,0,2,8,0,1,8,3,3,8,3,6,14,0,5,14]' WHERE room_uuid = '1523678996348220864' AND game_index = 1
UPDATE t_rooms SET num_of_turns = 2 WHERE id = "220864"
game_over_push
guo=================================100333
can't find user game data.
begin start==============220864
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
game_mopai_push
game_action_push
SELECT name,sex,headimg FROM t_users WHERE userid=100384
SELECT gems FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
game_mopai_push
game_action_push
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100384)  
2,null
++++++++++++++++++++++++++++++++++++
{"x":37.959644,"y":112.545062}
UPDATE t_users SET location='{"x":37.959644,"y":112.545062}' WHERE account='wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc'
game_mopai_push
game_action_push
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100384)  
2,null
game_mopai_push
game_action_push
++++++++++++++++++++++++++++++++++++
{"x":37.959644,"y":112.545062}
UPDATE t_users SET location='{"x":37.959644,"y":112.545062}' WHERE account='wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc'
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100384)  
2,null
++++++++++++++++++++++++++++++++++++
{"x":37.959644,"y":112.545062}
UPDATE t_users SET location='{"x":37.959644,"y":112.545062}' WHERE account='wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc'
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100384)  
2,null
++++++++++++++++++++++++++++++++++++
{"x":37.959644,"y":112.545062}
UPDATE t_users SET location='{"x":37.959644,"y":112.545062}' WHERE account='wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc'
game_mopai_push
game_action_push
++++++++++++++++++++++++++++++++++++
{"x":37.959644,"y":112.545062}
UPDATE t_users SET location='{"x":37.959644,"y":112.545062}' WHERE account='wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc'
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
SELECT history FROM t_users WHERE userid = "100384"
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
SELECT gems FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
game_mopai_push
game_action_push
SELECT gems FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
SELECT gems FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
game_mopai_push
game_action_push
game_action_push
SELECT last FROM t_users WHERE userid=100384
UPDATE t_users SET last='2018-04-14T04:33:08.291Z' WHERE userid=100384
UPDATE t_users SET gems = gems+1 WHERE userid = 100384
SELECT gems FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
SELECT history FROM t_users WHERE userid = "100384"
game_mopai_push
game_action_push
game_mopai_push
game_action_push
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100384)  
2,null
++++++++++++++++++++++++++++++++++++
{"x":37.959644,"y":112.545062}
UPDATE t_users SET location='{"x":37.959644,"y":112.545062}' WHERE account='wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc'
game_mopai_push
game_action_push
game_action_push
gang=============100390       13
game_mopai_push
game_action_push
game_mopai_push
game_action_push
guo=================================100335
{ game: 
   { conf: 
      { type: 'bymj',
        baseScore: '1',
        isBaoTing: false,
        maxGames: 4,
        creator: 100334,
        paytype: 1,
        cheat: false,
        daifeng: true,
        clubId: '' },
     roomInfo: 
      { uuid: '1523678996348220864',
        id: '220864',
        numOfGames: 3,
        createTime: 1523678997,
        nextButton: 2,
        seats: [Object],
        conf: [Object],
        gameMgr: [Object] },
     gameIndex: 2,
     button: 2,
     currentIndex: 91,
     gameSeats: [ [Object], [Object], [Circular], [Object] ],
     turn: 2,
     chuPai: -1,
     state: 'playing',
     firstHupai: -1,
     actionList: 
      [ 2,
        1,
        33,
        3,
        2,
        26,
        3,
        1,
        33,
        0,
        2,
        23,
        0,
        1,
        33,
        1,
        2,
        0,
        1,
        1,
        29,
        2,
        2,
        5,
        2,
        1,
        32,
        3,
        2,
        17,
        3,
        1,
        5,
        2,
        3,
        5,
        2,
        1,
        30,
        3,
        2,
        3,
        3,
        1,
        3,
        0,
        2,
        30,
        0,
        1,
        30,
        1,
        2,
        9,
        1,
        1,
        27,
        2,
        2,
        31,
        2,
        1,
        31,
        3,
        2,
        25,
        3,
        1,
        17,
        0,
        2,
        9,
        0,
        1,
        32,
        1,
        2,
        22,
        1,
        1,
        27,
        2,
        2,
        1,
        2,
        1,
        32,
        3,
        2,
        6,
        3,
        1,
        6,
        0,
        2,
        1,
        0,
        1,
        30,
        1,
        2,
        13,
        1,
        1,
        0,
        2,
        2,
        25,
        2,
        1,
        11,
        3,
        2,
        27,
        3,
        1,
        27,
        0,
        2,
        16,
        0,
        1,
        28,
        1,
        2,
        29,
        1,
        1,
        29,
        2,
        2,
        4,
        2,
        1,
        25,
        3,
        2,
        0,
        3,
        1,
        0,
        0,
        2,
        9,
        0,
        1,
        27,
        1,
        2,
        30,
        1,
        1,
        30,
        2,
        2,
        15,
        2,
        1,
        18,
        3,
        2,
        31,
        3,
        1,
        31,
        0,
        2,
        23,
        0,
        1,
        20,
        1,
        2,
        5,
        1,
        1,
        3,
        2,
        2,
        1,
        2,
        1,
        15,
        3,
        2,
        28,
        3,
        1,
        28,
        0,
        2,
        15,
        0,
        1,
        24,
        1,
        2,
        28,
        1,
        1,
        28,
        2,
        2,
        8,
        2,
        1,
        21,
        3,
        3,
        21,
        3,
        1,
        14,
        0,
        2,
        19,
        0,
        1,
        19,
        1,
        2,
        11,
        1,
        1,
        5,
        2,
        2,
        13,
        2,
        1,
        13,
        1,
        4,
        13,
        1,
        2,
        33,
        1,
        1,
        33,
        2,
        2,
        7 ],
     hupaiList: [],
     chupaiCnt: 40,
     mahjongs: 
      [ 7,
        21,
        28,
        22,
        8,
        22,
        10,
        9,
        5,
        14,
        20,
        13,
        7,
        18,
        24,
        27,
        21,
        22,
        30,
        19,
        32,
        11,
        4,
        6,
        19,
        26,
        14,
        15,
        30,
        10,
        12,
        23,
        32,
        21,
        2,
        3,
        7,
        5,
        3,
        13,
        6,
        20,
        32,
        27,
        33,
        16,
        27,
        29,
        18,
        33,
        33,
        20,
        11,
        26,
        23,
        0,
        5,
        17,
        3,
        30,
        9,
        31,
        25,
        9,
        22,
        1,
        6,
        1,
        13,
        25,
        27,
        16,
        29,
        4,
        0,
        9,
        30,
        15,
        31,
        23,
        5,
        1,
        28,
        15,
        28,
        8,
        19,
        11,
        13,
        33,
        7,
        20,
        19,
        12,
        14,
        12,
        31,
        1,
        6,
        26,
        24,
        17,
        18,
        24,
        8,
        4,
        8,
        29,
        28,
        16,
        17,
        12,
        10,
        2,
        29,
        24,
        14,
        2,
        25,
        18,
        11,
        4,
        25,
        17,
        0,
        15,
        0,
        16,
        3,
        31,
        32,
        10,
        2,
        26,
        23,
        21 ],
     baseInfoJson: '{"type":"bymj","button":2,"index":2,"mahjongs":[7,21,28,22,8,22,10,9,5,14,20,13,7,18,24,27,21,22,30,19,32,11,4,6,19,26,14,15,30,10,12,23,32,21,2,3,7,5,3,13,6,20,32,27,33,16,27,29,18,33,33,20,11,26,23,0,5,17,3,30,9,31,25,9,22,1,6,1,13,25,27,16,29,4,0,9,30,15,31,23,5,1,28,15,28,8,19,11,13,33,7,20,19,12,14,12,31,1,6,26,24,17,18,24,8,4,8,29,28,16,17,12,10,2,29,24,14,2,25,18,11,4,25,17,0,15,0,16,3,31,32,10,2,26,23,21],"game_seats":[[28,10,20,24,30,4,14,12,2,3,32,27,33],[22,9,13,27,19,6,15,23,3,13,27,29,20],[7,8,5,7,21,32,19,30,32,7,6,33,18,11],[21,22,14,18,22,11,26,10,21,5,20,16,33]]}',
     fangpaoshumu: 0,
     tinging: false,
     qiangGangContext: null },
  seatIndex: 2,
  userId: 100335,
  holds: [ 7, 1, 7, 8, 7, 1, 4, 6, 7, 8, 19 ],
  folds: [ 33, 32, 30, 31, 32, 11, 25, 18, 15 ],
  angangs: [],
  diangangs: [],
  wangangs: [],
  pengs: [ 5 ],
  duoyu: [],
  countMap: 
   { '0': 0,
     '1': 2,
     '2': 0,
     '3': 0,
     '4': 1,
     '5': 0,
     '6': 1,
     '7': 4,
     '8': 2,
     '9': 0,
     '10': 0,
     '11': 0,
     '12': 0,
     '13': 0,
     '14': 0,
     '15': 0,
     '16': 0,
     '17': 0,
     '18': 0,
     '19': 1,
     '20': 0,
     '21': 0,
     '22': 0,
     '23': 0,
     '24': 0,
     '25': 0,
     '26': 0,
     '30': 0,
     '31': 0,
     '32': 0,
     '33': 0 },
  tingMap: {},
  pattern: '',
  canGang: true,
  gangPai: [ 7 ],
  canPeng: false,
  canHu: false,
  canChuPai: true,
  canTing: false,
  tinged: false,
  guohu: false,
  hued: false,
  iszimo: false,
  dianpao: false,
  actions: [ { type: 'fanggang', targets: [Object] } ],
  score: 0,
  lastFangGangSeat: -1,
  numAnGang: 0,
  numMingGang: 0,
  gangfen: 0,
  hufen: 0 }
guo_result
true
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
gang=============100335       7
game_mopai_push
game_action_push
game_mopai_push
game_action_push
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100384)  
2,null
++++++++++++++++++++++++++++++++++++
{"x":37.959644,"y":112.545062}
UPDATE t_users SET location='{"x":37.959644,"y":112.545062}' WHERE account='wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc'
game_mopai_push
game_action_push
game_action_push
game_action_push
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100384)  
++++++++++++++++++++++++++++++++++++
{"x":37.959644,"y":112.545062}
UPDATE t_users SET location='{"x":37.959644,"y":112.545062}' WHERE account='wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111192 
game_mopai_push
game_action_push
game_mopai_push
game_action_push
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111192 )
DELETE  FROM  t_club WHERE ( club_id= 111192 ) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100384)  
2,null
++++++++++++++++++++++++++++++++++++
{"x":37.959644,"y":112.545062}
UPDATE t_users SET location='{"x":37.959644,"y":112.545062}' WHERE account='wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc'
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
[ 9, 3, 4, 9, 10, 12, 14, 15, 16, 2, 11 ]
do game over!
roomid :220864
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
ye shu = 8
UPDATE t_rooms SET next_button = 3 WHERE id = "220864"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523678996348220864',2,'{"type":"bymj","button":2,"index":2,"mahjongs":[7,21,28,22,8,22,10,9,5,14,20,13,7,18,24,27,21,22,30,19,32,11,4,6,19,26,14,15,30,10,12,23,32,21,2,3,7,5,3,13,6,20,32,27,33,16,27,29,18,33,33,20,11,26,23,0,5,17,3,30,9,31,25,9,22,1,6,1,13,25,27,16,29,4,0,9,30,15,31,23,5,1,28,15,28,8,19,11,13,33,7,20,19,12,14,12,31,1,6,26,24,17,18,24,8,4,8,29,28,16,17,12,10,2,29,24,14,2,25,18,11,4,25,17,0,15,0,16,3,31,32,10,2,26,23,21],"game_seats":[[28,10,20,24,30,4,14,12,2,3,32,27,33],[22,9,13,27,19,6,15,23,3,13,27,29,20],[7,8,5,7,21,32,19,30,32,7,6,33,18,11],[21,22,14,18,22,11,26,10,21,5,20,16,33]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[4,0,0,-4]' WHERE room_uuid = '1523678996348220864' AND game_index = 2
UPDATE t_games SET action_records = '[2,1,33,3,2,26,3,1,33,0,2,23,0,1,33,1,2,0,1,1,29,2,2,5,2,1,32,3,2,17,3,1,5,2,3,5,2,1,30,3,2,3,3,1,3,0,2,30,0,1,30,1,2,9,1,1,27,2,2,31,2,1,31,3,2,25,3,1,17,0,2,9,0,1,32,1,2,22,1,1,27,2,2,1,2,1,32,3,2,6,3,1,6,0,2,1,0,1,30,1,2,13,1,1,0,2,2,25,2,1,11,3,2,27,3,1,27,0,2,16,0,1,28,1,2,29,1,1,29,2,2,4,2,1,25,3,2,0,3,1,0,0,2,9,0,1,27,1,2,30,1,1,30,2,2,15,2,1,18,3,2,31,3,1,31,0,2,23,0,1,20,1,2,5,1,1,3,2,2,1,2,1,15,3,2,28,3,1,28,0,2,15,0,1,24,1,2,28,1,1,28,2,2,8,2,1,21,3,3,21,3,1,14,0,2,19,0,1,19,1,2,11,1,1,5,2,2,13,2,1,13,1,4,13,1,2,33,1,1,33,2,2,7,2,1,19,3,2,20,3,1,16,0,2,19,0,1,19,1,2,12,1,1,6,2,2,14,2,4,7,2,2,12,2,1,12,3,2,31,3,1,31,0,2,1,0,1,1,2,3,1,2,6,14,3,2,6,3,1,6,0,2,26,0,1,26,3,3,26,3,1,25,0,2,24,0,1,24,1,2,17,1,1,17,2,2,18,2,1,18,3,2,24,3,1,24,0,2,8,0,1,8,1,2,4,1,1,4,2,2,8,2,1,8,3,2,29,3,1,29,0,2,28,0,1,28,1,2,16,1,1,23,0,3,23,0,6,1,1,2,17,1,1,17,2,2,12,2,1,12,3,2,10,3,1,18,0,2,2,0,1,2,1,2,29,1,1,29,2,2,24,2,1,24,3,2,14,3,1,14,0,2,2,0,1,2,1,2,25,1,1,25,2,2,18,2,1,18,3,2,11,3,1,11,0,5,11]' WHERE room_uuid = '1523678996348220864' AND game_index = 2
UPDATE t_rooms SET num_of_turns = 3 WHERE id = "220864"
game_over_push
begin start==============220864
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
[ 3, 3, 13, 3, 10, 12, 13, 11 ]
do game over!
roomid :220864
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
ye shu = 11
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523678996348220864',3,'{"type":"bymj","button":3,"index":3,"mahjongs":[32,5,30,24,9,8,33,31,32,8,23,20,25,29,27,2,6,12,6,27,13,16,7,25,13,26,29,25,10,2,28,0,17,22,20,4,17,22,9,12,3,11,0,12,24,27,31,10,9,15,18,18,3,15,19,19,20,28,5,26,0,30,26,21,16,23,1,11,7,1,22,19,15,3,30,15,9,29,33,12,5,21,31,18,3,11,22,14,24,32,4,5,10,6,27,33,17,8,32,13,16,0,1,18,23,21,11,8,6,24,14,21,4,33,30,13,17,28,20,19,14,2,1,29,26,7,10,2,7,23,4,28,14,16,31,25],"game_seats":[[5,8,8,29,12,16,26,2,22,22,11,27,15],[30,33,23,27,6,7,29,28,20,9,0,31,18],[24,31,20,2,27,25,25,0,4,12,12,10,18],[32,9,32,25,6,13,13,10,17,17,3,24,9,3]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[0,-15,0,15]' WHERE room_uuid = '1523678996348220864' AND game_index = 3
UPDATE t_games SET action_records = '[3,1,32,0,2,15,0,1,29,1,2,19,1,1,33,2,2,19,2,1,31,3,2,20,3,1,32,0,2,28,0,1,28,1,2,5,1,1,31,2,2,26,2,1,27,3,2,0,3,1,20,0,2,30,0,1,30,1,2,26,1,1,30,2,2,21,2,1,10,3,2,16,3,1,0,0,2,23,0,1,27,1,2,1,1,1,29,2,2,11,2,1,0,3,2,7,3,1,25,2,3,25,2,1,2,3,2,1,3,1,1,0,2,22,0,1,26,1,2,19,1,1,28,2,2,15,2,1,4,3,2,3,3,1,24,0,2,30,0,1,30,1,2,15,1,1,27,2,2,9,2,1,15,0,3,15,0,1,2,1,2,29,1,1,29,2,2,33,2,1,33,3,2,12,3,1,6,0,2,5,0,1,23,1,2,21,1,1,15,2,2,31,2,1,31,3,2,18,3,1,18,0,2,3,0,1,22,1,2,11,1,1,9,3,3,9,3,1,7,0,2,22,0,1,22,1,2,14,1,1,11,2,2,24,2,1,9,3,2,32,3,1,32,0,2,4,0,1,22,1,2,5,1,1,14,2,2,10,2,1,12,3,2,6,3,1,6,0,2,27,0,1,22,1,2,33,1,1,33,2,2,17,2,1,17,3,3,17,3,6,16,0,2,8,0,1,27,1,2,32,1,1,32,2,2,13,2,1,13,3,2,16,3,1,16,0,2,0,0,1,16,1,2,1,1,1,26,2,2,18,2,6,26,3,2,23,3,1,23,0,2,21,0,1,21,1,2,11,1,1,11,3,5,11]' WHERE room_uuid = '1523678996348220864' AND game_index = 3
UPDATE t_rooms SET num_of_turns = 4 WHERE id = "220864"
game_over_push
SELECT history FROM t_users WHERE userid = "100334"
SELECT history FROM t_users WHERE userid = "100390"
SELECT history FROM t_users WHERE userid = "100335"
SELECT history FROM t_users WHERE userid = "100333"
UPDATE t_users SET roomid = null WHERE userid = "100334"
UPDATE t_users SET roomid = null WHERE userid = "100390"
UPDATE t_users SET roomid = null WHERE userid = "100335"
UPDATE t_users SET roomid = null WHERE userid = "100333"
DELETE FROM t_rooms WHERE id = '220864'
INSERT INTO t_games_archive(SELECT * FROM t_games WHERE room_uuid = '1523678996348220864')
2940
UPDATE t_users SET roomid = null, history = '[{"uuid":"1522573240810185266","id":"185266","time":1522573241,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":30},{"userid":100340,"name":"6Im+5qC86YeR5aaN5re66ZmM5Yid5b+D","score":27},{"userid":100357,"name":"5am35YS/","score":-15},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-42}]},{"uuid":"1522574109587388660","id":"388660","time":1522574110,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-29},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":11},{"userid":100357,"name":"5am35YS/","score":23},{"userid":100340,"name":"6Im+5qC86YeR5aaN5re66ZmM5Yid5b+D","score":-5}]},{"uuid":"1522575253083381504","id":"381504","time":1522575254,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":16},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100357,"name":"5am35YS/","score":45},{"userid":100340,"name":"6Im+5qC86YeR5aaN5re66ZmM5Yid5b+D","score":-38}]},{"uuid":"1522674632945516960","id":"516960","time":1522674633,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-38},{"userid":100355,"name":"6ZW/5a2Z6ZuA5Zyj","score":-39},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-63},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":140}]},{"uuid":"1522675431210706479","id":"706479","time":1522675432,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":0},{"userid":100355,"name":"6ZW/5a2Z6ZuA5Zyj","score":0},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":0},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":0}]},{"uuid":"1523627417627130382","id":"130382","time":1523627418,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-7},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-10},{"userid":100381,"name":"5pif54Gr","score":4},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":13}]},{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523678996348220864","id":"220864","time":1523678997,"seats":[{"userid":100334,"name":"576k5Li7","score":6},{"userid":100390,"name":"6K+g6YeK","score":-2},{"userid":100335,"name":"5pyI5YWJ","score":-4},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]}]' WHERE userid = "100334"
UPDATE t_users SET roomid = null, history = '[{"uuid":"1523678996348220864","id":"220864","time":1523678997,"seats":[{"userid":100334,"name":"576k5Li7","score":6},{"userid":100390,"name":"6K+g6YeK","score":-2},{"userid":100335,"name":"5pyI5YWJ","score":-4},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]}]' WHERE userid = "100390"
2940
UPDATE t_users SET roomid = null, history = '[{"uuid":"1522573240810185266","id":"185266","time":1522573241,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":30},{"userid":100340,"name":"6Im+5qC86YeR5aaN5re66ZmM5Yid5b+D","score":27},{"userid":100357,"name":"5am35YS/","score":-15},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-42}]},{"uuid":"1522574109587388660","id":"388660","time":1522574110,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-29},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":11},{"userid":100357,"name":"5am35YS/","score":23},{"userid":100340,"name":"6Im+5qC86YeR5aaN5re66ZmM5Yid5b+D","score":-5}]},{"uuid":"1522575253083381504","id":"381504","time":1522575254,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":16},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100357,"name":"5am35YS/","score":45},{"userid":100340,"name":"6Im+5qC86YeR5aaN5re66ZmM5Yid5b+D","score":-38}]},{"uuid":"1522674632945516960","id":"516960","time":1522674633,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-38},{"userid":100355,"name":"6ZW/5a2Z6ZuA5Zyj","score":-39},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-63},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":140}]},{"uuid":"1522675431210706479","id":"706479","time":1522675432,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":0},{"userid":100355,"name":"6ZW/5a2Z6ZuA5Zyj","score":0},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":0},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":0}]},{"uuid":"1523627417627130382","id":"130382","time":1523627418,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-7},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-10},{"userid":100381,"name":"5pif54Gr","score":4},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":13}]},{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523678996348220864","id":"220864","time":1523678997,"seats":[{"userid":100334,"name":"576k5Li7","score":6},{"userid":100390,"name":"6K+g6YeK","score":-2},{"userid":100335,"name":"5pyI5YWJ","score":-4},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]}]' WHERE userid = "100335"
UPDATE t_users SET roomid = null, history = '[{"uuid":"1523678996348220864","id":"220864","time":1523678997,"seats":[{"userid":100334,"name":"576k5Li7","score":6},{"userid":100390,"name":"6K+g6YeK","score":-2},{"userid":100335,"name":"5pyI5YWJ","score":-4},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]}]' WHERE userid = "100333"
DELETE FROM t_games WHERE room_uuid = '1523678996348220864'
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT gems FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
++++++++++++++++++++++++++++++++++++
{"x":35.620775,"y":111.368219}
UPDATE t_users SET location='{"x":35.620775,"y":111.368219}' WHERE account='wx_omM_A1NOMusnf4LKbEoKtDCDpKv0'
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100333)  
2,null
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100390)  
2,null
++++++++++++++++++++++++++++++++++++
{"x":35.62077528211805,"y":111.3682191297743}
UPDATE t_users SET location='{"x":35.62077528211805,"y":111.3682191297743}' WHERE account='wx_omM_A1NOMusnf4LKbEoKtDCDpKv0'
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100335)  
++++++++++++++++++++++++++++++++++++
{"x":35.620746,"y":111.3682}
UPDATE t_users SET location='{"x":35.620746,"y":111.3682}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
INSERT INTO  t_relation (user_id,club_id) VALUES( 100333 , 111191 ) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100333)  
INSERT INTO  t_relation (user_id,club_id) VALUES( 100390 , 111191 ) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100390)  
++++++++++++++++++++++++++++++++++++
{"x":35.620707465277775,"y":111.36825303819444}
UPDATE t_users SET location='{"x":35.620707465277775,"y":111.36825303819444}' WHERE account='wx_omM_A1NOMusnf4LKbEoKtDCDpKv0'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100334)  
2,null
++++++++++++++++++++++++++++++++++++
{"x":35.620705,"y":111.368285}
UPDATE t_users SET location='{"x":35.620705,"y":111.368285}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
INSERT INTO  t_relation (user_id,club_id) VALUES( 100334 , 111191 ) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100334)  
++++++++++++++++++++++++++++++++++++
{"x":35.620705,"y":111.368285}
UPDATE t_users SET location='{"x":35.620705,"y":111.368285}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
{ account: 'wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc',
  sign: 'ff2f9ddfc830c2c1ad6e0a9f19303583',
  conf: '{"wanfaxuanze":1,"jinfengding":0,"xuanzejushu":0,"paytype":1,"iplimit":0,"difen":1,"jinfen":2,"cheat":1,"clubId":111191,"type":"djmj"}' }
conf is{"wanfaxuanze":1,"jinfengding":0,"xuanzejushu":0,"paytype":1,"iplimit":0,"difen":1,"jinfen":2,"cheat":1,"clubId":111191,"type":"djmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100335"
club_id is111191
{ type: 'djmj',
  baseScore: 1,
  jinfen: 2,
  kunjin: false,
  jinfengding: 2,
  maxGames: 4,
  creator: 100335,
  paytype: 1,
  cheat: false,
  clubId: 111191 }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523681648421409120','409120','{"type":"djmj","baseScore":1,"jinfen":2,"kunjin":false,"jinfengding":2,"maxGames":4,"creator":100335,"paytype":1,"cheat":false,"clubId":111191}','127.0.0.1',10000,1523681649,100335,1,'111191')
1523681648421409120
SELECT ip,port FROM t_rooms WHERE id = "409120"
{ userid: '100335',
  name: '月光',
  roomid: '409120',
  sign: '7a2a8cf0909ea411a96cbefc23cc7dff' }
7a2a8cf0909ea411a96cbefc23cc7dff
SELECT gems FROM t_users WHERE userid = 100335
UPDATE t_rooms SET user_id0 = 100335,user_icon0 = "",user_name0 = "5pyI5YWJ" WHERE id = "409120"
{ token: '26e3258be8c9dcd403337bf98f6c85a3',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "409120" WHERE userid = "100335"
409120
26e3258be8c9dcd403337bf98f6c85a3
1523681648442
deec351f9799cd88e5f748eb3bb625db
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=409120 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "409120"
{ userid: '100333',
  name: '张麟华',
  roomid: '409120',
  sign: 'ad40e77e9502e0860a7f0a3c6cad2b61' }
ad40e77e9502e0860a7f0a3c6cad2b61
SELECT gems FROM t_users WHERE userid = 100333
UPDATE t_rooms SET user_id1 = 100333,user_icon1 = "",user_name1 = "5byg6bqf5Y2O" WHERE id = "409120"
{ token: '367e19ff611698b654c3d18cc61249e4',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "409120" WHERE userid = "100333"
409120
367e19ff611698b654c3d18cc61249e4
1523681658740
828103df499f9f3d4c71c7b49537fab4
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=409120 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "409120"
{ userid: '100390',
  name: '诠释',
  roomid: '409120',
  sign: '99333039548cf549325a02d2ba1e74cd' }
99333039548cf549325a02d2ba1e74cd
SELECT gems FROM t_users WHERE userid = 100390
UPDATE t_rooms SET user_id2 = 100390,user_icon2 = "",user_name2 = "6K+g6YeK" WHERE id = "409120"
{ token: 'ef0a30916bdefb7b4505f04331ccea4d',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "409120" WHERE userid = "100390"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=409120 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "409120"
{ userid: '100334',
  name: '群主',
  roomid: '409120',
  sign: '6f562135ecf6f7cd36a8cbbb9d98f3ee' }
6f562135ecf6f7cd36a8cbbb9d98f3ee
SELECT gems FROM t_users WHERE userid = 100334
UPDATE t_rooms SET user_id3 = 100334,user_icon3 = "",user_name3 = "576k5Li7" WHERE id = "409120"
{ token: '05c552b44f7d5437521262c6d13f191d',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "409120" WHERE userid = "100334"
409120
ef0a30916bdefb7b4505f04331ccea4d
1523681661604
20fc10063228527c73ba28afbe665781
409120
05c552b44f7d5437521262c6d13f191d
1523681661700
c980e19fcea53548db4ea0a62f113a40
begin start==============409120
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 4
game_action_push
begin end=================
chupai=========================100335 27
game_mopai_push
{}
Targert is 18
game_action_push
chupai=========================100333 33
game_mopai_push
{}
Targert is 31
game_action_push
chupai=========================100390 31
game_mopai_push
{}
Targert is 26
game_action_push
chupai=========================100334 29
game_mopai_push
{}
Targert is 24
game_action_push
chupai=========================100335 13
game_mopai_push
{}
Targert is 6
game_action_push
chupai=========================100333 31
game_mopai_push
{}
Targert is 25
game_action_push
chupai=========================100390 33
game_mopai_push
{}
Targert is 15
game_action_push
chupai=========================100334 33
game_mopai_push
{}
Targert is 21
game_action_push
chupai=========================100335 17
game_mopai_push
{}
Targert is 0
game_action_push
chupai=========================100333 30
game_mopai_push
{}
Targert is 0
game_action_push
chupai=========================100390 32
game_mopai_push
{}
Targert is 21
game_action_push
chupai=========================100334 18
game_mopai_push
{}
Targert is 20
game_action_push
chupai=========================100335 9
game_mopai_push
{}
Targert is 1
game_action_push
chupai=========================100333 28
game_mopai_push
{}
Targert is 30
game_action_push
chupai=========================100390 30
game_mopai_push
{}
Targert is 29
game_action_push
chupai=========================100334 29
game_mopai_push
{}
Targert is 23
game_action_push
chupai=========================100335 7
game_mopai_push
{}
Targert is 2
game_action_push
chupai=========================100333 16
game_mopai_push
{}
Targert is 1
game_action_push
chupai=========================100390 9
game_mopai_push
{}
Targert is 30
game_action_push
chupai=========================100334 30
game_mopai_push
{}
Targert is 31
game_action_push
chupai=========================100335 31
game_mopai_push
{ '5': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 } }
Targert is 2
game_action_push
gang=============100333       2
game_mopai_push
{}
Targert is 9
game_action_push
gang end===================
chupai=========================100333 9
game_mopai_push
{}
Targert is 14
game_action_push
chupai=========================100390 0
game_mopai_push
{}
Targert is 6
game_action_push
chupai=========================100334 4
game_mopai_push
{}
Targert is 5
game_action_push
chupai=========================100335 20
game_mopai_push
{}
Targert is 11
game_action_push
chupai=========================100333 11
game_mopai_push
{}
Targert is 30
game_action_push
chupai=========================100390 30
game_mopai_push
{}
Targert is 11
game_action_push
chupai=========================100334 11
game_mopai_push
{ '21': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 } }
Targert is 10
game_action_push
chupai=========================100335 10
game_mopai_push
{}
Targert is 17
game_action_push
chupai=========================100333 17
game_mopai_push
{}
Targert is 16
game_action_push
chupai=========================100390 3
game_mopai_push
{}
Targert is 9
game_action_push
chupai=========================100334 9
game_mopai_push
{ '21': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 } }
Targert is 4
game_action_push
chupai=========================100335 4
game_mopai_push
{}
Targert is 25
game_action_push
chupai=========================100333 1
game_action_push
chupai=========================100390 10
game_mopai_push
{}
Targert is 22
game_action_push
chupai=========================100334 25
game_mopai_push
{ '21': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 } }
Targert is 5
game_action_push
chupai=========================100335 5
game_mopai_push
{}
Targert is 32
game_action_push
chupai=========================100333 0
game_mopai_push
{}
Targert is 0
game_action_push
chupai=========================100390 0
game_mopai_push
{}
Targert is 19
game_action_push
chupai=========================100334 19
game_mopai_push
{ '21': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 } }
Targert is 26
game_action_push
chupai=========================100335 26
game_action_push
chupai=========================100334 22
game_action_push
guo=================================100335
guo_result
game_mopai_push
{ '21': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 } }
Targert is 12
game_action_push
guo end=============================
chupai=========================100335 12
game_mopai_push
{}
Targert is 21
game_action_push
chupai=========================100333 32
game_mopai_push
{}
Targert is 32
game_action_push
chupai=========================100390 32
game_mopai_push
{ '13': { pattern: 'normal', fan: 0 },
  '16': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 } }
Targert is 29
game_action_push
chupai=========================100334 29
game_mopai_push
{ '21': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 } }
Targert is 19
game_action_push
chupai=========================100335 22
game_mopai_push
{ '5': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 } }
Targert is 29
game_action_push
chupai=========================100333 29
game_mopai_push
{}
Targert is 13
game_action_push
chupai=========================100390 12
game_mopai_push
{ '13': { pattern: 'normal', fan: 0 },
  '16': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 } }
Targert is 31
game_action_push
chupai=========================100334 31
game_mopai_push
{ '18': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 } }
Targert is 12
game_action_push
chupai=========================100335 12
game_mopai_push
{ '5': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 } }
Targert is 1
game_action_push
chupai=========================100333 1
game_mopai_push
{}
Targert is 12
game_action_push
chupai=========================100390 12
game_mopai_push
{ '13': { pattern: 'normal', fan: 0 },
  '16': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 } }
Targert is 20
kunjin:  false
game_action_push
guo=================================100334
guo_result
chupai=========================100334 20
game_mopai_push
{ '18': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 } }
Targert is 18
kunjin:  false
game_action_push
hu==========================100335
do game over!
roomid :409120
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
normal
Missing error handler on `socket`.
TypeError: Cannot read property 'length' of undefined
    at calculateResult (/root/server0413/game_server/gamemgr_sjmj.js:636:42)
    at doGameOver (/root/server0413/game_server/gamemgr_sjmj.js:741:13)
    at Object.exports.hu (/root/server0413/game_server/gamemgr_sjmj.js:1675:5)
    at Socket.<anonymous> (/root/server0413/game_server/socket_service.js:204:19)
    at emitOne (events.js:77:13)
    at Socket.emit (events.js:169:7)
    at Socket.onevent (/root/server0413/node_modules/socket.io/lib/socket.js:335:8)
    at Socket.onpacket (/root/server0413/node_modules/socket.io/lib/socket.js:295:12)
    at Client.ondecoded (/root/server0413/node_modules/socket.io/lib/client.js:193:14)
    at Decoder.Emitter.emit (/root/server0413/node_modules/socket.io/node_modules/socket.io-parser/node_modules/component-emitter/index.js:134:20)
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=409120 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "409120"
{ userid: '100335',
  name: '月光',
  roomid: '409120',
  sign: '7a2a8cf0909ea411a96cbefc23cc7dff' }
7a2a8cf0909ea411a96cbefc23cc7dff
SELECT gems FROM t_users WHERE userid = 100335
{ token: '399b36daf4dd14f7ec0eb13238b6aada',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "409120" WHERE userid = "100335"
409120
399b36daf4dd14f7ec0eb13238b6aada
1523681878662
64e5bf964c2a07129bbed34ab155e162
game_sync_push
game_action_push
1
5
6
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT name,sex,headimg FROM t_users WHERE userid=100333
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=409120 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "409120"
{ userid: '100333',
  name: '张麟华',
  roomid: '409120',
  sign: 'ad40e77e9502e0860a7f0a3c6cad2b61' }
ad40e77e9502e0860a7f0a3c6cad2b61
SELECT gems FROM t_users WHERE userid = 100333
{ token: '886d0fb8d0193db6e0707d9bfc95e75e',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "409120" WHERE userid = "100333"
409120
886d0fb8d0193db6e0707d9bfc95e75e
1523681947922
b4d71129173b4b67cafcc380a470b749
game_sync_push
game_action_push
dissolve_notice_push
SELECT name,sex,headimg FROM t_users WHERE userid=100390
SELECT name,sex,headimg FROM t_users WHERE userid=100334
SELECT name,sex,headimg FROM t_users WHERE userid=100335
do game over!
roomid :409120
roomInfo:[object Object]
forceEnd :true
game_over_push
UPDATE t_users SET roomid = null WHERE userid = "100335"
UPDATE t_users SET roomid = null WHERE userid = "100333"
UPDATE t_users SET roomid = null WHERE userid = "100390"
UPDATE t_users SET roomid = null WHERE userid = "100334"
DELETE FROM t_rooms WHERE id = '409120'
INSERT INTO t_games_archive(SELECT * FROM t_games WHERE room_uuid = '1523681648421409120')
DELETE FROM t_games WHERE room_uuid = '1523681648421409120'
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100333)  
++++++++++++++++++++++++++++++++++++
{"x":35.621894,"y":111.368033}
UPDATE t_users SET location='{"x":35.621894,"y":111.368033}' WHERE account='wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg'
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100390)  
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100334)  
++++++++++++++++++++++++++++++++++++
{"x":35.62071940104167,"y":111.36825819227431}
UPDATE t_users SET location='{"x":35.62071940104167,"y":111.36825819227431}' WHERE account='wx_omM_A1NOMusnf4LKbEoKtDCDpKv0'
++++++++++++++++++++++++++++++++++++
{"x":35.620739,"y":111.368275}
UPDATE t_users SET location='{"x":35.620739,"y":111.368275}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
{ account: 'wx_omM_A1EAhZ8maByl3fRKpMyAO2qo',
  sign: '38f00e0423bfdce4b03e4166b588f50b',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":1,"iplimit":0,"difen":1,"jinfen":2,"cheat":1,"clubId":111191,"type":"djmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":1,"iplimit":0,"difen":1,"jinfen":2,"cheat":1,"clubId":111191,"type":"djmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100334"
club_id is111191
{ type: 'djmj',
  baseScore: 1,
  jinfen: 2,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100334,
  paytype: 1,
  cheat: false,
  clubId: 111191 }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523682012709451410','451410','{"type":"djmj","baseScore":1,"jinfen":2,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100334,"paytype":1,"cheat":false,"clubId":111191}','127.0.0.1',10000,1523682013,100334,1,'111191')
1523682012709451410
SELECT ip,port FROM t_rooms WHERE id = "451410"
{ userid: '100334',
  name: '群主',
  roomid: '451410',
  sign: 'db15eae4e3f28709a3dfe8172926bff3' }
db15eae4e3f28709a3dfe8172926bff3
SELECT gems FROM t_users WHERE userid = 100334
UPDATE t_rooms SET user_id0 = 100334,user_icon0 = "",user_name0 = "576k5Li7" WHERE id = "451410"
{ token: '2b9bcefeebfd3553ed244a0e34831b59',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "451410" WHERE userid = "100334"
451410
2b9bcefeebfd3553ed244a0e34831b59
1523682012723
bfd03c7f77c32fde41b7e670f5dcc764
++++++++++++++++++++++++++++++++++++
{"x":35.620738,"y":111.368249}
UPDATE t_users SET location='{"x":35.620738,"y":111.368249}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100335)  
++++++++++++++++++++++++++++++++++++
{"x":35.620738,"y":111.368249}
UPDATE t_users SET location='{"x":35.620738,"y":111.368249}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=451410 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "451410"
{ userid: '100335',
  name: '月光',
  roomid: '451410',
  sign: '08603f4239a7b231a37696f6b1964c6f' }
08603f4239a7b231a37696f6b1964c6f
SELECT gems FROM t_users WHERE userid = 100335
UPDATE t_rooms SET user_id1 = 100335,user_icon1 = "",user_name1 = "5pyI5YWJ" WHERE id = "451410"
{ token: 'cd13ff239a54b164a0d526ace7a6532b',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "451410" WHERE userid = "100335"
451410
cd13ff239a54b164a0d526ace7a6532b
1523682027092
d7fa0f14c1566bccb808d81b1b31f294
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=451410 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "451410"
{ userid: '100333',
  name: '张麟华',
  roomid: '451410',
  sign: '2f816e0ddcffc8a2064bbde565aa4880' }
2f816e0ddcffc8a2064bbde565aa4880
SELECT gems FROM t_users WHERE userid = 100333
UPDATE t_rooms SET user_id2 = 100333,user_icon2 = "",user_name2 = "5byg6bqf5Y2O" WHERE id = "451410"
{ token: '500859d3155ff61ee21fe51c1f18710a',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "451410" WHERE userid = "100333"
451410
500859d3155ff61ee21fe51c1f18710a
1523682104960
52531cd79afdad3aa4fdc40014ca4cd9
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=451410 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "451410"
{ userid: '100390',
  name: '诠释',
  roomid: '451410',
  sign: 'ade20d67f5d2a9f40a5b5a12934ff0ad' }
ade20d67f5d2a9f40a5b5a12934ff0ad
SELECT gems FROM t_users WHERE userid = 100390
UPDATE t_rooms SET user_id3 = 100390,user_icon3 = "",user_name3 = "6K+g6YeK" WHERE id = "451410"
{ token: '5975d664d29bde41c033a856fbceb1da',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "451410" WHERE userid = "100390"
451410
5975d664d29bde41c033a856fbceb1da
1523682148906
8439404dfd83940cd2e7f5660e46b11b
begin start==============451410
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 18
game_action_push
begin end=================
chupai=========================100334 33
game_mopai_push
{}
Targert is 7
game_action_push
chupai=========================100335 30
game_mopai_push
{}
Targert is 31
game_action_push
chupai=========================100333 33
game_mopai_push
{}
Targert is 7
game_action_push
chupai=========================100390 33
game_mopai_push
{}
Targert is 26
game_action_push
chupai=========================100334 31
game_action_push
chupai=========================100333 27
game_mopai_push
{}
Targert is 1
game_action_push
chupai=========================100390 7
game_mopai_push
{}
Targert is 22
game_action_push
chupai=========================100334 0
game_mopai_push
{}
Targert is 10
game_action_push
chupai=========================100335 8
game_mopai_push
{}
Targert is 21
game_action_push
chupai=========================100333 29
game_mopai_push
{}
Targert is 11
game_action_push
chupai=========================100390 29
game_mopai_push
{}
Targert is 4
game_action_push
chupai=========================100334 10
game_mopai_push
{}
Targert is 31
game_action_push
chupai=========================100335 31
game_mopai_push
{}
Targert is 1
game_action_push
chupai=========================100333 18
game_mopai_push
{}
Targert is 11
game_action_push
chupai=========================100390 18
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100334 8
game_mopai_push
{}
Targert is 9
game_action_push
chupai=========================100335 32
game_mopai_push
{}
Targert is 3
game_action_push
chupai=========================100333 10
game_mopai_push
{}
Targert is 30
game_action_push
chupai=========================100390 30
game_mopai_push
{}
Targert is 23
game_action_push
chupai=========================100334 17
game_mopai_push
{}
Targert is 16
game_action_push
chupai=========================100335 28
game_mopai_push
{}
Targert is 15
game_action_push
chupai=========================100333 15
game_mopai_push
{}
Targert is 12
game_action_push
chupai=========================100390 22
game_mopai_push
{}
Targert is 23
game_action_push
chupai=========================100334 15
game_mopai_push
{}
Targert is 29
game_action_push
chupai=========================100335 29
game_mopai_push
{}
Targert is 29
game_action_push
chupai=========================100333 29
game_mopai_push
{}
Targert is 26
game_action_push
chupai=========================100390 26
game_mopai_push
{}
Targert is 17
game_action_push
chupai=========================100334 17
game_mopai_push
{}
Targert is 21
game_action_push
chupai=========================100335 5
game_mopai_push
{}
Targert is 0
game_action_push
chupai=========================100333 14
game_mopai_push
{}
Targert is 25
game_action_push
chupai=========================100390 25
game_action_push
chupai=========================100334 26
game_mopai_push
{}
Targert is 19
game_action_push
chupai=========================100335 26
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 } }
Targert is 13
game_action_push
chupai=========================100333 13
game_mopai_push
{}
Targert is 24
game_action_push
chupai=========================100390 24
game_mopai_push
{}
Targert is 5
game_action_push
chupai=========================100334 5
game_mopai_push
{}
Targert is 17
game_action_push
chupai=========================100335 7
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 } }
Targert is 15
game_action_push
chupai=========================100333 15
game_mopai_push
{}
Targert is 2
game_action_push
chupai=========================100390 6
game_mopai_push
{}
Targert is 6
game_action_push
chupai=========================100334 6
game_mopai_push
{}
Targert is 14
game_action_push
chupai=========================100335 17
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 } }
Targert is 2
game_action_push
chupai=========================100333 2
game_mopai_push
{ '7': { pattern: 'normal', fan: 0 },
  '10': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 } }
Targert is 11
game_action_push
chupai=========================100390 10
game_mopai_push
{}
Targert is 4
game_action_push
chupai=========================100334 4
game_mopai_push
{}
Targert is 7
game_action_push
chupai=========================100335 23
game_action_push
chupai=========================100334 24
game_mopai_push
{}
Targert is 17
game_action_push
chupai=========================100335 17
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 } }
Targert is 15
game_action_push
chupai=========================100333 15
game_mopai_push
{ '1': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 },
  '12': { pattern: 'normal', fan: 0 } }
Targert is 28
game_action_push
chupai=========================100390 28
game_mopai_push
{}
Targert is 27
game_action_push
chupai=========================100334 27
game_mopai_push
{}
Targert is 13
game_action_push
chupai=========================100335 10
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 } }
Targert is 3
game_action_push
chupai=========================100333 3
game_mopai_push
{ '1': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 },
  '12': { pattern: 'normal', fan: 0 } }
Targert is 32
game_action_push
chupai=========================100390 32
game_mopai_push
{}
Targert is 4
game_action_push
chupai=========================100334 4
game_mopai_push
{ '7': { fan: 2, pattern: '7pairs' },
  '14': { fan: 2, pattern: '7pairs' },
  '21': { fan: 2, pattern: '7pairs' } }
Targert is 28
game_action_push
chupai=========================100335 14
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 } }
Targert is 30
game_action_push
chupai=========================100333 30
game_mopai_push
{ '1': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 },
  '12': { pattern: 'normal', fan: 0 } }
Targert is 13
game_action_push
chupai=========================100390 13
game_action_push
guo=================================100335
guo_result
game_mopai_push
{}
Targert is 12
game_action_push
guo end=============================
chupai=========================100334 12
game_action_push
chupai=========================100390 1
game_mopai_push
{}
Targert is 0
game_action_push
chupai=========================100334 0
game_action_push
guo=================================100333
guo_result
game_mopai_push
{ '7': { fan: 2, pattern: '7pairs' },
  '21': { fan: 2, pattern: '7pairs' },
  '28': { fan: 2, pattern: '7pairs' } }
Targert is 12
game_action_push
guo end=============================
chupai=========================100335 12
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 } }
Targert is 27
game_action_push
chupai=========================100333 27
game_mopai_push
{ '1': { pattern: 'normal', fan: 0 },
  '4': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 } }
Targert is 21
game_action_push
chupai=========================100390 21
game_mopai_push
{}
Targert is 27
game_action_push
chupai=========================100334 27
game_mopai_push
{ '7': { fan: 2, pattern: '7pairs' },
  '21': { fan: 2, pattern: '7pairs' },
  '28': { fan: 2, pattern: '7pairs' } }
Targert is 11
game_action_push
chupai=========================100335 11
game_action_push
gang=============100390       11
game_mopai_push
{ '1': { pattern: 'normal', fan: 0 },
  '4': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 } }
Targert is 16
game_action_push
gang end===================
chupai=========================100390 16
game_action_push
guo=================================100335
guo_result
game_mopai_push
{}
Targert is 8
game_action_push
guo end=============================
chupai=========================100334 8
game_mopai_push
{ '7': { fan: 2, pattern: '7pairs' },
  '21': { fan: 2, pattern: '7pairs' },
  '28': { fan: 2, pattern: '7pairs' } }
Targert is 9
game_action_push
chupai=========================100335 9
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 } }
Targert is 22
game_action_push
chupai=========================100333 22
game_mopai_push
{ '1': { pattern: 'normal', fan: 0 },
  '4': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 } }
Targert is 19
game_action_push
chupai=========================100390 19
game_action_push
guo=================================100335
guo_result
game_mopai_push
{}
Targert is 2
game_action_push
guo end=============================
chupai=========================100334 2
game_mopai_push
{ '7': { fan: 2, pattern: '7pairs' },
  '21': { fan: 2, pattern: '7pairs' },
  '28': { fan: 2, pattern: '7pairs' } }
Targert is 20
game_action_push
chupai=========================100335 20
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 } }
Targert is 9
game_action_push
chupai=========================100333 9
game_action_push
guo=================================100335
guo_result
game_mopai_push
{ '1': { pattern: 'normal', fan: 0 },
  '4': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 } }
Targert is 1
kunjin:  true
isMojin: true
isDajin: true
game_action_push
guo end=============================
guo=================================100390
guo_result
chupai=========================100390 1
game_mopai_push
{}
Targert is 32
game_action_push
chupai=========================100334 32
game_mopai_push
{ '7': { fan: 2, pattern: '7pairs' },
  '21': { fan: 2, pattern: '7pairs' },
  '28': { fan: 2, pattern: '7pairs' } }
Targert is 3
game_action_push
chupai=========================100335 3
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 } }
Targert is 16
game_action_push
chupai=========================100333 16
game_action_push
guo=================================100335
guo_result
game_mopai_push
{ '1': { pattern: 'normal', fan: 0 },
  '4': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 } }
Targert is 7
kunjin:  true
isMojin: true
isDajin: true
game_action_push
guo end=============================
guo=================================100390
guo_result
chupai=========================100390 7
game_mopai_push
{}
Targert is 33
game_action_push
chupai=========================100334 33
game_mopai_push
{ '7': { fan: 2, pattern: '7pairs' },
  '21': { fan: 2, pattern: '7pairs' },
  '28': { fan: 2, pattern: '7pairs' } }
Targert is 14
game_action_push
chupai=========================100335 14
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 } }
Targert is 32
game_action_push
chupai=========================100333 32
game_mopai_push
{ '1': { pattern: 'normal', fan: 0 },
  '4': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 } }
Targert is 30
game_action_push
chupai=========================100390 30
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100334 8
game_mopai_push
{ '7': { fan: 2, pattern: '7pairs' },
  '21': { fan: 2, pattern: '7pairs' },
  '28': { fan: 2, pattern: '7pairs' } }
Targert is 24
game_action_push
chupai=========================100335 21
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 } }
Targert is 18
game_action_push
chupai=========================100333 18
game_mopai_push
{ '1': { pattern: 'normal', fan: 0 },
  '4': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 } }
Targert is 23
game_action_push
chupai=========================100390 23
game_mopai_push
{}
Targert is 14
game_action_push
chupai=========================100334 14
game_mopai_push
{ '7': { fan: 2, pattern: '7pairs' },
  '24': { fan: 2, pattern: '7pairs' },
  '28': { fan: 2, pattern: '7pairs' } }
Targert is 28
kunjin:  true
isMojin: true
isDajin: true
game_action_push
hu==========================100335
do game over!
roomid :451410
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
7pairs
Missing error handler on `socket`.
TypeError: Cannot read property 'length' of undefined
    at calculateResult (/root/server0413/game_server/gamemgr_sjmj.js:636:42)
    at doGameOver (/root/server0413/game_server/gamemgr_sjmj.js:741:13)
    at Object.exports.hu (/root/server0413/game_server/gamemgr_sjmj.js:1675:5)
    at Socket.<anonymous> (/root/server0413/game_server/socket_service.js:204:19)
    at emitOne (events.js:77:13)
    at Socket.emit (events.js:169:7)
    at Socket.onevent (/root/server0413/node_modules/socket.io/lib/socket.js:335:8)
    at Socket.onpacket (/root/server0413/node_modules/socket.io/lib/socket.js:295:12)
    at Client.ondecoded (/root/server0413/node_modules/socket.io/lib/client.js:193:14)
    at Decoder.Emitter.emit (/root/server0413/node_modules/socket.io/node_modules/socket.io-parser/node_modules/component-emitter/index.js:134:20)
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=451410 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "451410"
{ userid: '100335',
  name: '月光',
  roomid: '451410',
  sign: '08603f4239a7b231a37696f6b1964c6f' }
08603f4239a7b231a37696f6b1964c6f
SELECT gems FROM t_users WHERE userid = 100335
{ token: 'ed18eb0a0b31ba629c53f0717b740fb1',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "451410" WHERE userid = "100335"
451410
ed18eb0a0b31ba629c53f0717b740fb1
1523682548640
a905216cf81424e1b1c5be986e79fb41
game_sync_push
game_action_push
1
5
6
do game over!
roomid :451410
roomInfo:[object Object]
forceEnd :true
UPDATE t_rooms SET next_button = 1 WHERE id = "451410"
game_over_push
UPDATE t_users SET roomid = null WHERE userid = "100334"
UPDATE t_users SET roomid = null WHERE userid = "100335"
UPDATE t_users SET roomid = null WHERE userid = "100333"
UPDATE t_users SET roomid = null WHERE userid = "100390"
DELETE FROM t_rooms WHERE id = '451410'
INSERT INTO t_games_archive(SELECT * FROM t_games WHERE room_uuid = '1523682012709451410')
DELETE FROM t_games WHERE room_uuid = '1523682012709451410'
SELECT gems FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100333)  
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
++++++++++++++++++++++++++++++++++++
{"x":35.62178,"y":111.367793}
UPDATE t_users SET location='{"x":35.62178,"y":111.367793}' WHERE account='wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg'
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100335)  
++++++++++++++++++++++++++++++++++++
{"x":35.620731,"y":111.368233}
UPDATE t_users SET location='{"x":35.620731,"y":111.368233}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT history FROM t_users WHERE userid = "100390"
264
SELECT last FROM t_users WHERE userid=100334
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT history FROM t_users WHERE userid = "100333"
264
SELECT game_index,create_time,result FROM t_games_archive WHERE room_uuid = "1523678996348220864"
[ RowDataPacket {
    game_index: 0,
    create_time: 1523679351,
    result: '[-5,13,-4,-4]' },
  RowDataPacket { game_index: 1, create_time: 1523680220, result: '[7,0,0,-7]' },
  RowDataPacket { game_index: 2, create_time: 1523680496, result: '[4,0,0,-4]' },
  RowDataPacket {
    game_index: 3,
    create_time: 1523680717,
    result: '[0,-15,0,15]' } ]
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT history FROM t_users WHERE userid = "100334"
2900
SELECT game_index,create_time,result FROM t_games_archive WHERE room_uuid = "1523678996348220864"
[ RowDataPacket {
    game_index: 0,
    create_time: 1523679351,
    result: '[-5,13,-4,-4]' },
  RowDataPacket { game_index: 1, create_time: 1523680220, result: '[7,0,0,-7]' },
  RowDataPacket { game_index: 2, create_time: 1523680496, result: '[4,0,0,-4]' },
  RowDataPacket {
    game_index: 3,
    create_time: 1523680717,
    result: '[0,-15,0,15]' } ]
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100333)  
++++++++++++++++++++++++++++++++++++
{"x":35.621744,"y":111.367849}
UPDATE t_users SET location='{"x":35.621744,"y":111.367849}' WHERE account='wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg'
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100390)  
++++++++++++++++++++++++++++++++++++
{"x":35.620663,"y":111.368236}
UPDATE t_users SET location='{"x":35.620663,"y":111.368236}' WHERE account='wx_omM_A1NOMusnf4LKbEoKtDCDpKv0'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
{ account: 'wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc',
  sign: 'ff2f9ddfc830c2c1ad6e0a9f19303583',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":1,"iplimit":0,"difen":1,"jinfen":2,"cheat":1,"clubId":111191,"type":"djmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":1,"iplimit":0,"difen":1,"jinfen":2,"cheat":1,"clubId":111191,"type":"djmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100335"
club_id is111191
{ type: 'djmj',
  baseScore: 1,
  jinfen: 2,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100335,
  paytype: 1,
  cheat: false,
  clubId: 111191 }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523682651900902822','902822','{"type":"djmj","baseScore":1,"jinfen":2,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100335,"paytype":1,"cheat":false,"clubId":111191}','127.0.0.1',10000,1523682652,100335,1,'111191')
1523682651900902822
SELECT ip,port FROM t_rooms WHERE id = "902822"
{ userid: '100335',
  name: '月光',
  roomid: '902822',
  sign: '04716b5907177e655adf5b44b2d877f3' }
04716b5907177e655adf5b44b2d877f3
SELECT gems FROM t_users WHERE userid = 100335
UPDATE t_rooms SET user_id0 = 100335,user_icon0 = "",user_name0 = "5pyI5YWJ" WHERE id = "902822"
{ token: '8c29e19922c57bc241e87524b3387608',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "902822" WHERE userid = "100335"
902822
8c29e19922c57bc241e87524b3387608
1523682651922
342fc844d4aafd4b22a68245e4b63048
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=902822 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "902822"
{ userid: '100390',
  name: '诠释',
  roomid: '902822',
  sign: '71e9990e1bb7a99bd26a9457ea81de54' }
71e9990e1bb7a99bd26a9457ea81de54
SELECT gems FROM t_users WHERE userid = 100390
UPDATE t_rooms SET user_id1 = 100390,user_icon1 = "",user_name1 = "6K+g6YeK" WHERE id = "902822"
{ token: 'de029d392b211f4169c3cff94a4977ea',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "902822" WHERE userid = "100390"
902822
de029d392b211f4169c3cff94a4977ea
1523682656006
d5fb4eaf60a5e871ee203c41d22440b1
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100334)  
++++++++++++++++++++++++++++++++++++
{"x":35.620691,"y":111.36826}
UPDATE t_users SET location='{"x":35.620691,"y":111.36826}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=902822 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "902822"
{ userid: '100334',
  name: '群主',
  roomid: '902822',
  sign: '40c1057bba93f483ba72c240b3b8a05a' }
40c1057bba93f483ba72c240b3b8a05a
SELECT gems FROM t_users WHERE userid = 100334
UPDATE t_rooms SET user_id2 = 100334,user_icon2 = "",user_name2 = "576k5Li7" WHERE id = "902822"
{ token: '5c50e72d8fd442ead4947496dfbec366',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "902822" WHERE userid = "100334"
902822
5c50e72d8fd442ead4947496dfbec366
1523682688996
8cef2fe68f5cf7238ee7573d18836b25
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=902822 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "902822"
{ userid: '100333',
  name: '张麟华',
  roomid: '902822',
  sign: 'e6d76990a5f480fdd1a7ff137d61bc33' }
e6d76990a5f480fdd1a7ff137d61bc33
SELECT gems FROM t_users WHERE userid = 100333
UPDATE t_rooms SET user_id3 = 100333,user_icon3 = "",user_name3 = "5byg6bqf5Y2O" WHERE id = "902822"
{ token: '6aec4ef8c1420d19f3039f8732b236b7',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "902822" WHERE userid = "100333"
902822
6aec4ef8c1420d19f3039f8732b236b7
1523682689532
08948ce26bc7721b02af7c8bf45982ed
begin start==============902822
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 33
game_action_push
begin end=================
chupai=========================100335 33
game_mopai_push
{}
Targert is 33
game_action_push
chupai=========================100390 33
game_mopai_push
{}
Targert is 11
game_action_push
chupai=========================100334 29
game_mopai_push
{}
Targert is 10
game_action_push
chupai=========================100333 27
game_mopai_push
{}
Targert is 14
game_action_push
chupai=========================100335 29
game_mopai_push
{}
Targert is 28
game_action_push
chupai=========================100390 31
game_mopai_push
{}
Targert is 26
game_action_push
chupai=========================100334 26
game_mopai_push
{}
Targert is 14
game_action_push
chupai=========================100333 25
game_mopai_push
{}
Targert is 22
game_action_push
chupai=========================100335 24
game_mopai_push
{}
Targert is 18
game_action_push
chupai=========================100390 18
game_mopai_push
{}
Targert is 10
game_action_push
chupai=========================100334 32
game_action_push
chupai=========================100335 3
game_mopai_push
{}
Targert is 18
game_action_push
chupai=========================100390 18
game_mopai_push
{}
Targert is 23
game_action_push
chupai=========================100334 31
game_mopai_push
{}
Targert is 13
game_action_push
chupai=========================100333 5
game_mopai_push
{ '7': { pattern: 'normal', fan: 0 },
  '9': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 5
game_action_push
chupai=========================100335 5
game_mopai_push
{}
Targert is 2
game_action_push
chupai=========================100390 6
game_mopai_push
{}
Targert is 21
game_action_push
chupai=========================100334 18
game_mopai_push
{}
Targert is 33
game_action_push
chupai=========================100333 16
game_mopai_push
{ '7': { pattern: 'normal', fan: 0 },
  '9': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 15
game_action_push
chupai=========================100335 15
game_mopai_push
{}
Targert is 0
game_action_push
chupai=========================100390 4
game_mopai_push
{}
Targert is 2
game_action_push
chupai=========================100334 8
game_action_push
chupai=========================100333 33
game_mopai_push
{ '7': { pattern: 'normal', fan: 0 },
  '9': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 28
game_action_push
chupai=========================100335 28
game_action_push
chupai=========================100390 9
game_action_push
chupai=========================100335 16
game_mopai_push
{}
Targert is 1
game_action_push
chupai=========================100390 1
game_mopai_push
{}
Targert is 23
game_action_push
chupai=========================100334 21
game_mopai_push
{}
Targert is 0
game_action_push
chupai=========================100333 0
game_mopai_push
{ '13': { pattern: 'normal', fan: 0 },
  '16': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 12
game_action_push
chupai=========================100335 12
game_mopai_push
{}
Targert is 7
game_action_push
chupai=========================100390 7
game_action_push
guo=================================100335
guo_result
game_mopai_push
{}
Targert is 2
game_action_push
guo end=============================
chupai=========================100334 2
game_mopai_push
{}
Targert is 17
game_action_push
chupai=========================100333 17
game_mopai_push
{ '13': { pattern: 'normal', fan: 0 },
  '16': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 7
game_action_push
chupai=========================100335 7
game_mopai_push
{}
Targert is 12
game_action_push
chupai=========================100390 19
game_mopai_push
{}
Targert is 3
game_action_push
chupai=========================100334 3
game_mopai_push
{}
Targert is 29
game_action_push
chupai=========================100333 29
game_mopai_push
{ '13': { pattern: 'normal', fan: 0 },
  '16': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 26
kunjin:  true
isMojin: true
isDajin: undefined
game_action_push
chupai=========================100335 26
game_mopai_push
{}
Targert is 27
game_action_push
chupai=========================100390 27
game_mopai_push
{}
Targert is 13
game_action_push
chupai=========================100334 16
game_mopai_push
{}
Targert is 24
game_action_push
chupai=========================100333 24
game_mopai_push
{ '13': { pattern: 'normal', fan: 0 },
  '16': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 25
game_action_push
chupai=========================100335 25
game_mopai_push
{}
Targert is 30
game_action_push
chupai=========================100390 21
game_mopai_push
{ '10': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 0
game_action_push
chupai=========================100334 0
game_mopai_push
{}
Targert is 30
game_action_push
chupai=========================100333 30
game_action_push
guo=================================100390
guo_result
game_mopai_push
{ '13': { pattern: 'normal', fan: 0 },
  '16': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 13
kunjin:  true
isMojin: true
isDajin: true
game_action_push
guo end=============================
hu==========================100335
do game over!
roomid :902822
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
normal
Missing error handler on `socket`.
TypeError: Cannot read property 'length' of undefined
    at calculateResult (/root/server0413/game_server/gamemgr_sjmj.js:636:42)
    at doGameOver (/root/server0413/game_server/gamemgr_sjmj.js:741:13)
    at Object.exports.hu (/root/server0413/game_server/gamemgr_sjmj.js:1675:5)
    at Socket.<anonymous> (/root/server0413/game_server/socket_service.js:204:19)
    at emitOne (events.js:77:13)
    at Socket.emit (events.js:169:7)
    at Socket.onevent (/root/server0413/node_modules/socket.io/lib/socket.js:335:8)
    at Socket.onpacket (/root/server0413/node_modules/socket.io/lib/socket.js:295:12)
    at Client.ondecoded (/root/server0413/node_modules/socket.io/lib/client.js:193:14)
    at Decoder.Emitter.emit (/root/server0413/node_modules/socket.io/node_modules/socket.io-parser/node_modules/component-emitter/index.js:134:20)
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=902822 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "902822"
{ userid: '100335',
  name: '月光',
  roomid: '902822',
  sign: '04716b5907177e655adf5b44b2d877f3' }
04716b5907177e655adf5b44b2d877f3
SELECT gems FROM t_users WHERE userid = 100335
{ token: '772ef6e687ee99b10c272fbe7bf7cfed',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "902822" WHERE userid = "100335"
902822
772ef6e687ee99b10c272fbe7bf7cfed
1523682864062
84a3289b782d0e17fbe34924d632ff07
game_sync_push
game_action_push
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=902822 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "902822"
{ userid: '100333',
  name: '张麟华',
  roomid: '902822',
  sign: 'e6d76990a5f480fdd1a7ff137d61bc33' }
e6d76990a5f480fdd1a7ff137d61bc33
SELECT gems FROM t_users WHERE userid = 100333
{ token: '1b8c7a00997286583226204728111ce9',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "902822" WHERE userid = "100333"
902822
1b8c7a00997286583226204728111ce9
1523682955700
ddfe4b6fb83568b32bf8bdddb6f3979f
game_sync_push
game_action_push
1
5
6
do game over!
roomid :902822
roomInfo:[object Object]
forceEnd :true
game_over_push
UPDATE t_users SET roomid = null WHERE userid = "100335"
UPDATE t_users SET roomid = null WHERE userid = "100390"
UPDATE t_users SET roomid = null WHERE userid = "100334"
UPDATE t_users SET roomid = null WHERE userid = "100333"
DELETE FROM t_rooms WHERE id = '902822'
INSERT INTO t_games_archive(SELECT * FROM t_games WHERE room_uuid = '1523682651900902822')
DELETE FROM t_games WHERE room_uuid = '1523682651900902822'
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100333)  
++++++++++++++++++++++++++++++++++++
{"x":35.621768,"y":111.367651}
UPDATE t_users SET location='{"x":35.621768,"y":111.367651}' WHERE account='wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg'
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100334)  
++++++++++++++++++++++++++++++++++++
{"x":35.620689,"y":111.368222}
UPDATE t_users SET location='{"x":35.620689,"y":111.368222}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100390)  
++++++++++++++++++++++++++++++++++++
{"x":35.620717,"y":111.368265}
UPDATE t_users SET location='{"x":35.620717,"y":111.368265}' WHERE account='wx_omM_A1NOMusnf4LKbEoKtDCDpKv0'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
{ account: 'wx_omM_A1EAhZ8maByl3fRKpMyAO2qo',
  sign: '38f00e0423bfdce4b03e4166b588f50b',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":1,"iplimit":0,"difen":1,"jinfen":2,"cheat":1,"clubId":111191,"type":"sjmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":1,"iplimit":0,"difen":1,"jinfen":2,"cheat":1,"clubId":111191,"type":"sjmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100334"
club_id is111191
{ type: 'sjmj',
  baseScore: 1,
  jinfen: 2,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100334,
  paytype: 1,
  cheat: false,
  clubId: 111191 }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523683045022543334','543334','{"type":"sjmj","baseScore":1,"jinfen":2,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100334,"paytype":1,"cheat":false,"clubId":111191}','127.0.0.1',10000,1523683046,100334,1,'111191')
1523683045022543334
SELECT ip,port FROM t_rooms WHERE id = "543334"
{ userid: '100334',
  name: '群主',
  roomid: '543334',
  sign: '24055107a30ed7cd9bb9f0ff82b2b279' }
24055107a30ed7cd9bb9f0ff82b2b279
SELECT gems FROM t_users WHERE userid = 100334
UPDATE t_rooms SET user_id0 = 100334,user_icon0 = "",user_name0 = "576k5Li7" WHERE id = "543334"
{ token: '5097eaffdfd89f6db6d569e75cd72566',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "543334" WHERE userid = "100334"
543334
5097eaffdfd89f6db6d569e75cd72566
1523683045036
32e37e5e71fc3aaee10853d25c08c65f
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100335)  
++++++++++++++++++++++++++++++++++++
{"x":35.620723,"y":111.368276}
UPDATE t_users SET location='{"x":35.620723,"y":111.368276}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=543334 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "543334"
{ userid: '100335',
  name: '月光',
  roomid: '543334',
  sign: '3910b3cd07138469731aa51ce399f3b9' }
3910b3cd07138469731aa51ce399f3b9
SELECT gems FROM t_users WHERE userid = 100335
UPDATE t_rooms SET user_id1 = 100335,user_icon1 = "",user_name1 = "5pyI5YWJ" WHERE id = "543334"
{ token: '65b6a5b2d4ac6d544a55dd7f49da647c',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "543334" WHERE userid = "100335"
543334
65b6a5b2d4ac6d544a55dd7f49da647c
1523683053187
44b1021ca77887c7338ecc31f53be80b
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=543334 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "543334"
{ userid: '100333',
  name: '张麟华',
  roomid: '543334',
  sign: '0607a1dc913e033db6b48e1028557331' }
0607a1dc913e033db6b48e1028557331
SELECT gems FROM t_users WHERE userid = 100333
UPDATE t_rooms SET user_id2 = 100333,user_icon2 = "",user_name2 = "5byg6bqf5Y2O" WHERE id = "543334"
{ token: '03c2514c9af1af8fe3091d48d10c841a',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "543334" WHERE userid = "100333"
543334
03c2514c9af1af8fe3091d48d10c841a
1523683061215
a3919a524f509320cdd870d4d53c5ca1
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=543334 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "543334"
{ userid: '100390',
  name: '诠释',
  roomid: '543334',
  sign: 'c1eb2d07b3b60975d112a9b8d1e76c2c' }
c1eb2d07b3b60975d112a9b8d1e76c2c
SELECT gems FROM t_users WHERE userid = 100390
UPDATE t_rooms SET user_id3 = 100390,user_icon3 = "",user_name3 = "6K+g6YeK" WHERE id = "543334"
{ token: '33839420b419d1cfff27db489a8f5eec',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "543334" WHERE userid = "100390"
543334
33839420b419d1cfff27db489a8f5eec
1523683068624
76c4f800aaaab7ef74bcee227f3bb0d6
begin start==============543334
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 1
game_action_push
begin end=================
chupai=========================100334 33
game_mopai_push
{}
Targert is 17
game_action_push
chupai=========================100335 33
game_mopai_push
{}
Targert is 4
game_action_push
chupai=========================100333 33
game_mopai_push
{}
Targert is 2
game_action_push
chupai=========================100390 32
game_mopai_push
{}
Targert is 5
game_action_push
chupai=========================100334 18
game_mopai_push
{}
Targert is 31
game_action_push
chupai=========================100335 18
game_mopai_push
{}
Targert is 29
game_action_push
chupai=========================100333 31
game_mopai_push
{}
Targert is 9
game_action_push
chupai=========================100390 29
game_action_push
chupai=========================100334 32
game_mopai_push
{}
Targert is 15
game_action_push
chupai=========================100335 32
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100333 19
game_action_push
chupai=========================100334 21
game_mopai_push
{}
Targert is 25
game_action_push
chupai=========================100335 31
game_mopai_push
{}
Targert is 3
game_action_push
chupai=========================100333 29
game_mopai_push
{}
Targert is 28
game_action_push
chupai=========================100390 22
game_mopai_push
{ '0': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 } }
Targert is 31
game_action_push
chupai=========================100334 31
game_mopai_push
{}
Targert is 2
game_action_push
chupai=========================100335 19
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100333 9
game_mopai_push
{}
Targert is 27
game_action_push
chupai=========================100390 24
game_mopai_push
{ '0': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 } }
Targert is 33
game_action_push
chupai=========================100334 33
game_mopai_push
{}
Targert is 16
game_action_push
chupai=========================100335 9
game_mopai_push
{}
Targert is 23
game_action_push
chupai=========================100333 26
game_mopai_push
{}
Targert is 24
game_action_push
chupai=========================100390 24
game_mopai_push
{ '0': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 } }
Targert is 12
game_action_push
chupai=========================100334 10
game_mopai_push
{}
Targert is 1
game_action_push
chupai=========================100335 8
game_action_push
chupai=========================100333 12
game_action_push
chupai=========================100334 20
game_mopai_push
{}
Targert is 0
game_action_push
chupai=========================100335 25
game_mopai_push
{}
Targert is 4
game_action_push
chupai=========================100333 25
game_mopai_push
{}
Targert is 11
game_action_push
chupai=========================100390 2
game_mopai_push
{ '0': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 } }
Targert is 16
game_action_push
chupai=========================100334 16
game_action_push
chupai=========================100335 17
game_mopai_push
{}
Targert is 10
game_action_push
chupai=========================100333 10
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100390 4
game_action_push
chupai=========================100333 23
game_mopai_push
{ '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '28': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 26
game_action_push
chupai=========================100390 26
game_mopai_push
{ '0': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 } }
Targert is 7
game_action_push
chupai=========================100334 7
game_mopai_push
{ '0': { pattern: 'normal', fan: 0 },
  '1': { pattern: 'normal', fan: 0 },
  '2': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '4': { pattern: 'normal', fan: 0 },
  '5': { pattern: 'normal', fan: 0 },
  '6': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 },
  '8': { pattern: 'normal', fan: 0 },
  '9': { pattern: 'normal', fan: 0 },
  '10': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '12': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '14': { pattern: 'normal', fan: 0 },
  '15': { pattern: 'normal', fan: 0 },
  '16': { pattern: 'normal', fan: 0 },
  '17': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '25': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 },
  '28': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 },
  '31': { pattern: 'normal', fan: 0 },
  '32': { pattern: 'normal', fan: 0 },
  '33': { pattern: 'normal', fan: 0 } }
Targert is 14
kunjin:  true
isMojin: true
isDajin: true
game_action_push
guo=================================100335
guo_result
chupai=========================100335 20
game_mopai_push
{}
Targert is 13
game_action_push
chupai=========================100333 13
game_mopai_push
{ '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '28': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 13
game_action_push
chupai=========================100390 13
game_mopai_push
{ '0': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 } }
Targert is 30
game_action_push
chupai=========================100334 30
game_action_push
chupai=========================100390 28
game_mopai_push
{ '0': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 } }
Targert is 16
game_action_push
chupai=========================100334 16
game_mopai_push
{ '0': { pattern: 'normal', fan: 0 },
  '1': { pattern: 'normal', fan: 0 },
  '2': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '4': { pattern: 'normal', fan: 0 },
  '5': { pattern: 'normal', fan: 0 },
  '6': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 },
  '8': { pattern: 'normal', fan: 0 },
  '9': { pattern: 'normal', fan: 0 },
  '10': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '12': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '14': { pattern: 'normal', fan: 0 },
  '15': { pattern: 'normal', fan: 0 },
  '16': { pattern: 'normal', fan: 0 },
  '17': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '25': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 },
  '28': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 },
  '31': { pattern: 'normal', fan: 0 },
  '32': { pattern: 'normal', fan: 0 },
  '33': { pattern: 'normal', fan: 0 } }
Targert is 9
kunjin:  true
isMojin: true
isDajin: true
game_action_push
guo=================================100335
guo_result
chupai=========================100335 18
game_mopai_push
{}
Targert is 18
game_action_push
chupai=========================100333 18
game_mopai_push
{ '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '28': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 } }
Targert is 20
kunjin:  true
isMojin: true
isDajin: undefined
game_action_push
chupai=========================100390 20
game_mopai_push
{ '0': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 } }
Targert is 10
game_action_push
chupai=========================100334 10
game_mopai_push
{ '9': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 12
game_action_push
chupai=========================100335 12
game_mopai_push
{}
Targert is 0
game_action_push
chupai=========================100333 0
game_mopai_push
{ '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '28': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 } }
Targert is 30
game_action_push
gang=============100390       30
game_mopai_push
{ '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '28': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 } }
Targert is 32
game_action_push
gang end===================
chupai=========================100390 32
game_mopai_push
{ '0': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 } }
Targert is 1
game_action_push
chupai=========================100334 2
game_mopai_push
{ '9': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 26
game_action_push
chupai=========================100335 9
game_mopai_push
{}
Targert is 25
game_action_push
chupai=========================100333 25
game_mopai_push
{ '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '28': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 } }
Targert is 6
game_action_push
chupai=========================100390 28
game_mopai_push
{ '1': { pattern: 'normal', fan: 0 },
  '5': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 } }
Targert is 17
game_action_push
chupai=========================100334 17
game_mopai_push
{ '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 4
game_action_push
chupai=========================100335 4
game_mopai_push
{}
Targert is 6
game_action_push
chupai=========================100333 6
game_action_push
guo=================================100390
guo_result
game_mopai_push
{ '6': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 } }
Targert is 21
game_action_push
guo end=============================
chupai=========================100390 21
game_mopai_push
{ '1': { pattern: 'normal', fan: 0 },
  '5': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 } }
Targert is 14
game_action_push
chupai=========================100334 14
game_mopai_push
{ '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 28
game_action_push
chupai=========================100335 28
game_mopai_push
{}
Targert is 28
game_action_push
chupai=========================100333 28
game_mopai_push
{ '6': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 } }
Targert is 3
game_action_push
chupai=========================100390 3
game_mopai_push
{ '1': { pattern: 'normal', fan: 0 },
  '5': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 } }
Targert is 0
game_action_push
chupai=========================100334 0
game_mopai_push
{ '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 21
kunjin:  true
isMojin: true
isDajin: true
game_action_push
hu==========================100335
do game over!
roomid :543334
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
normal
Missing error handler on `socket`.
TypeError: Cannot read property 'length' of undefined
    at calculateResult (/root/server0413/game_server/gamemgr_sjmj.js:636:42)
    at doGameOver (/root/server0413/game_server/gamemgr_sjmj.js:741:13)
    at Object.exports.hu (/root/server0413/game_server/gamemgr_sjmj.js:1675:5)
    at Socket.<anonymous> (/root/server0413/game_server/socket_service.js:204:19)
    at emitOne (events.js:77:13)
    at Socket.emit (events.js:169:7)
    at Socket.onevent (/root/server0413/node_modules/socket.io/lib/socket.js:335:8)
    at Socket.onpacket (/root/server0413/node_modules/socket.io/lib/socket.js:295:12)
    at Client.ondecoded (/root/server0413/node_modules/socket.io/lib/client.js:193:14)
    at Decoder.Emitter.emit (/root/server0413/node_modules/socket.io/node_modules/socket.io-parser/node_modules/component-emitter/index.js:134:20)
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=543334 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "543334"
{ userid: '100335',
  name: '月光',
  roomid: '543334',
  sign: '3910b3cd07138469731aa51ce399f3b9' }
3910b3cd07138469731aa51ce399f3b9
SELECT gems FROM t_users WHERE userid = 100335
{ token: '6cca272c514b90f6c6d35fc1da0af2b1',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "543334" WHERE userid = "100335"
543334
6cca272c514b90f6c6d35fc1da0af2b1
1523683368855
9c101b5589c74e82db24a30e15e746f3
game_sync_push
game_action_push
1
5
6
do game over!
roomid :543334
roomInfo:[object Object]
forceEnd :true
UPDATE t_rooms SET next_button = 1 WHERE id = "543334"
game_over_push
UPDATE t_users SET roomid = null WHERE userid = "100334"
UPDATE t_users SET roomid = null WHERE userid = "100335"
UPDATE t_users SET roomid = null WHERE userid = "100333"
UPDATE t_users SET roomid = null WHERE userid = "100390"
DELETE FROM t_rooms WHERE id = '543334'
INSERT INTO t_games_archive(SELECT * FROM t_games WHERE room_uuid = '1523683045022543334')
DELETE FROM t_games WHERE room_uuid = '1523683045022543334'
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100334)  
++++++++++++++++++++++++++++++++++++
{"x":35.620714,"y":111.368265}
UPDATE t_users SET location='{"x":35.620714,"y":111.368265}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
Android
SELECT userid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
UPDATE t_users SET name="576k5Li7",headimg="http://thirdwx.qlogo.cn/mmopen/vi_32/AV94U0dPztbdCMHtBGgU1y4Aqn4dcQKIJtm18kpqBlUwPucYEgkaIqF02cC4bIJXAJxJibfFia9uDA0YSuoVS9hw/132",sex=0 WHERE account="wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT name,sex,headimg FROM t_users WHERE userid=100334
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT name,sex,headimg FROM t_users WHERE userid=100335
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100335)  
++++++++++++++++++++++++++++++++++++
{"x":35.620671,"y":111.368293}
UPDATE t_users SET location='{"x":35.620671,"y":111.368293}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100390)  
++++++++++++++++++++++++++++++++++++
{"x":35.62069010416667,"y":111.3682310655382}
UPDATE t_users SET location='{"x":35.62069010416667,"y":111.3682310655382}' WHERE account='wx_omM_A1NOMusnf4LKbEoKtDCDpKv0'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
{ account: 'wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc',
  sign: 'ff2f9ddfc830c2c1ad6e0a9f19303583',
  conf: '{"xuanzejushu":0,"paytype":1,"difen":1,"cheat":1,"fenghaozi":1,"clubId":111191,"type":"kdd"}' }
conf is{"xuanzejushu":0,"paytype":1,"difen":1,"cheat":1,"fenghaozi":1,"clubId":111191,"type":"kdd"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100335"
club_id is111191
{ type: 'kdd',
  baseScore: 1,
  isBaoTing: true,
  maxGames: 4,
  creator: 100335,
  paytype: 1,
  cheat: false,
  fenghaozi: 2,
  clubId: 111191 }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523683566003780700','780700','{"type":"kdd","baseScore":1,"isBaoTing":true,"maxGames":4,"creator":100335,"paytype":1,"cheat":false,"fenghaozi":2,"clubId":111191}','127.0.0.1',10000,1523683566,100335,1,'111191')
1523683566003780700
SELECT ip,port FROM t_rooms WHERE id = "780700"
{ userid: '100335',
  name: '月光',
  roomid: '780700',
  sign: '89035d0c039bc583369cbc852079a400' }
89035d0c039bc583369cbc852079a400
SELECT gems FROM t_users WHERE userid = 100335
UPDATE t_rooms SET user_id0 = 100335,user_icon0 = "",user_name0 = "5pyI5YWJ" WHERE id = "780700"
{ token: '1c45dee97fa8c3ca44d5f747615a9bc6',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "780700" WHERE userid = "100335"
780700
1c45dee97fa8c3ca44d5f747615a9bc6
1523683566014
d86e5632a88b695f97f5ebebfe87826a
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=780700 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "780700"
{ userid: '100390',
  name: '诠释',
  roomid: '780700',
  sign: '4ebad0f152d934ff86324d75fb708f97' }
4ebad0f152d934ff86324d75fb708f97
SELECT gems FROM t_users WHERE userid = 100390
UPDATE t_rooms SET user_id1 = 100390,user_icon1 = "",user_name1 = "6K+g6YeK" WHERE id = "780700"
{ token: '710c13be2d9a63354c1d540cbccc398a',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "780700" WHERE userid = "100390"
780700
710c13be2d9a63354c1d540cbccc398a
1523683615149
8a985057b80b9a53c26129ac80c8404c
SELECT name,sex,headimg FROM t_users WHERE userid=100390
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100334)  
++++++++++++++++++++++++++++++++++++
{"x":35.620736,"y":111.368265}
UPDATE t_users SET location='{"x":35.620736,"y":111.368265}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=780700 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "780700"
{ userid: '100334',
  name: '群主',
  roomid: '780700',
  sign: '825957476fcb7d06ed4b40971c6e4b3c' }
825957476fcb7d06ed4b40971c6e4b3c
SELECT gems FROM t_users WHERE userid = 100334
UPDATE t_rooms SET user_id2 = 100334,user_icon2 = "",user_name2 = "576k5Li7" WHERE id = "780700"
{ token: '839f4889d61bd94994c1dc7b220722e4',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "780700" WHERE userid = "100334"
780700
839f4889d61bd94994c1dc7b220722e4
1523683620878
cc97fdcb97283753c23960d3bc065896
SELECT name,sex,headimg FROM t_users WHERE userid=100334
SELECT name,sex,headimg FROM t_users WHERE userid=100335
SELECT name,sex,headimg FROM t_users WHERE userid=100390
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100333)  
++++++++++++++++++++++++++++++++++++
{"x":35.621757,"y":111.367773}
UPDATE t_users SET location='{"x":35.621757,"y":111.367773}' WHERE account='wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=780700 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "780700"
{ userid: '100333',
  name: '张麟华',
  roomid: '780700',
  sign: '4da694e547470e62e6c700f58956e426' }
4da694e547470e62e6c700f58956e426
SELECT gems FROM t_users WHERE userid = 100333
UPDATE t_rooms SET user_id3 = 100333,user_icon3 = "",user_name3 = "5byg6bqf5Y2O" WHERE id = "780700"
{ token: 'e464376f5e0cde2a958aad31eae22c74',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "780700" WHERE userid = "100333"
780700
e464376f5e0cde2a958aad31eae22c74
1523683631881
b7dd3b05659cb76379e62b8491565000
begin start==============780700
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
SELECT name,sex,headimg FROM t_users WHERE userid=100333
SELECT name,sex,headimg FROM t_users WHERE userid=100333
SELECT name,sex,headimg FROM t_users WHERE userid=100333
SELECT name,sex,headimg FROM t_users WHERE userid=100333
SELECT name,sex,headimg FROM t_users WHERE userid=100333
SELECT name,sex,headimg FROM t_users WHERE userid=100333
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
do game over!
roomid :780700
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
胡牌2筒
UPDATE t_rooms SET next_button = 1 WHERE id = "780700"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523683566003780700',0,'{"type":"kdd","button":0,"index":0,"mahjongs":[8,0,13,22,17,33,24,10,19,30,26,7,23,29,4,13,11,14,9,25,3,29,1,11,28,15,32,2,19,7,33,3,6,10,19,16,30,4,10,11,26,27,2,21,0,12,22,25,16,20,2,15,23,30,16,33,15,19,28,16,8,24,24,17,7,5,2,22,31,31,12,18,29,29,1,14,33,27,8,12,9,6,22,1,25,21,5,6,7,12,32,5,1,20,9,0,32,28,31,18,3,20,5,11,10,17,8,17,9,15,21,0,14,25,14,27,4,32,6,18,23,28,31,27,21,20,24,23,30,18,26,13,13,3,4,26],"jin":[31],"game_seats":[[8,17,19,23,11,3,28,19,6,30,26,0,16,23],[0,33,30,29,14,29,15,7,10,4,27,12,20],[13,24,26,4,9,1,32,33,19,10,2,22,2],[22,10,7,13,25,11,2,3,16,11,21,25,15]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[-4,-4,-4,12]' WHERE room_uuid = '1523683566003780700' AND game_index = 0
UPDATE t_games SET action_records = '[0,1,30,1,2,30,1,1,33,2,2,16,2,1,33,3,2,33,3,1,33,0,2,15,0,1,28,1,2,19,1,1,0,2,2,28,2,1,28,3,2,16,3,1,7,0,2,8,0,1,26,1,2,24,1,1,27,2,2,24,2,1,32,3,2,17,3,1,16,0,2,7,0,1,11,3,3,11,3,1,13,0,2,5,0,1,0,1,2,2,1,1,7,2,2,22,2,1,19,0,3,19,0,6,3,1,2,31,1,1,24,2,3,24,2,1,26,3,2,31,3,6,10,0,2,12,0,1,12,1,2,18,1,1,2,2,3,2,2,1,1,3,2,29,3,1,29,1,3,29,1,6,4,2,2,29,2,1,29,3,2,1,3,5,1]' WHERE room_uuid = '1523683566003780700' AND game_index = 0
UPDATE t_rooms SET num_of_turns = 1 WHERE id = "780700"
UPDATE t_users SET gems = gems -1 WHERE userid = 100335
UPDATE t_users SET gems = gems -1 WHERE userid = 100390
UPDATE t_users SET gems = gems -1 WHERE userid = 100334
UPDATE t_users SET gems = gems -1 WHERE userid = 100333
game_over_push
begin start==============780700
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
[ 33, 1, 2, 6, 7, 9, 10, 11, 18, 19, 20, 21, 33, 8 ]
do game over!
roomid :780700
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
胡牌9筒
UPDATE t_rooms SET next_button = 2 WHERE id = "780700"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523683566003780700',1,'{"type":"kdd","button":1,"index":1,"mahjongs":[32,28,2,20,25,5,25,9,15,3,24,18,12,33,30,33,30,4,16,6,32,14,28,11,20,17,22,1,14,4,20,19,21,25,26,2,11,20,23,7,8,10,12,21,19,10,0,10,21,27,31,33,0,26,28,23,23,14,15,30,1,28,29,24,7,4,19,32,14,32,22,6,29,33,9,9,23,13,7,6,17,8,17,8,22,11,11,24,5,27,3,25,3,13,0,9,30,12,18,8,21,12,3,31,17,27,29,31,1,24,10,6,18,27,31,2,22,16,2,26,13,15,16,26,13,1,4,29,7,19,5,5,16,0,18,15],"jin":[33],"game_seats":[[20,9,18,33,6,11,1,19,2,7,21,10,33],[32,25,15,12,30,32,20,14,21,11,8,19,21,0],[28,5,3,33,4,14,17,4,25,20,10,10,27],[2,25,24,30,16,28,22,20,26,23,12,0,31]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[27,-27,0,0]' WHERE room_uuid = '1523683566003780700' AND game_index = 1
UPDATE t_games SET action_records = '[1,1,30,2,2,26,2,1,28,3,2,28,3,1,28,0,2,23,0,6,23,1,2,23,1,1,0,2,2,14,2,1,27,3,2,15,3,1,31,0,2,30,0,1,30,1,2,1,1,1,8]' WHERE room_uuid = '1523683566003780700' AND game_index = 1
UPDATE t_rooms SET num_of_turns = 2 WHERE id = "780700"
game_over_push
begin start==============780700
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
do game over!
roomid :780700
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
胡牌8万
UPDATE t_rooms SET next_button = 3 WHERE id = "780700"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523683566003780700',2,'{"type":"kdd","button":2,"index":2,"mahjongs":[32,17,33,16,7,12,9,6,25,18,27,7,19,16,31,21,14,21,19,15,7,27,17,23,14,5,29,20,4,26,4,0,2,33,10,12,3,27,11,13,3,1,25,31,27,12,16,0,22,31,6,18,26,20,2,15,9,18,10,31,29,0,4,2,32,19,22,29,11,5,24,0,30,7,3,5,1,8,11,8,18,16,28,23,30,6,19,25,17,14,1,32,9,13,1,24,32,24,15,21,22,30,21,8,3,33,8,17,20,23,10,13,6,26,2,20,25,28,13,28,9,22,23,28,11,24,26,14,12,29,4,33,30,15,10,5],"jin":[33],"game_seats":[[33,9,27,31,19,17,29,4,10,11,25,16,6],[16,6,7,21,15,23,20,0,12,13,31,0,18],[32,7,25,19,14,7,14,4,2,3,3,27,22,26],[17,12,18,16,21,27,5,26,33,27,1,12,31]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[48,-16,-16,-16]' WHERE room_uuid = '1523683566003780700' AND game_index = 2
UPDATE t_games SET action_records = '[2,1,27,3,3,27,3,1,31,0,2,20,0,1,27,1,2,2,1,1,31,2,2,15,2,1,32,3,2,9,3,1,9,0,2,18,0,1,29,1,2,10,1,1,18,2,2,31,2,1,31,3,2,29,3,1,29,0,2,0,0,1,31,1,2,4,1,1,23,2,2,2,2,1,19,3,2,32,3,1,32,0,2,19,0,1,19,1,2,22,1,1,10,2,2,29,2,1,29,3,2,11,3,1,26,0,2,5,0,6,0,1,2,24,1,1,24,2,2,0,2,1,22,3,2,30,3,1,18,0,2,7,0,1,7,2,3,7,2,1,0,1,3,0,1,1,2,2,3,2,2,1,4,3,2,3,3,1,21,0,2,5,0,1,5,1,2,1,1,1,1,2,2,8,2,1,8,3,2,11,3,1,30,0,2,8,0,1,8,1,2,18,1,1,18,2,2,16,2,6,14,3,2,28,3,1,28,0,2,23,0,1,23,1,2,30,1,1,30,2,2,6,2,1,6,3,2,19,3,1,19,0,2,25,0,5,25]' WHERE room_uuid = '1523683566003780700' AND game_index = 2
UPDATE t_rooms SET num_of_turns = 3 WHERE id = "780700"
game_over_push
begin start==============780700
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
gang=============100335       33
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
guo=================================100390
guo_result
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=780700 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "780700"
{ userid: '100333',
  name: '张麟华',
  roomid: '780700',
  sign: '4da694e547470e62e6c700f58956e426' }
4da694e547470e62e6c700f58956e426
SELECT gems FROM t_users WHERE userid = 100333
{ token: '7a9d7fb054e100026de37ea028b3270e',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "780700" WHERE userid = "100333"
780700
7a9d7fb054e100026de37ea028b3270e
1523684564746
3f5bb330a3c11af744e590d9f67d9e90
game_sync_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
account server is listening on 9000
dealer api is listening on localhost:12581
client service is listening on port 9001
room service is listening on localhost:9002
game server is listening on localhost:9003
game server is listening on 10000
game server registered.
	id:101.200.52.241:10000
	addr:127.0.0.1
	http port:9003
	socket clientport:10000
101.200.52.241:10000
4b5d25ae3019249ca14af3d4d9e9f127
invalid parameters
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=780700 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "780700"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=780700 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "780700"
{ userid: '100334',
  name: '群主',
  roomid: '780700',
  sign: '825957476fcb7d06ed4b40971c6e4b3c' }
825957476fcb7d06ed4b40971c6e4b3c
SELECT gems FROM t_users WHERE userid = 100334
{ userid: '100390',
  name: '诠释',
  roomid: '780700',
  sign: '4ebad0f152d934ff86324d75fb708f97' }
4ebad0f152d934ff86324d75fb708f97
SELECT gems FROM t_users WHERE userid = 100390
SELECT * FROM t_rooms WHERE id = "780700"
{ token: '009ceb8a220700ec904d147956f1c835',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "780700" WHERE userid = "100334"
{ token: '8ac4d8a43ffb3684eeb4c0870acac324',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "780700" WHERE userid = "100390"
780700
009ceb8a220700ec904d147956f1c835
1523684795073
d3fb8119d0ef653a59b0f3962aa0a0d5
780700
8ac4d8a43ffb3684eeb4c0870acac324
1523684795090
5766a7e4d9b62ab4147d3620a453d9ee
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=780700 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "780700"
{ userid: '100333',
  name: '张麟华',
  roomid: '780700',
  sign: '4da694e547470e62e6c700f58956e426' }
4da694e547470e62e6c700f58956e426
SELECT gems FROM t_users WHERE userid = 100333
{ token: 'e2ce1b2a2c674b3324ec2e985fa1d7e3',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "780700" WHERE userid = "100333"
780700
e2ce1b2a2c674b3324ec2e985fa1d7e3
1523684874644
c42b5b2a7b8ff101f2b9a4271a15fc6a
1
5
6
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=780700 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "780700"
{ userid: '100335',
  name: '月光',
  roomid: '780700',
  sign: '89035d0c039bc583369cbc852079a400' }
89035d0c039bc583369cbc852079a400
SELECT gems FROM t_users WHERE userid = 100335
{ token: 'c467e9e99637d34e8f761c4ad20ee96e',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "780700" WHERE userid = "100335"
780700
c467e9e99637d34e8f761c4ad20ee96e
1523684897173
88a41ca15ed5df33f4a4ba52831d4a87
begin start==============780700
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
1
5
6
do game over!
roomid :780700
roomInfo:[object Object]
forceEnd :true
UPDATE t_rooms SET next_button = 0 WHERE id = "780700"
game_over_push
SELECT history FROM t_users WHERE userid = "100335"
SELECT history FROM t_users WHERE userid = "100390"
SELECT history FROM t_users WHERE userid = "100334"
SELECT history FROM t_users WHERE userid = "100333"
UPDATE t_users SET roomid = null WHERE userid = "100335"
UPDATE t_users SET roomid = null WHERE userid = "100390"
UPDATE t_users SET roomid = null WHERE userid = "100334"
UPDATE t_users SET roomid = null WHERE userid = "100333"
DELETE FROM t_rooms WHERE id = '780700'
INSERT INTO t_games_archive(SELECT * FROM t_games WHERE room_uuid = '1523683566003780700')
2900
UPDATE t_users SET roomid = null, history = '[{"uuid":"1522574109587388660","id":"388660","time":1522574110,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-29},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":11},{"userid":100357,"name":"5am35YS/","score":23},{"userid":100340,"name":"6Im+5qC86YeR5aaN5re66ZmM5Yid5b+D","score":-5}]},{"uuid":"1522575253083381504","id":"381504","time":1522575254,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":16},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100357,"name":"5am35YS/","score":45},{"userid":100340,"name":"6Im+5qC86YeR5aaN5re66ZmM5Yid5b+D","score":-38}]},{"uuid":"1522674632945516960","id":"516960","time":1522674633,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-38},{"userid":100355,"name":"6ZW/5a2Z6ZuA5Zyj","score":-39},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-63},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":140}]},{"uuid":"1522675431210706479","id":"706479","time":1522675432,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":0},{"userid":100355,"name":"6ZW/5a2Z6ZuA5Zyj","score":0},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":0},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":0}]},{"uuid":"1523627417627130382","id":"130382","time":1523627418,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-7},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-10},{"userid":100381,"name":"5pif54Gr","score":4},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":13}]},{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523678996348220864","id":"220864","time":1523678997,"seats":[{"userid":100334,"name":"576k5Li7","score":6},{"userid":100390,"name":"6K+g6YeK","score":-2},{"userid":100335,"name":"5pyI5YWJ","score":-4},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523683566003780700","id":"780700","time":1523683566,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":0},{"userid":100390,"name":"6K+g6YeK","score":0},{"userid":100334,"name":"576k5Li7","score":0},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]}]' WHERE userid = "100335"
264
UPDATE t_users SET roomid = null, history = '[{"uuid":"1523678996348220864","id":"220864","time":1523678997,"seats":[{"userid":100334,"name":"576k5Li7","score":6},{"userid":100390,"name":"6K+g6YeK","score":-2},{"userid":100335,"name":"5pyI5YWJ","score":-4},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523683566003780700","id":"780700","time":1523683566,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":0},{"userid":100390,"name":"6K+g6YeK","score":0},{"userid":100334,"name":"576k5Li7","score":0},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]}]' WHERE userid = "100390"
264
UPDATE t_users SET roomid = null, history = '[{"uuid":"1523678996348220864","id":"220864","time":1523678997,"seats":[{"userid":100334,"name":"576k5Li7","score":6},{"userid":100390,"name":"6K+g6YeK","score":-2},{"userid":100335,"name":"5pyI5YWJ","score":-4},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523683566003780700","id":"780700","time":1523683566,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":0},{"userid":100390,"name":"6K+g6YeK","score":0},{"userid":100334,"name":"576k5Li7","score":0},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]}]' WHERE userid = "100333"
2900
UPDATE t_users SET roomid = null, history = '[{"uuid":"1522574109587388660","id":"388660","time":1522574110,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-29},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":11},{"userid":100357,"name":"5am35YS/","score":23},{"userid":100340,"name":"6Im+5qC86YeR5aaN5re66ZmM5Yid5b+D","score":-5}]},{"uuid":"1522575253083381504","id":"381504","time":1522575254,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":16},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100357,"name":"5am35YS/","score":45},{"userid":100340,"name":"6Im+5qC86YeR5aaN5re66ZmM5Yid5b+D","score":-38}]},{"uuid":"1522674632945516960","id":"516960","time":1522674633,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-38},{"userid":100355,"name":"6ZW/5a2Z6ZuA5Zyj","score":-39},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-63},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":140}]},{"uuid":"1522675431210706479","id":"706479","time":1522675432,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":0},{"userid":100355,"name":"6ZW/5a2Z6ZuA5Zyj","score":0},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":0},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":0}]},{"uuid":"1523627417627130382","id":"130382","time":1523627418,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-7},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-10},{"userid":100381,"name":"5pif54Gr","score":4},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":13}]},{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523678996348220864","id":"220864","time":1523678997,"seats":[{"userid":100334,"name":"576k5Li7","score":6},{"userid":100390,"name":"6K+g6YeK","score":-2},{"userid":100335,"name":"5pyI5YWJ","score":-4},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523683566003780700","id":"780700","time":1523683566,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":0},{"userid":100390,"name":"6K+g6YeK","score":0},{"userid":100334,"name":"576k5Li7","score":0},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]}]' WHERE userid = "100334"
DELETE FROM t_games WHERE room_uuid = '1523683566003780700'
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT history FROM t_users WHERE userid = "100333"
525
SELECT game_index,create_time,result FROM t_games_archive WHERE room_uuid = "1523683566003780700"
[ RowDataPacket {
    game_index: 0,
    create_time: 1523683781,
    result: '[-4,-4,-4,12]' },
  RowDataPacket {
    game_index: 1,
    create_time: 1523684107,
    result: '[27,-27,0,0]' },
  RowDataPacket {
    game_index: 2,
    create_time: 1523684227,
    result: '[48,-16,-16,-16]' } ]
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT game_index,create_time,result FROM t_games_archive WHERE room_uuid = "1523683566003780700"
[ RowDataPacket {
    game_index: 0,
    create_time: 1523683781,
    result: '[-4,-4,-4,12]' },
  RowDataPacket {
    game_index: 1,
    create_time: 1523684107,
    result: '[27,-27,0,0]' },
  RowDataPacket {
    game_index: 2,
    create_time: 1523684227,
    result: '[48,-16,-16,-16]' } ]
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT history FROM t_users WHERE userid = "100390"
525
SELECT game_index,create_time,result FROM t_games_archive WHERE room_uuid = "1523683566003780700"
[ RowDataPacket {
    game_index: 0,
    create_time: 1523683781,
    result: '[-4,-4,-4,12]' },
  RowDataPacket {
    game_index: 1,
    create_time: 1523684107,
    result: '[27,-27,0,0]' },
  RowDataPacket {
    game_index: 2,
    create_time: 1523684227,
    result: '[48,-16,-16,-16]' } ]
SELECT game_index,create_time,result FROM t_games_archive WHERE room_uuid = "1523683566003780700"
[ RowDataPacket {
    game_index: 0,
    create_time: 1523683781,
    result: '[-4,-4,-4,12]' },
  RowDataPacket {
    game_index: 1,
    create_time: 1523684107,
    result: '[27,-27,0,0]' },
  RowDataPacket {
    game_index: 2,
    create_time: 1523684227,
    result: '[48,-16,-16,-16]' } ]
SELECT game_index,create_time,result FROM t_games_archive WHERE room_uuid = "1523683566003780700"
[ RowDataPacket {
    game_index: 0,
    create_time: 1523683781,
    result: '[-4,-4,-4,12]' },
  RowDataPacket {
    game_index: 1,
    create_time: 1523684107,
    result: '[27,-27,0,0]' },
  RowDataPacket {
    game_index: 2,
    create_time: 1523684227,
    result: '[48,-16,-16,-16]' } ]
SELECT base_info,action_records FROM t_games_archive WHERE room_uuid = "1523683566003780700" AND game_index = 2
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT history FROM t_users WHERE userid = "100390"
525
SELECT game_index,create_time,result FROM t_games_archive WHERE room_uuid = "1523683566003780700"
[ RowDataPacket {
    game_index: 0,
    create_time: 1523683781,
    result: '[-4,-4,-4,12]' },
  RowDataPacket {
    game_index: 1,
    create_time: 1523684107,
    result: '[27,-27,0,0]' },
  RowDataPacket {
    game_index: 2,
    create_time: 1523684227,
    result: '[48,-16,-16,-16]' } ]
SELECT base_info,action_records FROM t_games_archive WHERE room_uuid = "1523683566003780700" AND game_index = 2
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT name,sex,headimg FROM t_users WHERE userid=100333
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT history FROM t_users WHERE userid = "100333"
525
SELECT game_index,create_time,result FROM t_games_archive WHERE room_uuid = "1523683566003780700"
[ RowDataPacket {
    game_index: 0,
    create_time: 1523683781,
    result: '[-4,-4,-4,12]' },
  RowDataPacket {
    game_index: 1,
    create_time: 1523684107,
    result: '[27,-27,0,0]' },
  RowDataPacket {
    game_index: 2,
    create_time: 1523684227,
    result: '[48,-16,-16,-16]' } ]
SELECT base_info,action_records FROM t_games_archive WHERE room_uuid = "1523683566003780700" AND game_index = 1
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT * FROM t_message WHERE type = "notice"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100335)  
++++++++++++++++++++++++++++++++++++
{"x":35.62072,"y":111.36828}
UPDATE t_users SET location='{"x":35.62072,"y":111.36828}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT name,sex,headimg FROM t_users WHERE userid=100333
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT gems FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT name,sex,headimg FROM t_users WHERE userid=100390
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100390)  
++++++++++++++++++++++++++++++++++++
{"x":35.620681,"y":111.368238}
UPDATE t_users SET location='{"x":35.620681,"y":111.368238}' WHERE account='wx_omM_A1NOMusnf4LKbEoKtDCDpKv0'
{ account: 'wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc',
  sign: 'ff2f9ddfc830c2c1ad6e0a9f19303583',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":1,"iplimit":0,"difen":1,"jinfen":2,"cheat":1,"clubId":111191,"type":"sjmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":1,"iplimit":0,"difen":1,"jinfen":2,"cheat":1,"clubId":111191,"type":"sjmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100335"
club_id is111191
{ type: 'sjmj',
  baseScore: 1,
  jinfen: 2,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100335,
  paytype: 1,
  cheat: false,
  clubId: 111191 }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523685120094387583','387583','{"type":"sjmj","baseScore":1,"jinfen":2,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100335,"paytype":1,"cheat":false,"clubId":111191}','127.0.0.1',10000,1523685121,100335,1,'111191')
1523685120094387583
SELECT ip,port FROM t_rooms WHERE id = "387583"
{ userid: '100335',
  name: '月光',
  roomid: '387583',
  sign: '545fbf483a70dec20a7f849a670fc1b7' }
545fbf483a70dec20a7f849a670fc1b7
SELECT gems FROM t_users WHERE userid = 100335
UPDATE t_rooms SET user_id0 = 100335,user_icon0 = "",user_name0 = "5pyI5YWJ" WHERE id = "387583"
{ token: 'de1bea39ada7a7e2e8aeb9b5f3005d83',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "387583" WHERE userid = "100335"
387583
de1bea39ada7a7e2e8aeb9b5f3005d83
1523685120124
5e8306ac23eca1a32813026725fe2b61
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100333)  
++++++++++++++++++++++++++++++++++++
{"x":35.621749,"y":111.367666}
UPDATE t_users SET location='{"x":35.621749,"y":111.367666}' WHERE account='wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=387583 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "387583"
{ userid: '100390',
  name: '诠释',
  roomid: '387583',
  sign: '1b62bc34f8fabf415f9e329f22c3247b' }
1b62bc34f8fabf415f9e329f22c3247b
SELECT gems FROM t_users WHERE userid = 100390
UPDATE t_rooms SET user_id1 = 100390,user_icon1 = "",user_name1 = "6K+g6YeK" WHERE id = "387583"
{ token: 'df2aed85571afa04b2299477296a3751',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "387583" WHERE userid = "100390"
387583
df2aed85571afa04b2299477296a3751
1523685124859
da595368600a8cd34fd71efd57495d59
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=387583 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "387583"
{ userid: '100333',
  name: '张麟华',
  roomid: '387583',
  sign: '7110e6247e685e1461db12f880454571' }
7110e6247e685e1461db12f880454571
SELECT gems FROM t_users WHERE userid = 100333
UPDATE t_rooms SET user_id2 = 100333,user_icon2 = "",user_name2 = "5byg6bqf5Y2O" WHERE id = "387583"
{ token: '8fcae98fda0eeaabe324e2285f332c65',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "387583" WHERE userid = "100333"
387583
8fcae98fda0eeaabe324e2285f332c65
1523685125366
8a33249f2776ea6e277553593d88c185
SELECT name,sex,headimg FROM t_users WHERE userid=100333
SELECT name,sex,headimg FROM t_users WHERE userid=100335
SELECT name,sex,headimg FROM t_users WHERE userid=100335
SELECT name,sex,headimg FROM t_users WHERE userid=100390
++++++++++++++++++++++++++++++++++++
{"x":35.620662,"y":111.368315}
UPDATE t_users SET location='{"x":35.620662,"y":111.368315}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100334)  
++++++++++++++++++++++++++++++++++++
{"x":35.620662,"y":111.368315}
UPDATE t_users SET location='{"x":35.620662,"y":111.368315}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=387583 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "387583"
{ userid: '100334',
  name: '群主',
  roomid: '387583',
  sign: '3552de9b1d0c44b03ca020c85f6be626' }
3552de9b1d0c44b03ca020c85f6be626
SELECT gems FROM t_users WHERE userid = 100334
UPDATE t_rooms SET user_id3 = 100334,user_icon3 = "",user_name3 = "576k5Li7" WHERE id = "387583"
{ token: '7996a9f8389212fca1d8ae726f856859',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "387583" WHERE userid = "100334"
387583
7996a9f8389212fca1d8ae726f856859
1523685173577
1fabf2ca97ca1e6a3c757d0b6c3bd3eb
begin start==============387583
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 20
game_action_push
begin end=================
SELECT name,sex,headimg FROM t_users WHERE userid=100334
SELECT name,sex,headimg FROM t_users WHERE userid=100334
SELECT name,sex,headimg FROM t_users WHERE userid=100334
SELECT name,sex,headimg FROM t_users WHERE userid=100334
SELECT name,sex,headimg FROM t_users WHERE userid=100334
SELECT name,sex,headimg FROM t_users WHERE userid=100334
chupai=========================100335 23
game_mopai_push
{}
Targert is 21
game_action_push
chupai=========================100390 28
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100333 23
game_mopai_push
{}
Targert is 19
game_action_push
chupai=========================100334 32
game_action_push
chupai=========================100335 27
game_mopai_push
{}
Targert is 13
game_action_push
chupai=========================100390 25
game_mopai_push
{}
Targert is 24
game_action_push
chupai=========================100333 33
game_mopai_push
{}
Targert is 9
game_action_push
chupai=========================100334 27
game_mopai_push
{}
Targert is 15
game_action_push
chupai=========================100335 28
game_mopai_push
{}
Targert is 27
game_action_push
chupai=========================100390 25
game_mopai_push
{}
Targert is 22
game_action_push
chupai=========================100333 31
game_mopai_push
{}
Targert is 18
game_action_push
chupai=========================100334 24
game_mopai_push
{}
Targert is 15
game_action_push
chupai=========================100335 8
game_mopai_push
{}
Targert is 1
game_action_push
chupai=========================100390 25
game_mopai_push
{}
Targert is 29
game_action_push
chupai=========================100333 29
game_action_push
chupai=========================100335 2
game_mopai_push
{}
Targert is 9
game_action_push
chupai=========================100390 27
game_mopai_push
{}
Targert is 19
game_action_push
chupai=========================100333 11
game_action_push
chupai=========================100334 0
game_mopai_push
{}
Targert is 10
game_action_push
chupai=========================100335 22
game_action_push
chupai=========================100333 19
game_mopai_push
{}
Targert is 33
game_action_push
chupai=========================100334 33
game_mopai_push
{}
Targert is 0
game_action_push
chupai=========================100335 0
game_mopai_push
{}
Targert is 10
game_action_push
chupai=========================100390 24
game_mopai_push
{}
Targert is 17
game_action_push
chupai=========================100333 0
game_mopai_push
{}
Targert is 12
game_action_push
chupai=========================100334 4
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100335 8
game_mopai_push
{}
Targert is 29
game_action_push
chupai=========================100390 29
game_mopai_push
{}
Targert is 6
game_action_push
chupai=========================100333 16
game_mopai_push
{}
Targert is 2
game_action_push
chupai=========================100334 2
game_mopai_push
{}
Targert is 6
game_action_push
chupai=========================100335 6
game_action_push
guo=================================100333
guo_result
game_mopai_push
{}
Targert is 15
game_action_push
guo end=============================
chupai=========================100390 18
game_mopai_push
{ '17': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 },
  '25': { pattern: 'normal', fan: 0 } }
Targert is 33
game_action_push
chupai=========================100333 17
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100334 8
game_mopai_push
{}
Targert is 32
game_action_push
gang=============100335       32
game_mopai_push
{}
Targert is 28
game_action_push
gang end===================
chupai=========================100335 15
game_action_push
chupai=========================100390 3
game_mopai_push
{ '23': { pattern: 'normal', fan: 0 },
  '25': { pattern: 'normal', fan: 0 },
  '33': { pattern: 'normal', fan: 0 } }
Targert is 31
game_action_push
chupai=========================100333 31
game_mopai_push
{}
Targert is 2
game_action_push
chupai=========================100334 2
game_mopai_push
{}
Targert is 16
game_action_push
chupai=========================100335 28
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 },
  '25': { pattern: 'normal', fan: 0 } }
Targert is 20
kunjin:  true
isMojin: true
isDajin: true
game_action_push
hu==========================100390
do game over!
roomid :387583
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
normal
UPDATE t_rooms SET next_button = 1 WHERE id = "387583"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523685120094387583',0,'{"type":"sjmj","button":0,"index":0,"mahjongs":[27,18,22,4,29,25,7,9,23,22,7,27,22,14,5,13,2,25,23,30,28,24,26,11,29,3,33,11,32,28,16,30,32,25,11,0,10,1,23,32,19,12,0,24,12,15,6,30,8,23,31,21,20,21,8,19,13,24,9,15,27,22,18,15,1,29,9,19,10,33,0,10,17,12,8,29,6,2,6,15,33,8,32,28,31,2,16,20,13,26,19,17,14,4,31,13,14,11,16,18,1,3,21,3,25,20,16,17,7,2,18,28,5,27,31,4,24,12,26,4,21,17,14,26,30,5,5,1,33,0,7,9,10,20,6,3],"jin":[23,25],"game_seats":[[27,29,23,22,2,28,29,32,32,10,19,12,8,20],[18,25,22,14,25,24,3,28,25,1,12,15,23],[22,7,7,5,23,26,33,16,11,23,0,6,31],[4,9,27,13,30,11,11,30,0,32,24,30,21]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[-7,25,-9,-9]' WHERE room_uuid = '1523685120094387583' AND game_index = 0
UPDATE t_games SET action_records = '[0,1,23,1,2,21,1,1,28,2,2,8,2,1,23,3,2,19,3,1,32,0,3,32,0,1,27,1,2,13,1,1,25,2,2,24,2,1,33,3,2,9,3,1,27,0,2,15,0,1,28,1,2,27,1,1,25,2,2,22,2,1,31,3,2,18,3,1,24,0,2,15,0,1,8,1,2,1,1,1,25,2,2,29,2,1,29,0,3,29,0,1,2,1,2,9,1,1,27,2,2,19,2,1,11,3,3,11,3,1,0,0,2,10,0,1,22,2,3,22,2,1,19,3,2,33,3,1,33,0,2,0,0,1,0,1,2,10,1,1,24,2,2,17,2,1,0,3,2,12,3,1,4,0,2,8,0,1,8,1,2,29,1,1,29,2,2,6,2,1,16,3,2,2,3,1,2,0,2,6,0,1,6,1,2,15,1,1,18,2,2,33,2,1,17,3,2,8,3,1,8,0,2,32,0,4,32,0,2,28,0,1,15,1,3,15,1,1,3,2,2,31,2,1,31,3,2,2,3,1,2,0,2,16,0,1,28,1,2,20,1,5,20]' WHERE room_uuid = '1523685120094387583' AND game_index = 0
UPDATE t_rooms SET num_of_turns = 1 WHERE id = "387583"
UPDATE t_users SET gems = gems -1 WHERE userid = 100335
UPDATE t_users SET gems = gems -1 WHERE userid = 100390
UPDATE t_users SET gems = gems -1 WHERE userid = 100333
UPDATE t_users SET gems = gems -1 WHERE userid = 100334
game_over_push
begin start==============387583
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 4
game_action_push
begin end=================
chupai=========================100390 30
game_mopai_push
{}
Targert is 30
game_action_push
chupai=========================100333 27
game_mopai_push
{}
Targert is 7
game_action_push
chupai=========================100334 33
game_mopai_push
{}
Targert is 11
game_action_push
chupai=========================100335 29
game_mopai_push
{}
Targert is 10
game_action_push
chupai=========================100390 32
game_mopai_push
{}
Targert is 2
game_action_push
chupai=========================100333 30
game_mopai_push
{}
Targert is 24
game_action_push
chupai=========================100334 30
game_mopai_push
{}
Targert is 26
game_action_push
chupai=========================100335 33
game_mopai_push
{}
Targert is 0
game_action_push
chupai=========================100390 31
game_mopai_push
{}
Targert is 33
game_action_push
chupai=========================100333 33
game_mopai_push
{}
Targert is 13
game_action_push
chupai=========================100334 31
game_mopai_push
{}
Targert is 27
game_action_push
chupai=========================100335 27
game_mopai_push
{}
Targert is 5
game_action_push
chupai=========================100390 0
game_mopai_push
{}
Targert is 14
game_action_push
chupai=========================100333 14
game_mopai_push
{}
Targert is 7
game_action_push
chupai=========================100334 28
game_action_push
chupai=========================100333 26
game_mopai_push
{}
Targert is 5
game_action_push
chupai=========================100334 18
game_mopai_push
{}
Targert is 1
game_action_push
chupai=========================100335 28
game_mopai_push
{}
Targert is 26
game_action_push
chupai=========================100390 8
game_action_push
chupai=========================100335 26
game_action_push
chupai=========================100390 10
game_mopai_push
{}
Targert is 29
game_action_push
chupai=========================100333 29
game_mopai_push
{}
Targert is 2
game_action_push
chupai=========================100334 25
game_action_push
chupai=========================100390 17
game_mopai_push
{}
Targert is 3
game_action_push
chupai=========================100333 25
game_mopai_push
{}
Targert is 33
game_action_push
chupai=========================100334 33
game_mopai_push
{}
Targert is 5
game_action_push
chupai=========================100335 5
game_mopai_push
{}
Targert is 32
game_action_push
chupai=========================100390 16
game_mopai_push
{ '6': { pattern: 'normal', fan: 0 },
  '15': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 24
game_action_push
chupai=========================100333 24
game_action_push
chupai=========================100334 7
game_mopai_push
{}
Targert is 14
game_action_push
chupai=========================100335 17
game_mopai_push
{}
Targert is 10
game_action_push
chupai=========================100390 32
game_mopai_push
{ '6': { pattern: 'normal', fan: 0 },
  '15': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 22
game_action_push
chupai=========================100333 22
game_mopai_push
{}
Targert is 24
game_action_push
gang=============100334       24
game_mopai_push
{}
Targert is 12
game_action_push
gang end===================
chupai=========================100334 21
game_mopai_push
{}
Targert is 22
game_action_push
chupai=========================100335 14
game_mopai_push
{}
Targert is 18
game_action_push
chupai=========================100390 10
game_mopai_push
{ '6': { pattern: 'normal', fan: 0 },
  '15': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 32
game_action_push
chupai=========================100333 32
game_mopai_push
{ '20': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 11
game_action_push
chupai=========================100334 20
game_mopai_push
{}
Targert is 31
game_action_push
chupai=========================100335 31
game_mopai_push
{}
Targert is 4
game_action_push
chupai=========================100390 18
game_mopai_push
{ '6': { pattern: 'normal', fan: 0 },
  '15': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 6
kunjin:  true
isMojin: true
isDajin: true
game_action_push
hu==========================100333
do game over!
roomid :387583
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
normal
UPDATE t_rooms SET next_button = 2 WHERE id = "387583"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523685120094387583',1,'{"type":"sjmj","button":1,"index":1,"mahjongs":[13,28,20,8,21,4,28,2,8,29,24,21,12,27,6,11,17,25,33,12,31,26,14,1,26,5,25,33,25,17,30,12,16,7,31,17,30,28,21,8,32,16,18,20,25,23,3,28,20,23,4,29,4,30,7,11,10,2,24,26,0,33,13,27,5,14,7,5,1,26,29,2,3,33,5,32,24,14,10,22,24,12,22,18,32,11,31,4,6,7,1,15,22,29,15,11,0,0,6,2,9,9,6,1,30,8,19,23,21,27,15,9,13,22,18,19,17,13,14,10,32,3,3,20,16,0,18,19,15,16,9,23,19,10,27,31],"jin":[29,30],"game_seats":[[8,2,21,11,12,1,33,12,17,8,20,28,29],[13,21,8,12,17,31,26,25,16,30,32,25,20,4],[28,4,29,27,25,26,5,17,7,28,16,23,23],[20,28,24,6,33,14,25,30,31,21,18,3,4]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[-9,-11,25,-5]' WHERE room_uuid = '1523685120094387583' AND game_index = 1
UPDATE t_games SET action_records = '[1,1,30,2,2,30,2,1,27,3,2,7,3,1,33,0,2,11,0,1,29,1,2,10,1,1,32,2,2,2,2,1,30,3,2,24,3,1,30,0,2,26,0,1,33,1,2,0,1,1,31,2,2,33,2,1,33,3,2,13,3,1,31,0,2,27,0,1,27,1,2,5,1,1,0,2,2,14,2,1,14,3,2,7,3,1,28,2,3,28,2,1,26,3,2,5,3,1,18,0,2,1,0,1,28,1,2,26,1,1,8,0,3,8,0,1,26,1,3,26,1,1,10,2,2,29,2,1,29,3,2,2,3,1,25,1,3,25,1,1,17,2,2,3,2,1,25,3,2,33,3,1,33,0,2,5,0,1,5,1,2,32,1,1,16,2,2,24,2,1,24,3,3,24,3,1,7,0,2,14,0,1,17,1,2,10,1,1,32,2,2,22,2,1,22,3,2,24,3,4,24,3,2,12,3,1,21,0,2,22,0,1,14,1,2,18,1,1,10,2,2,32,2,1,32,3,2,11,3,1,20,0,2,31,0,1,31,1,2,4,1,1,18,2,2,6,2,5,6]' WHERE room_uuid = '1523685120094387583' AND game_index = 1
UPDATE t_rooms SET num_of_turns = 2 WHERE id = "387583"
game_over_push
begin start==============387583
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 17
game_action_push
begin end=================
chupai=========================100333 17
game_mopai_push
{}
Targert is 18
game_action_push
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=387583 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "387583"
{ userid: '100390',
  name: '诠释',
  roomid: '387583',
  sign: '1b62bc34f8fabf415f9e329f22c3247b' }
1b62bc34f8fabf415f9e329f22c3247b
SELECT gems FROM t_users WHERE userid = 100390
{ token: 'a649b0308ab3b98d6817026718783502',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "387583" WHERE userid = "100390"
387583
a649b0308ab3b98d6817026718783502
1523685796632
52adb9de8a10a9d3e40ec9f8af7c1288
game_sync_push
game_action_push
chupai=========================100334 28
game_mopai_push
{}
Targert is 14
game_action_push
chupai=========================100335 11
game_mopai_push
{}
Targert is 26
game_action_push
chupai=========================100390 33
game_mopai_push
{}
Targert is 21
game_action_push
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=387583 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "387583"
{ userid: '100333',
  name: '张麟华',
  roomid: '387583',
  sign: '7110e6247e685e1461db12f880454571' }
7110e6247e685e1461db12f880454571
SELECT gems FROM t_users WHERE userid = 100333
{ token: '25cadef0653e8f2a36303ba9ee7e44fe',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "387583" WHERE userid = "100333"
387583
25cadef0653e8f2a36303ba9ee7e44fe
1523685916472
59e9934c5685c59651de6957e7406ef0
game_sync_push
game_action_push
chupai=========================100333 28
game_mopai_push
{}
Targert is 1
game_action_push
chupai=========================100334 27
game_mopai_push
{}
Targert is 26
game_action_push
chupai=========================100335 33
game_mopai_push
{}
Targert is 26
game_action_push
chupai=========================100390 31
game_mopai_push
{}
Targert is 19
game_action_push
chupai=========================100333 29
game_mopai_push
{}
Targert is 12
game_action_push
chupai=========================100334 10
game_mopai_push
{}
Targert is 14
game_action_push
chupai=========================100335 27
game_mopai_push
{}
Targert is 13
game_action_push
chupai=========================100390 29
game_mopai_push
{}
Targert is 3
game_action_push
chupai=========================100333 10
game_mopai_push
{}
Targert is 0
game_action_push
chupai=========================100334 18
game_mopai_push
{}
Targert is 2
game_action_push
chupai=========================100335 28
game_mopai_push
{}
Targert is 25
game_action_push
chupai=========================100390 27
game_mopai_push
{}
Targert is 16
game_action_push
chupai=========================100333 1
chupai=========================100333 1
no need chupai.
game_mopai_push
{}
Targert is 10
game_action_push
chupai=========================100334 26
game_action_push
chupai=========================100390 25
game_mopai_push
{}
Targert is 31
game_action_push
chupai=========================100333 3
game_mopai_push
{}
Targert is 23
game_action_push
chupai=========================100334 10
game_mopai_push
{}
Targert is 17
game_action_push
chupai=========================100335 18
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100390 11
game_mopai_push
{}
Targert is 29
game_action_push
chupai=========================100333 29
game_mopai_push
{}
Targert is 30
game_action_push
chupai=========================100334 30
game_action_push
chupai=========================100333 31
game_mopai_push
{}
Targert is 18
game_action_push
chupai=========================100334 18
game_mopai_push
{}
Targert is 33
game_action_push
chupai=========================100335 33
game_mopai_push
{}
Targert is 23
game_action_push
chupai=========================100390 8
game_mopai_push
{ '9': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 28
game_action_push
chupai=========================100333 28
game_mopai_push
{}
Targert is 9
game_action_push
chupai=========================100334 9
game_mopai_push
{}
Targert is 15
game_action_push
chupai=========================100335 7
game_mopai_push
{}
Targert is 4
game_action_push
chupai=========================100390 6
game_action_push
guo=================================100334
guo_result
game_mopai_push
{ '9': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 0
game_action_push
guo end=============================
chupai=========================100333 0
game_mopai_push
{}
Targert is 11
game_action_push
chupai=========================100334 6
game_mopai_push
{}
Targert is 9
game_action_push
chupai=========================100335 17
game_mopai_push
{}
Targert is 30
game_action_push
chupai=========================100390 30
game_mopai_push
{ '9': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 33
game_action_push
chupai=========================100333 33
game_mopai_push
{ '0': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '9': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '14': { pattern: 'normal', fan: 0 } }
Targert is 29
game_action_push
chupai=========================100334 29
game_mopai_push
{ '9': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '14': { pattern: 'normal', fan: 0 },
  '15': { pattern: 'normal', fan: 0 },
  '16': { pattern: 'normal', fan: 0 },
  '25': { pattern: 'normal', fan: 0 },
  '32': { pattern: 'normal', fan: 0 } }
Targert is 14
kunjin:  true
isMojin: true
isDajin: true
game_action_push
hu==========================100335
do game over!
roomid :387583
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
normal
UPDATE t_rooms SET next_button = 3 WHERE id = "387583"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523685120094387583',2,'{"type":"sjmj","button":2,"index":2,"mahjongs":[20,27,18,11,30,7,33,31,23,22,7,12,16,2,15,19,22,6,24,4,16,8,9,4,10,6,3,6,30,3,32,18,19,10,4,27,19,21,32,29,29,28,27,22,28,26,28,33,1,13,11,20,17,18,14,26,21,1,26,26,19,12,14,13,3,0,2,25,16,10,31,23,17,8,29,30,18,33,23,28,9,15,4,0,11,9,30,33,29,14,25,25,15,20,16,24,5,13,8,0,31,23,27,5,14,32,12,7,31,15,5,32,2,25,24,7,5,1,2,0,21,1,17,3,10,24,8,12,13,21,11,9,22,20,6,17],"jin":[9,11],"game_seats":[[18,33,7,15,24,9,3,32,4,32,27,28,11],[11,31,12,19,4,4,6,18,27,29,22,33,20],[20,30,23,16,22,16,10,30,19,19,29,28,1,17],[27,7,22,2,6,8,6,3,10,21,28,26,13]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[14,-4,-6,-4]' WHERE room_uuid = '1523685120094387583' AND game_index = 2
UPDATE t_games SET action_records = '[2,1,17,3,2,18,3,1,28,0,2,14,0,1,11,1,2,26,1,1,33,2,2,21,2,1,28,3,2,1,3,1,27,0,2,26,0,1,33,1,2,26,1,1,31,2,2,19,2,1,29,3,2,12,3,1,10,0,2,14,0,1,27,1,2,13,1,1,29,2,2,3,2,1,10,3,2,0,3,1,18,0,2,2,0,1,28,1,2,25,1,1,27,2,2,16,2,1,1,3,2,10,3,1,26,1,3,26,1,1,25,2,2,31,2,1,3,3,2,23,3,1,10,0,2,17,0,1,18,1,2,8,1,1,11,2,2,29,2,1,29,3,2,30,3,1,30,2,3,30,2,1,31,3,2,18,3,1,18,0,2,33,0,1,33,1,2,23,1,1,8,2,2,28,2,1,28,3,2,9,3,1,9,0,2,15,0,1,7,1,2,4,1,1,6,2,2,0,2,1,0,3,2,11,3,1,6,0,2,9,0,1,17,1,2,30,1,1,30,2,2,33,2,1,33,3,2,29,3,1,29,0,2,14,0,5,14]' WHERE room_uuid = '1523685120094387583' AND game_index = 2
UPDATE t_rooms SET num_of_turns = 3 WHERE id = "387583"
game_over_push
begin start==============387583
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 32
game_action_push
begin end=================
chupai=========================100334 26
game_mopai_push
{}
Targert is 28
game_action_push
chupai=========================100335 32
game_action_push
chupai=========================100334 16
game_mopai_push
{}
Targert is 1
game_action_push
chupai=========================100335 29
game_mopai_push
{}
Targert is 10
game_action_push
chupai=========================100390 17
game_mopai_push
{}
Targert is 22
game_action_push
chupai=========================100333 17
game_mopai_push
{}
Targert is 31
game_action_push
chupai=========================100334 31
game_mopai_push
{}
Targert is 18
game_action_push
chupai=========================100335 17
game_mopai_push
{}
Targert is 26
game_action_push
chupai=========================100390 33
game_mopai_push
{}
Targert is 23
game_action_push
chupai=========================100333 27
game_mopai_push
{}
Targert is 18
game_action_push
chupai=========================100334 18
game_mopai_push
{}
Targert is 27
game_action_push
chupai=========================100335 28
game_mopai_push
{}
Targert is 9
game_action_push
chupai=========================100390 30
game_mopai_push
{}
Targert is 4
game_action_push
chupai=========================100333 10
game_mopai_push
{}
Targert is 22
game_action_push
chupai=========================100334 9
game_mopai_push
{}
Targert is 29
game_action_push
chupai=========================100335 27
game_mopai_push
{}
Targert is 0
game_action_push
chupai=========================100390 15
game_mopai_push
{}
Targert is 11
game_action_push
chupai=========================100333 11
game_mopai_push
{}
Targert is 24
game_action_push
chupai=========================100334 24
game_mopai_push
{}
Targert is 31
game_action_push
chupai=========================100335 29
game_mopai_push
{}
Targert is 31
game_action_push
chupai=========================100390 31
game_mopai_push
{}
Targert is 26
game_action_push
chupai=========================100333 26
game_mopai_push
{}
Targert is 27
game_action_push
chupai=========================100334 27
game_mopai_push
{}
Targert is 13
game_action_push
chupai=========================100335 31
game_mopai_push
{}
Targert is 19
game_action_push
chupai=========================100390 26
game_mopai_push
{}
Targert is 33
game_action_push
chupai=========================100333 33
game_mopai_push
{}
Targert is 1
game_action_push
chupai=========================100334 10
game_mopai_push
{}
Targert is 15
game_action_push
chupai=========================100335 18
game_mopai_push
{}
Targert is 15
game_action_push
chupai=========================100390 15
game_mopai_push
{}
Targert is 6
game_action_push
chupai=========================100333 25
game_mopai_push
{}
Targert is 32
game_action_push
gang=============100334       32
game_mopai_push
{}
Targert is 9
game_action_push
gang end===================
chupai=========================100334 12
game_action_push
chupai=========================100335 8
game_mopai_push
{}
Targert is 19
game_action_push
chupai=========================100390 25
game_mopai_push
{}
Targert is 2
game_action_push
chupai=========================100333 2
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100334 8
game_mopai_push
{}
Targert is 30
game_action_push
chupai=========================100335 30
game_mopai_push
{}
Targert is 4
game_action_push
chupai=========================100390 9
game_mopai_push
{}
Targert is 18
game_action_push
chupai=========================100333 23
game_action_push
chupai=========================100390 10
game_mopai_push
{ '7': { fan: 2, pattern: '7pairs' },
  '16': { fan: 2, pattern: '7pairs' },
  '17': { fan: 2, pattern: '7pairs' } }
Targert is 20
game_action_push
chupai=========================100333 20
game_mopai_push
{}
Targert is 26
game_action_push
chupai=========================100334 26
game_mopai_push
{}
Targert is 2
game_action_push
chupai=========================100335 13
game_mopai_push
{}
Targert is 0
game_action_push
chupai=========================100390 5
game_mopai_push
{ '7': { fan: 2, pattern: '7pairs' },
  '16': { fan: 2, pattern: '7pairs' },
  '17': { fan: 2, pattern: '7pairs' } }
Targert is 30
game_action_push
chupai=========================100333 30
game_mopai_push
{}
Targert is 29
game_action_push
chupai=========================100334 29
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 },
  '15': { pattern: 'normal', fan: 0 },
  '16': { pattern: 'normal', fan: 0 },
  '17': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 } }
Targert is 8
game_action_push
chupai=========================100335 8
game_mopai_push
{}
Targert is 13
game_action_push
chupai=========================100390 13
game_mopai_push
{ '7': { fan: 2, pattern: '7pairs' },
  '16': { fan: 2, pattern: '7pairs' },
  '17': { fan: 2, pattern: '7pairs' } }
Targert is 12
game_action_push
chupai=========================100333 12
game_mopai_push
{}
Targert is 13
game_action_push
chupai=========================100334 9
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 },
  '15': { pattern: 'normal', fan: 0 },
  '16': { pattern: 'normal', fan: 0 },
  '17': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 } }
Targert is 33
game_action_push
chupai=========================100335 33
game_mopai_push
{}
Targert is 33
game_action_push
chupai=========================100390 33
game_mopai_push
{ '7': { fan: 2, pattern: '7pairs' },
  '16': { fan: 2, pattern: '7pairs' },
  '17': { fan: 2, pattern: '7pairs' } }
Targert is 0
game_action_push
chupai=========================100333 0
game_action_push
gang=============100390       0
game_mopai_push
{}
Targert is 13
game_action_push
gang end===================
chupai=========================100390 13
game_mopai_push
{ '7': { fan: 2, pattern: '7pairs' },
  '16': { fan: 2, pattern: '7pairs' },
  '17': { fan: 2, pattern: '7pairs' } }
Targert is 25
game_action_push
chupai=========================100333 25
game_mopai_push
{}
Targert is 28
game_action_push
chupai=========================100334 28
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 },
  '15': { pattern: 'normal', fan: 0 },
  '16': { pattern: 'normal', fan: 0 },
  '17': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 } }
Targert is 11
game_action_push
chupai=========================100335 11
game_mopai_push
{}
Targert is 29
game_action_push
chupai=========================100390 29
game_mopai_push
{ '7': { fan: 2, pattern: '7pairs' },
  '16': { fan: 2, pattern: '7pairs' },
  '17': { fan: 2, pattern: '7pairs' } }
Targert is 24
game_action_push
chupai=========================100333 24
game_mopai_push
{}
Targert is 1
game_action_push
chupai=========================100334 3
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 },
  '15': { pattern: 'normal', fan: 0 },
  '16': { pattern: 'normal', fan: 0 },
  '17': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 } }
Targert is 16
kunjin:  true
isMojin: true
isDajin: true
game_action_push
hu==========================100335
do game over!
roomid :387583
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
normal
UPDATE t_rooms SET next_button = 0 WHERE id = "387583"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523685120094387583',3,'{"type":"sjmj","button":3,"index":3,"mahjongs":[14,5,21,14,3,29,30,27,16,16,4,25,6,16,33,19,9,6,15,19,26,20,21,17,32,12,23,6,15,12,17,10,5,32,25,14,12,8,23,7,10,17,22,18,21,21,0,4,1,3,5,22,32,28,1,10,22,31,18,26,23,18,27,9,4,22,29,0,11,24,31,31,26,27,13,19,33,1,15,15,6,32,9,19,2,8,30,4,18,20,26,2,0,30,29,8,13,12,13,33,33,0,13,25,28,11,29,24,1,16,3,5,8,7,20,2,27,3,31,7,25,20,30,23,14,10,24,11,28,7,9,24,11,17,28,2],"jin":[16,17],"game_seats":[[5,29,16,16,6,20,12,12,32,8,17,21,3],[21,30,4,33,15,21,23,17,25,23,22,0,5],[14,27,25,19,19,17,6,10,14,7,18,4,22],[14,3,16,6,9,26,32,15,5,12,10,21,1,32]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[12,-2,-6,-4]' WHERE room_uuid = '1523685120094387583' AND game_index = 3
UPDATE t_games SET action_records = '[3,1,26,0,2,28,0,1,32,3,3,32,3,1,16,0,2,1,0,1,29,1,2,10,1,1,17,2,2,22,2,1,17,3,2,31,3,1,31,0,2,18,0,1,17,1,2,26,1,1,33,2,2,23,2,1,27,3,2,18,3,1,18,0,2,27,0,1,28,1,2,9,1,1,30,2,2,4,2,1,10,3,2,22,3,1,9,0,2,29,0,1,27,1,2,0,1,1,15,2,2,11,2,1,11,3,2,24,3,1,24,0,2,31,0,1,29,1,2,31,1,1,31,2,2,26,2,1,26,3,2,27,3,1,27,0,2,13,0,1,31,1,2,19,1,1,26,2,2,33,2,1,33,3,2,1,3,1,10,0,2,15,0,1,18,1,2,15,1,1,15,2,2,6,2,1,25,3,2,32,3,4,32,3,2,9,3,1,12,0,3,12,0,1,8,1,2,19,1,1,25,2,2,2,2,1,2,3,2,8,3,1,8,0,2,30,0,1,30,1,2,4,1,1,9,2,2,18,2,1,23,1,3,23,1,1,10,2,2,20,2,1,20,3,2,26,3,1,26,0,2,2,0,1,13,1,2,0,1,1,5,2,2,30,2,1,30,3,2,29,3,1,29,0,2,8,0,1,8,1,2,13,1,1,13,2,2,12,2,1,12,3,2,13,3,1,9,0,2,33,0,1,33,1,2,33,1,1,33,2,2,0,2,1,0,1,4,0,1,2,13,1,1,13,2,2,25,2,1,25,3,2,28,3,1,28,0,2,11,0,1,11,1,2,29,1,1,29,2,2,24,2,1,24,3,2,1,3,1,3,0,2,16,0,5,16]' WHERE room_uuid = '1523685120094387583' AND game_index = 3
UPDATE t_rooms SET num_of_turns = 4 WHERE id = "387583"
game_over_push
SELECT history FROM t_users WHERE userid = "100335"
SELECT history FROM t_users WHERE userid = "100390"
SELECT history FROM t_users WHERE userid = "100333"
SELECT history FROM t_users WHERE userid = "100334"
UPDATE t_users SET roomid = null WHERE userid = "100335"
UPDATE t_users SET roomid = null WHERE userid = "100390"
UPDATE t_users SET roomid = null WHERE userid = "100333"
UPDATE t_users SET roomid = null WHERE userid = "100334"
DELETE FROM t_rooms WHERE id = '387583'
INSERT INTO t_games_archive(SELECT * FROM t_games WHERE room_uuid = '1523685120094387583')
2858
UPDATE t_users SET roomid = null, history = '[{"uuid":"1522575253083381504","id":"381504","time":1522575254,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":16},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100357,"name":"5am35YS/","score":45},{"userid":100340,"name":"6Im+5qC86YeR5aaN5re66ZmM5Yid5b+D","score":-38}]},{"uuid":"1522674632945516960","id":"516960","time":1522674633,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-38},{"userid":100355,"name":"6ZW/5a2Z6ZuA5Zyj","score":-39},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-63},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":140}]},{"uuid":"1522675431210706479","id":"706479","time":1522675432,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":0},{"userid":100355,"name":"6ZW/5a2Z6ZuA5Zyj","score":0},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":0},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":0}]},{"uuid":"1523627417627130382","id":"130382","time":1523627418,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-7},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-10},{"userid":100381,"name":"5pif54Gr","score":4},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":13}]},{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523678996348220864","id":"220864","time":1523678997,"seats":[{"userid":100334,"name":"576k5Li7","score":6},{"userid":100390,"name":"6K+g6YeK","score":-2},{"userid":100335,"name":"5pyI5YWJ","score":-4},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523683566003780700","id":"780700","time":1523683566,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":0},{"userid":100390,"name":"6K+g6YeK","score":0},{"userid":100334,"name":"576k5Li7","score":0},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523685120094387583","id":"387583","time":1523685121,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":10},{"userid":100390,"name":"6K+g6YeK","score":8},{"userid":100333,"name":"5byg6bqf5Y2O","score":4},{"userid":100334,"name":"576k5Li7","score":-22}]}]' WHERE userid = "100335"
525
UPDATE t_users SET roomid = null, history = '[{"uuid":"1523678996348220864","id":"220864","time":1523678997,"seats":[{"userid":100334,"name":"576k5Li7","score":6},{"userid":100390,"name":"6K+g6YeK","score":-2},{"userid":100335,"name":"5pyI5YWJ","score":-4},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523683566003780700","id":"780700","time":1523683566,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":0},{"userid":100390,"name":"6K+g6YeK","score":0},{"userid":100334,"name":"576k5Li7","score":0},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523685120094387583","id":"387583","time":1523685121,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":10},{"userid":100390,"name":"6K+g6YeK","score":8},{"userid":100333,"name":"5byg6bqf5Y2O","score":4},{"userid":100334,"name":"576k5Li7","score":-22}]}]' WHERE userid = "100390"
525
UPDATE t_users SET roomid = null, history = '[{"uuid":"1523678996348220864","id":"220864","time":1523678997,"seats":[{"userid":100334,"name":"576k5Li7","score":6},{"userid":100390,"name":"6K+g6YeK","score":-2},{"userid":100335,"name":"5pyI5YWJ","score":-4},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523683566003780700","id":"780700","time":1523683566,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":0},{"userid":100390,"name":"6K+g6YeK","score":0},{"userid":100334,"name":"576k5Li7","score":0},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523685120094387583","id":"387583","time":1523685121,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":10},{"userid":100390,"name":"6K+g6YeK","score":8},{"userid":100333,"name":"5byg6bqf5Y2O","score":4},{"userid":100334,"name":"576k5Li7","score":-22}]}]' WHERE userid = "100333"
2858
UPDATE t_users SET roomid = null, history = '[{"uuid":"1522575253083381504","id":"381504","time":1522575254,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":16},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100357,"name":"5am35YS/","score":45},{"userid":100340,"name":"6Im+5qC86YeR5aaN5re66ZmM5Yid5b+D","score":-38}]},{"uuid":"1522674632945516960","id":"516960","time":1522674633,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-38},{"userid":100355,"name":"6ZW/5a2Z6ZuA5Zyj","score":-39},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-63},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":140}]},{"uuid":"1522675431210706479","id":"706479","time":1522675432,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":0},{"userid":100355,"name":"6ZW/5a2Z6ZuA5Zyj","score":0},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":0},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":0}]},{"uuid":"1523627417627130382","id":"130382","time":1523627418,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-7},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-10},{"userid":100381,"name":"5pif54Gr","score":4},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":13}]},{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523678996348220864","id":"220864","time":1523678997,"seats":[{"userid":100334,"name":"576k5Li7","score":6},{"userid":100390,"name":"6K+g6YeK","score":-2},{"userid":100335,"name":"5pyI5YWJ","score":-4},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523683566003780700","id":"780700","time":1523683566,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":0},{"userid":100390,"name":"6K+g6YeK","score":0},{"userid":100334,"name":"576k5Li7","score":0},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523685120094387583","id":"387583","time":1523685121,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":10},{"userid":100390,"name":"6K+g6YeK","score":8},{"userid":100333,"name":"5byg6bqf5Y2O","score":4},{"userid":100334,"name":"576k5Li7","score":-22}]}]' WHERE userid = "100334"
DELETE FROM t_games WHERE room_uuid = '1523685120094387583'
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT history FROM t_users WHERE userid = "100333"
789
SELECT game_index,create_time,result FROM t_games_archive WHERE room_uuid = "1523685120094387583"
[ RowDataPacket {
    game_index: 0,
    create_time: 1523685313,
    result: '[-7,25,-9,-9]' },
  RowDataPacket {
    game_index: 1,
    create_time: 1523685567,
    result: '[-9,-11,25,-5]' },
  RowDataPacket {
    game_index: 2,
    create_time: 1523686013,
    result: '[14,-4,-6,-4]' },
  RowDataPacket {
    game_index: 3,
    create_time: 1523686227,
    result: '[12,-2,-6,-4]' } ]
SELECT base_info,action_records FROM t_games_archive WHERE room_uuid = "1523685120094387583" AND game_index = 3
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT name,sex,headimg FROM t_users WHERE userid=100333
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT gems FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT gems FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT name,sex,headimg FROM t_users WHERE userid=100390
SELECT gems FROM t_users WHERE account = "wx_omM_A1NOMusnf4LKbEoKtDCDpKv0"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE creator = "100334"
++++++++++++++++++++++++++++++++++++
{"x":35.620653,"y":111.368312}
UPDATE t_users SET location='{"x":35.620653,"y":111.368312}' WHERE account='wx_omM_A1NOMusnf4LKbEoKtDCDpKv0'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT name,sex,headimg FROM t_users WHERE userid=100335
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100335)  
++++++++++++++++++++++++++++++++++++
{"x":35.624371,"y":110.896801}
UPDATE t_users SET location='{"x":35.624371,"y":110.896801}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
++++++++++++++++++++++++++++++++++++
{"x":35.624371,"y":110.896801}
UPDATE t_users SET location='{"x":35.624371,"y":110.896801}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
{ account: 'wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc',
  sign: 'ff2f9ddfc830c2c1ad6e0a9f19303583',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100335"
club_id is
{ type: 'sjmj',
  baseScore: 0.5,
  jinfen: 1,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100335,
  paytype: 0,
  cheat: false,
  clubId: '' }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523706602510631795','631795','{"type":"sjmj","baseScore":0.5,"jinfen":1,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100335,"paytype":0,"cheat":false,"clubId":""}','127.0.0.1',10000,1523706603,100335,4,'')
1523706602510631795
SELECT ip,port FROM t_rooms WHERE id = "631795"
{ userid: '100335',
  name: '月光',
  roomid: '631795',
  sign: '71e26b0d62a37d7cc111912fcbcdbd19' }
71e26b0d62a37d7cc111912fcbcdbd19
SELECT gems FROM t_users WHERE userid = 100335
UPDATE t_rooms SET user_id0 = 100335,user_icon0 = "",user_name0 = "5pyI5YWJ" WHERE id = "631795"
{ token: 'adde36bce2685b4be5005712232c3ddc',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "631795" WHERE userid = "100335"
631795
adde36bce2685b4be5005712232c3ddc
1523706602534
4538a025e6f52e0de73d1ce61460dc73
100335			100335
UPDATE t_users SET roomid = null WHERE userid = "100335"
DELETE FROM t_rooms WHERE id = '631795'
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
++++++++++++++++++++++++++++++++++++
{"x":35.62436,"y":110.896853}
UPDATE t_users SET location='{"x":35.62436,"y":110.896853}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
{ account: 'wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc',
  sign: 'ff2f9ddfc830c2c1ad6e0a9f19303583',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100335"
club_id is
{ type: 'sjmj',
  baseScore: 0.5,
  jinfen: 1,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100335,
  paytype: 0,
  cheat: false,
  clubId: '' }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523707851904088985','088985','{"type":"sjmj","baseScore":0.5,"jinfen":1,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100335,"paytype":0,"cheat":false,"clubId":""}','127.0.0.1',10000,1523707852,100335,4,'')
1523707851904088985
SELECT ip,port FROM t_rooms WHERE id = "088985"
{ userid: '100335',
  name: '月光',
  roomid: '088985',
  sign: 'd4c511534c50d64db132bf94f4ed3bb8' }
d4c511534c50d64db132bf94f4ed3bb8
SELECT gems FROM t_users WHERE userid = 100335
UPDATE t_rooms SET user_id0 = 100335,user_icon0 = "",user_name0 = "5pyI5YWJ" WHERE id = "088985"
{ token: '4b8f79c54be49f2962cd3ebbcb91683f',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "088985" WHERE userid = "100335"
088985
4b8f79c54be49f2962cd3ebbcb91683f
1523707851927
66fcdccab5210fa6c17a0350087994e8
100335			100335
UPDATE t_users SET roomid = null WHERE userid = "100335"
DELETE FROM t_rooms WHERE id = '088985'
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT name,sex,headimg FROM t_users WHERE userid=100335
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
++++++++++++++++++++++++++++++++++++
{"x":35.624371,"y":110.896796}
UPDATE t_users SET location='{"x":35.624371,"y":110.896796}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1Npavij7q3w6NN_yqGnjrFU"
SELECT name,sex,headimg FROM t_users WHERE userid=100355
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1Npavij7q3w6NN_yqGnjrFU"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1IFv55ZW5ynqJByk17VH9_s"
SELECT name,sex,headimg FROM t_users WHERE userid=100381
SELECT gems FROM t_users WHERE account = "wx_omM_A1IFv55ZW5ynqJByk17VH9_s"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100381)  
2,null
++++++++++++++++++++++++++++++++++++
{"x":35.624338,"y":110.896825}
UPDATE t_users SET location='{"x":35.624338,"y":110.896825}' WHERE account='wx_omM_A1IFv55ZW5ynqJByk17VH9_s'
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100335)  
++++++++++++++++++++++++++++++++++++
{"x":35.624372,"y":110.896809}
UPDATE t_users SET location='{"x":35.624372,"y":110.896809}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
++++++++++++++++++++++++++++++++++++
{"x":35.624371,"y":110.896822}
UPDATE t_users SET location='{"x":35.624371,"y":110.896822}' WHERE account='wx_omM_A1IFv55ZW5ynqJByk17VH9_s'
{ account: 'wx_omM_A1IFv55ZW5ynqJByk17VH9_s',
  sign: '3d6e98685301b4b28b775046c60ac3da',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":1,"iplimit":0,"difen":1,"jinfen":2,"cheat":1,"clubId":"","type":"sjmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":1,"iplimit":0,"difen":1,"jinfen":2,"cheat":1,"clubId":"","type":"sjmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1IFv55ZW5ynqJByk17VH9_s"
SELECT gems FROM t_users WHERE account = "wx_omM_A1IFv55ZW5ynqJByk17VH9_s"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100381"
club_id is
{ type: 'sjmj',
  baseScore: 1,
  jinfen: 2,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100381,
  paytype: 1,
  cheat: false,
  clubId: '' }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523709705632602342','602342','{"type":"sjmj","baseScore":1,"jinfen":2,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100381,"paytype":1,"cheat":false,"clubId":""}','127.0.0.1',10000,1523709706,100381,1,'')
1523709705632602342
SELECT ip,port FROM t_rooms WHERE id = "602342"
{ userid: '100381',
  name: '星火',
  roomid: '602342',
  sign: 'acc9d429f4bee973d67bd122bf599b97' }
acc9d429f4bee973d67bd122bf599b97
SELECT gems FROM t_users WHERE userid = 100381
UPDATE t_rooms SET user_id0 = 100381,user_icon0 = "",user_name0 = "5pif54Gr" WHERE id = "602342"
{ token: '37f02891eb8c56335c77c3a5f70d056b',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "602342" WHERE userid = "100381"
602342
37f02891eb8c56335c77c3a5f70d056b
1523709705646
d9b187f76ef5200410cec852641c713c
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT name,sex,headimg FROM t_users WHERE userid=100334
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
++++++++++++++++++++++++++++++++++++
{"x":35.624381,"y":110.89684}
UPDATE t_users SET location='{"x":35.624381,"y":110.89684}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=602342 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "602342"
{ userid: '100334',
  name: '群主',
  roomid: '602342',
  sign: 'c8653c7fe3f8f20ff5bea7f40a77ba9f' }
c8653c7fe3f8f20ff5bea7f40a77ba9f
SELECT gems FROM t_users WHERE userid = 100334
UPDATE t_rooms SET user_id1 = 100334,user_icon1 = "",user_name1 = "576k5Li7" WHERE id = "602342"
{ token: '8fdf8b997ccfdb47df702f3d5ecac49f',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "602342" WHERE userid = "100334"
602342
8fdf8b997ccfdb47df702f3d5ecac49f
1523709754800
f878d0daabfb9787dab5166c049e0963
SELECT name,sex,headimg FROM t_users WHERE userid=100381
SELECT name,sex,headimg FROM t_users WHERE userid=100334
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1IFv55ZW5ynqJByk17VH9_s"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=602342 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "602342"
{ userid: '100381',
  name: '星火',
  roomid: '602342',
  sign: 'acc9d429f4bee973d67bd122bf599b97' }
acc9d429f4bee973d67bd122bf599b97
SELECT gems FROM t_users WHERE userid = 100381
{ token: 'f7fd5f1c7db476451c4c2f9d82abe217',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "602342" WHERE userid = "100381"
602342
f7fd5f1c7db476451c4c2f9d82abe217
1523709894523
d36652df417b19d1a03462d8788049e8
++++++++++++++++++++++++++++++++++++
{"x":35.62437,"y":110.896857}
UPDATE t_users SET location='{"x":35.62437,"y":110.896857}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N75c3Lu8hC08SI3VoH1tpE"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=602342 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "602342"
{ userid: '100335',
  name: '月光',
  roomid: '602342',
  sign: 'c1a704ff5bf98e47dca441dda573133e' }
c1a704ff5bf98e47dca441dda573133e
SELECT gems FROM t_users WHERE userid = 100335
UPDATE t_rooms SET user_id2 = 100335,user_icon2 = "",user_name2 = "5pyI5YWJ" WHERE id = "602342"
{ token: '8d694ca59ceed5cde026d9d697d73608',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "602342" WHERE userid = "100335"
602342
8d694ca59ceed5cde026d9d697d73608
1523709928522
09ff250610bbcb716840901e9c3b647d
SELECT name,sex,headimg FROM t_users WHERE userid=100335
SELECT name,sex,headimg FROM t_users WHERE userid=100335
SELECT name,sex,headimg FROM t_users WHERE userid=100341
SELECT gems FROM t_users WHERE account = "wx_omM_A1N75c3Lu8hC08SI3VoH1tpE"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT name,sex,headimg FROM t_users WHERE userid=100381
SELECT name,sex,headimg FROM t_users WHERE userid=100334
Android
SELECT userid FROM t_users WHERE account = "wx_omM_A1N75c3Lu8hC08SI3VoH1tpE"
UPDATE t_users SET name="Kl5f6L6JX14q",headimg="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLKsib0F3x7WO9Qxa0UmccTV66GHReytSibAgCOVicQfYzpIozCtUWVHMOdejib51ZFk7JfYuUPpheP2A/132",sex=1 WHERE account="wx_omM_A1N75c3Lu8hC08SI3VoH1tpE"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N75c3Lu8hC08SI3VoH1tpE"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N75c3Lu8hC08SI3VoH1tpE"
++++++++++++++++++++++++++++++++++++
{"x":35.624271,"y":110.896876}
UPDATE t_users SET location='{"x":35.624271,"y":110.896876}' WHERE account='wx_omM_A1N75c3Lu8hC08SI3VoH1tpE'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N75c3Lu8hC08SI3VoH1tpE"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=602342 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "602342"
{ userid: '100341',
  name: '*^_辉_^*',
  roomid: '602342',
  sign: 'b77f66f9cfd94015ceba49f53a1849af' }
b77f66f9cfd94015ceba49f53a1849af
SELECT gems FROM t_users WHERE userid = 100341
UPDATE t_rooms SET user_id3 = 100341,user_icon3 = "",user_name3 = "Kl5f6L6JX14q" WHERE id = "602342"
{ token: 'a33d8be6d73913ad5b26a6fc0e90bea0',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "602342" WHERE userid = "100341"
602342
a33d8be6d73913ad5b26a6fc0e90bea0
1523709967896
c714ee91a1c535ffbb4cc0af78809e6d
begin start==============602342
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 25
game_action_push
begin end=================
SELECT name,sex,headimg FROM t_users WHERE userid=100341
SELECT name,sex,headimg FROM t_users WHERE userid=100341
SELECT name,sex,headimg FROM t_users WHERE userid=100341
SELECT name,sex,headimg FROM t_users WHERE userid=100341
SELECT name,sex,headimg FROM t_users WHERE userid=100341
SELECT name,sex,headimg FROM t_users WHERE userid=100341
SELECT name,sex,headimg FROM t_users WHERE userid=100341
SELECT name,sex,headimg FROM t_users WHERE userid=100341
SELECT name,sex,headimg FROM t_users WHERE userid=100341
SELECT name,sex,headimg FROM t_users WHERE userid=100381
SELECT name,sex,headimg FROM t_users WHERE userid=100334
SELECT name,sex,headimg FROM t_users WHERE userid=100335
chupai=========================100381 33
game_mopai_push
{}
Targert is 23
game_action_push
chupai=========================100334 8
game_mopai_push
{}
Targert is 26
game_action_push
chupai=========================100335 33
game_mopai_push
{}
Targert is 22
game_action_push
chupai=========================100341 28
game_mopai_push
{}
Targert is 22
game_action_push
chupai=========================100381 28
game_mopai_push
{}
Targert is 29
game_action_push
chupai=========================100334 0
game_mopai_push
{}
Targert is 31
game_action_push
chupai=========================100335 29
game_mopai_push
{}
Targert is 6
game_action_push
chupai=========================100341 31
game_action_push
chupai=========================100335 0
game_mopai_push
{}
Targert is 4
game_action_push
chupai=========================100341 32
game_mopai_push
{}
Targert is 3
game_action_push
chupai=========================100381 30
game_mopai_push
{}
Targert is 9
game_action_push
chupai=========================100334 29
game_mopai_push
{}
Targert is 30
game_action_push
chupai=========================100335 30
game_mopai_push
{}
Targert is 12
game_action_push
chupai=========================100341 22
game_mopai_push
{}
Targert is 23
game_action_push
chupai=========================100381 8
game_mopai_push
{}
Targert is 20
game_action_push
chupai=========================100334 10
game_mopai_push
{}
Targert is 15
game_action_push
chupai=========================100335 19
game_mopai_push
{}
Targert is 33
game_action_push
chupai=========================100341 33
game_mopai_push
{}
Targert is 7
game_action_push
chupai=========================100381 25
game_mopai_push
{}
Targert is 3
game_action_push
chupai=========================100334 3
game_action_push
guo=================================100381
guo_result
game_mopai_push
{}
Targert is 32
game_action_push
guo end=============================
chupai=========================100335 32
game_mopai_push
{}
Targert is 24
game_action_push
chupai=========================100341 19
game_mopai_push
{}
Targert is 9
game_action_push
chupai=========================100381 9
game_mopai_push
{}
Targert is 21
game_action_push
chupai=========================100334 13
game_mopai_push
{}
Targert is 20
game_action_push
chupai=========================100335 20
game_action_push
guo=================================100334
guo_result
game_mopai_push
{}
Targert is 24
game_action_push
guo end=============================
chupai=========================100341 24
game_mopai_push
{}
Targert is 27
game_action_push
chupai=========================100381 19
game_mopai_push
{ '19': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 },
  '28': { pattern: 'normal', fan: 0 } }
Targert is 26
game_action_push
chupai=========================100334 26
game_action_push
chupai=========================100335 11
game_mopai_push
{}
Targert is 30
game_action_push
chupai=========================100341 18
game_mopai_push
{}
Targert is 7
game_action_push
chupai=========================100381 18
game_mopai_push
{ '19': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 },
  '28': { pattern: 'normal', fan: 0 } }
Targert is 12
game_action_push
chupai=========================100334 12
game_mopai_push
{ '23': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 },
  '28': { pattern: 'normal', fan: 0 } }
Targert is 14
game_action_push
chupai=========================100335 14
game_mopai_push
{}
Targert is 30
game_action_push
chupai=========================100341 24
game_mopai_push
{}
Targert is 21
game_action_push
chupai=========================100381 13
game_mopai_push
{ '19': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 },
  '28': { pattern: 'normal', fan: 0 } }
Targert is 32
game_action_push
chupai=========================100334 32
game_mopai_push
{ '23': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 },
  '28': { pattern: 'normal', fan: 0 } }
Targert is 6
game_action_push
chupai=========================100335 6
game_mopai_push
{}
Targert is 18
game_action_push
chupai=========================100341 18
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '16': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 },
  '28': { pattern: 'normal', fan: 0 } }
Targert is 2
game_action_push
chupai=========================100381 5
game_action_push
chupai=========================100335 24
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100341 17
game_mopai_push
{ '1': { pattern: 'normal', fan: 0 },
  '4': { pattern: 'normal', fan: 0 },
  '16': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 },
  '28': { pattern: 'normal', fan: 0 } }
Targert is 14
game_action_push
chupai=========================100381 17
game_mopai_push
{ '19': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 },
  '28': { pattern: 'normal', fan: 0 } }
Targert is 33
game_action_push
chupai=========================100334 33
game_mopai_push
{ '25': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 },
  '28': { pattern: 'normal', fan: 0 } }
Targert is 4
game_action_push
chupai=========================100335 25
game_mopai_push
{}
Targert is 1
game_action_push
chupai=========================100341 16
game_mopai_push
{ '1': { pattern: 'normal', fan: 0 },
  '4': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '16': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 },
  '28': { pattern: 'normal', fan: 0 } }
Targert is 4
kunjin:  true
isMojin: true
isDajin: true
game_action_push
hu==========================100381
do game over!
roomid :602342
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
normal
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523709705632602342',0,'{"type":"sjmj","button":0,"index":0,"mahjongs":[15,23,25,0,30,11,29,17,3,21,13,19,17,10,5,14,18,10,5,18,33,8,31,28,19,20,11,3,8,0,24,11,13,24,26,16,1,26,19,4,28,25,0,31,2,22,33,32,5,13,14,7,25,23,26,22,22,29,31,6,4,3,9,30,12,23,20,15,33,7,3,32,24,9,21,20,24,27,26,30,7,12,14,30,21,32,6,18,2,8,14,33,4,1,4,21,6,20,17,22,23,0,9,32,17,29,15,16,27,11,1,29,13,19,15,27,9,7,2,10,25,12,10,2,8,5,28,28,16,6,27,16,31,1,18,12],"jin":[27,28],"game_seats":[[15,30,3,17,18,33,19,8,13,1,28,2,5,25],[23,11,21,10,10,8,20,0,24,26,25,22,13],[25,29,13,5,5,31,11,24,26,19,0,33,14],[0,17,19,14,18,28,3,11,16,4,31,32,7]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[18,-6,-6,-6]' WHERE room_uuid = '1523709705632602342' AND game_index = 0
UPDATE t_games SET action_records = '[0,1,33,1,2,23,1,1,8,2,2,26,2,1,33,3,2,22,3,1,28,0,2,22,0,1,28,1,2,29,1,1,0,2,2,31,2,1,29,3,2,6,3,1,31,2,3,31,2,1,0,3,2,4,3,1,32,0,2,3,0,1,30,1,2,9,1,1,29,2,2,30,2,1,30,3,2,12,3,1,22,0,2,23,0,1,8,1,2,20,1,1,10,2,2,15,2,1,19,3,2,33,3,1,33,0,2,7,0,1,25,1,2,3,1,1,3,2,2,32,2,1,32,3,2,24,3,1,19,0,2,9,0,1,9,1,2,21,1,1,13,2,2,20,2,1,20,3,2,24,3,1,24,0,2,27,0,1,19,1,2,26,1,1,26,2,3,26,2,1,11,3,2,30,3,1,18,0,2,7,0,1,18,1,2,12,1,1,12,2,2,14,2,1,14,3,2,30,3,1,24,0,2,21,0,1,13,1,2,32,1,1,32,2,2,6,2,1,6,3,2,18,3,1,18,0,2,2,0,1,5,2,3,5,2,1,24,3,2,8,3,1,17,0,2,14,0,1,17,1,2,33,1,1,33,2,2,4,2,1,25,3,2,1,3,1,16,0,2,4,0,5,4]' WHERE room_uuid = '1523709705632602342' AND game_index = 0
UPDATE t_rooms SET num_of_turns = 1 WHERE id = "602342"
UPDATE t_users SET gems = gems -1 WHERE userid = 100381
UPDATE t_users SET gems = gems -1 WHERE userid = 100334
UPDATE t_users SET gems = gems -1 WHERE userid = 100335
UPDATE t_users SET gems = gems -1 WHERE userid = 100341
game_over_push
begin start==============602342
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 29
game_action_push
begin end=================
chupai=========================100381 28
game_mopai_push
{}
Targert is 15
game_action_push
chupai=========================100334 27
game_mopai_push
{}
Targert is 17
game_action_push
chupai=========================100335 29
game_mopai_push
{}
Targert is 30
game_action_push
chupai=========================100341 33
game_mopai_push
{}
Targert is 20
game_action_push
chupai=========================100381 31
game_mopai_push
{}
Targert is 7
game_action_push
chupai=========================100334 33
game_mopai_push
{}
Targert is 0
game_action_push
chupai=========================100335 32
game_action_push
chupai=========================100334 20
game_mopai_push
{}
Targert is 3
game_action_push
chupai=========================100335 24
game_mopai_push
{}
Targert is 12
game_action_push
chupai=========================100341 30
game_mopai_push
{}
Targert is 10
game_action_push
chupai=========================100381 29
game_mopai_push
{}
Targert is 28
game_action_push
chupai=========================100334 7
game_mopai_push
{}
Targert is 28
game_action_push
chupai=========================100335 28
game_mopai_push
{}
Targert is 17
game_action_push
chupai=========================100341 26
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100381 26
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '10': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 },
  '28': { pattern: 'normal', fan: 0 } }
Targert is 19
game_action_push
chupai=========================100334 19
game_mopai_push
{}
Targert is 33
game_action_push
chupai=========================100335 17
game_action_push
chupai=========================100341 9
game_mopai_push
{}
Targert is 2
game_action_push
chupai=========================100381 15
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '10': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 },
  '28': { pattern: 'normal', fan: 0 } }
Targert is 18
game_action_push
chupai=========================100334 18
game_mopai_push
{}
Targert is 13
game_action_push
chupai=========================100335 33
game_mopai_push
{}
Targert is 12
game_action_push
chupai=========================100341 13
game_mopai_push
{}
Targert is 9
game_action_push
chupai=========================100381 9
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '10': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 },
  '28': { pattern: 'normal', fan: 0 } }
Targert is 21
game_action_push
chupai=========================100334 21
game_mopai_push
{}
Targert is 7
game_action_push
chupai=========================100335 11
game_mopai_push
{}
Targert is 7
game_action_push
chupai=========================100341 2
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100381 2
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '10': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 },
  '28': { pattern: 'normal', fan: 0 } }
Targert is 12
game_action_push
chupai=========================100334 11
game_mopai_push
{}
Targert is 23
game_action_push
chupai=========================100335 23
game_mopai_push
{}
Targert is 6
game_action_push
chupai=========================100341 3
game_mopai_push
{}
Targert is 4
game_action_push
chupai=========================100381 6
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '12': { pattern: 'normal', fan: 0 },
  '25': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 },
  '28': { pattern: 'normal', fan: 0 } }
Targert is 11
game_action_push
chupai=========================100334 11
game_mopai_push
{}
Targert is 22
game_action_push
chupai=========================100335 13
game_mopai_push
{}
Targert is 21
game_action_push
chupai=========================100341 21
game_mopai_push
{ '19': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 },
  '25': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 },
  '28': { pattern: 'normal', fan: 0 } }
Targert is 22
kunjin:  true
isMojin: true
isDajin: true
game_action_push
hu==========================100381
do game over!
roomid :602342
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
normal
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523709705632602342',1,'{"type":"sjmj","button":0,"index":1,"mahjongs":[6,25,32,5,21,27,6,3,10,1,14,4,28,11,11,26,8,25,18,33,31,32,29,24,23,33,14,17,15,12,1,23,26,20,24,7,10,14,2,2,28,0,20,3,24,16,14,9,4,32,0,13,29,15,17,30,20,7,0,3,12,10,28,28,17,8,19,33,2,18,13,12,9,21,7,7,8,12,23,6,4,11,22,21,22,31,30,5,11,15,16,19,15,31,10,13,19,21,3,6,4,9,30,18,1,22,22,18,25,24,20,19,1,31,27,8,16,32,0,27,5,2,9,26,26,30,23,25,29,29,17,33,5,16,13,27],"jin":[27,28],"game_seats":[[6,21,10,28,8,31,23,15,26,10,28,24,4,29],[25,27,1,11,25,32,33,12,20,14,0,16,32],[32,6,14,11,18,29,14,1,24,2,20,14,0],[5,3,4,26,33,24,17,23,7,2,3,9,13]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[18,-6,-6,-6]' WHERE room_uuid = '1523709705632602342' AND game_index = 1
UPDATE t_games SET action_records = '[0,1,28,1,2,15,1,1,27,2,2,17,2,1,29,3,2,30,3,1,33,0,2,20,0,1,31,1,2,7,1,1,33,2,2,0,2,1,32,1,3,32,1,1,20,2,2,3,2,1,24,3,2,12,3,1,30,0,2,10,0,1,29,1,2,28,1,1,7,2,2,28,2,1,28,3,2,17,3,1,26,0,2,8,0,1,26,1,2,19,1,1,19,2,2,33,2,1,17,3,3,17,3,1,9,0,2,2,0,1,15,1,2,18,1,1,18,2,2,13,2,1,33,3,2,12,3,1,13,0,2,9,0,1,9,1,2,21,1,1,21,2,2,7,2,1,11,3,2,7,3,1,2,0,2,8,0,1,2,1,2,12,1,1,11,2,2,23,2,1,23,3,2,6,3,1,3,0,2,4,0,1,6,1,2,11,1,1,11,2,2,22,2,1,13,3,2,21,3,1,21,0,2,22,0,5,22]' WHERE room_uuid = '1523709705632602342' AND game_index = 1
UPDATE t_rooms SET num_of_turns = 2 WHERE id = "602342"
game_over_push
begin start==============602342
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 6
game_action_push
begin end=================
chupai=========================100381 33
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100334 26
game_mopai_push
{}
Targert is 17
game_action_push
chupai=========================100335 26
game_mopai_push
{}
Targert is 19
game_action_push
chupai=========================100341 26
game_mopai_push
{}
Targert is 4
game_action_push
chupai=========================100381 32
game_mopai_push
{}
Targert is 1
game_action_push
chupai=========================100334 29
game_mopai_push
{}
Targert is 4
game_action_push
chupai=========================100335 17
game_mopai_push
{}
Targert is 21
game_action_push
chupai=========================100341 32
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100381 27
game_mopai_push
{}
Targert is 11
game_action_push
chupai=========================100334 25
game_mopai_push
{}
Targert is 12
game_action_push
chupai=========================100335 1
game_action_push
chupai=========================100334 28
game_mopai_push
{}
Targert is 9
game_action_push
chupai=========================100335 9
game_mopai_push
{}
Targert is 27
game_action_push
chupai=========================100341 29
game_mopai_push
{}
Targert is 33
game_action_push
chupai=========================100381 33
game_mopai_push
{}
Targert is 2
game_action_push
chupai=========================100334 17
game_mopai_push
{}
Targert is 21
game_action_push
chupai=========================100335 15
game_mopai_push
{}
Targert is 28
game_action_push
chupai=========================100341 28
game_mopai_push
{}
Targert is 26
game_action_push
chupai=========================100381 26
game_mopai_push
{}
Targert is 28
game_action_push
chupai=========================100334 28
game_mopai_push
{}
Targert is 24
game_action_push
chupai=========================100335 14
game_action_push
chupai=========================100341 31
game_mopai_push
{}
Targert is 2
game_action_push
chupai=========================100381 16
game_mopai_push
{}
Targert is 22
game_action_push
chupai=========================100334 2
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '5': { pattern: 'normal', fan: 0 },
  '8': { pattern: 'normal', fan: 0 },
  '10': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 11
game_action_push
chupai=========================100335 11
game_mopai_push
{}
Targert is 0
game_action_push
chupai=========================100341 21
game_action_push
gang=============100335       21
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '5': { pattern: 'normal', fan: 0 },
  '8': { pattern: 'normal', fan: 0 },
  '10': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 0
game_action_push
gang end===================
chupai=========================100335 0
game_mopai_push
{}
Targert is 3
game_action_push
chupai=========================100341 0
game_mopai_push
{}
Targert is 30
game_action_push
chupai=========================100381 10
game_mopai_push
{}
Targert is 16
game_action_push
chupai=========================100334 20
game_action_push
chupai=========================100381 19
game_mopai_push
{}
Targert is 7
game_action_push
chupai=========================100334 16
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '5': { pattern: 'normal', fan: 0 },
  '8': { pattern: 'normal', fan: 0 },
  '10': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 12
game_action_push
chupai=========================100335 12
game_mopai_push
{}
Targert is 33
game_action_push
chupai=========================100341 33
game_mopai_push
{}
Targert is 25
game_action_push
chupai=========================100381 25
game_mopai_push
{}
Targert is 9
game_action_push
chupai=========================100334 9
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '5': { pattern: 'normal', fan: 0 },
  '8': { pattern: 'normal', fan: 0 },
  '10': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 33
game_action_push
chupai=========================100335 33
game_mopai_push
{}
Targert is 16
game_action_push
chupai=========================100341 30
game_action_push
chupai=========================100334 7
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '5': { pattern: 'normal', fan: 0 },
  '8': { pattern: 'normal', fan: 0 },
  '10': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 31
game_action_push
chupai=========================100335 31
game_mopai_push
{}
Targert is 5
game_action_push
chupai=========================100341 9
game_mopai_push
{}
Targert is 31
game_action_push
chupai=========================100381 22
game_action_push
chupai=========================100334 13
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '5': { pattern: 'normal', fan: 0 },
  '8': { pattern: 'normal', fan: 0 },
  '10': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 24
kunjin:  true
isMojin: true
isDajin: true
game_action_push
guo=================================100335
guo_result
chupai=========================100335 24
game_mopai_push
{}
Targert is 11
game_action_push
chupai=========================100341 16
game_mopai_push
{}
Targert is 14
game_action_push
chupai=========================100381 14
game_mopai_push
{ '8': { pattern: 'normal', fan: 0 },
  '9': { pattern: 'normal', fan: 0 },
  '10': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '12': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 22
game_action_push
gang=============100334       22
game_mopai_push
{ '8': { pattern: 'normal', fan: 0 },
  '9': { pattern: 'normal', fan: 0 },
  '10': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '12': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 31
game_action_push
gang end===================
chupai=========================100334 31
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '5': { pattern: 'normal', fan: 0 },
  '8': { pattern: 'normal', fan: 0 },
  '10': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 29
game_action_push
chupai=========================100335 29
game_mopai_push
{}
Targert is 2
game_action_push
chupai=========================100341 5
game_mopai_push
{}
Targert is 32
game_action_push
chupai=========================100381 30
game_mopai_push
{ '8': { pattern: 'normal', fan: 0 },
  '9': { pattern: 'normal', fan: 0 },
  '10': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '12': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 23
game_action_push
chupai=========================100334 23
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '5': { pattern: 'normal', fan: 0 },
  '8': { pattern: 'normal', fan: 0 },
  '10': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 13
kunjin:  true
isMojin: true
isDajin: true
game_action_push
hu==========================100335
do game over!
roomid :602342
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
normal
UPDATE t_rooms SET next_button = 1 WHERE id = "602342"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523709705632602342',2,'{"type":"sjmj","button":0,"index":2,"mahjongs":[22,20,21,9,20,30,21,3,0,29,11,26,1,17,3,29,10,25,1,3,20,28,6,14,32,8,7,32,8,13,5,14,19,24,15,18,7,30,14,31,27,26,18,30,33,22,18,20,16,1,26,24,6,8,17,19,4,1,4,21,8,11,12,9,27,33,2,21,28,26,28,24,2,22,11,0,0,3,30,16,7,12,33,25,9,33,16,31,5,31,24,11,14,22,31,29,2,32,23,13,25,2,0,17,6,13,10,29,10,13,23,15,15,5,25,4,12,23,9,28,19,27,15,18,16,5,12,4,27,6,23,17,19,10,32,7],"jin":[24,26],"game_seats":[[22,20,0,1,10,20,32,8,19,7,27,33,16,6],[20,30,29,17,25,28,8,13,24,30,26,22,1],[21,21,11,3,1,6,7,5,15,14,18,18,26],[9,3,26,29,3,14,32,14,18,31,30,20,24]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[-12,-6,28,-10]' WHERE room_uuid = '1523709705632602342' AND game_index = 2
UPDATE t_games SET action_records = '[0,1,33,1,2,8,1,1,26,2,2,17,2,1,26,3,2,19,3,1,26,0,2,4,0,1,32,1,2,1,1,1,29,2,2,4,2,1,17,3,2,21,3,1,32,0,2,8,0,1,27,1,2,11,1,1,25,2,2,12,2,1,1,1,3,1,1,1,28,2,2,9,2,1,9,3,2,27,3,1,29,0,2,33,0,1,33,1,2,2,1,1,17,2,2,21,2,1,15,3,2,28,3,1,28,0,2,26,0,1,26,1,2,28,1,1,28,2,2,24,2,1,14,3,3,14,3,1,31,0,2,2,0,1,16,1,2,22,1,1,2,2,2,11,2,1,11,3,2,0,3,1,21,2,4,21,2,2,0,2,1,0,3,2,3,3,1,0,0,2,30,0,1,10,1,2,16,1,1,20,0,3,20,0,1,19,1,2,7,1,1,16,2,2,12,2,1,12,3,2,33,3,1,33,0,2,25,0,1,25,1,2,9,1,1,9,2,2,33,2,1,33,3,2,16,3,1,30,1,3,30,1,1,7,2,2,31,2,1,31,3,2,5,3,1,9,0,2,31,0,1,22,1,3,22,1,1,13,2,2,24,2,1,24,3,2,11,3,1,16,0,2,14,0,1,14,1,2,22,1,4,22,1,2,31,1,1,31,2,2,29,2,1,29,3,2,2,3,1,5,0,2,32,0,1,30,1,2,23,1,1,23,2,2,13,2,5,13]' WHERE room_uuid = '1523709705632602342' AND game_index = 2
UPDATE t_rooms SET num_of_turns = 3 WHERE id = "602342"
game_over_push
begin start==============602342
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 5
game_action_push
begin end=================
chupai=========================100334 13
game_mopai_push
{}
Targert is 13
game_action_push
chupai=========================100335 13
game_mopai_push
{}
Targert is 6
game_action_push
chupai=========================100341 9
game_action_push
chupai=========================100334 30
game_mopai_push
{}
Targert is 21
game_action_push
chupai=========================100335 9
game_mopai_push
{}
Targert is 13
game_action_push
chupai=========================100341 10
game_mopai_push
{}
Targert is 16
game_action_push
chupai=========================100381 11
game_mopai_push
{}
Targert is 27
game_action_push
chupai=========================100334 31
game_action_push
chupai=========================100335 18
game_mopai_push
{}
Targert is 6
game_action_push
chupai=========================100341 13
game_mopai_push
{}
Targert is 19
game_action_push
chupai=========================100381 32
game_action_push
chupai=========================100335 28
game_mopai_push
{}
Targert is 10
game_action_push
chupai=========================100341 10
game_mopai_push
{}
Targert is 22
game_action_push
chupai=========================100381 29
game_mopai_push
{}
Targert is 28
game_action_push
chupai=========================100334 27
game_mopai_push
{}
Targert is 12
game_action_push
chupai=========================100335 12
game_mopai_push
{}
Targert is 24
game_action_push
chupai=========================100341 12
game_mopai_push
{}
Targert is 27
game_action_push
chupai=========================100381 27
game_mopai_push
{}
Targert is 16
game_action_push
chupai=========================100334 26
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100335 8
game_mopai_push
{}
Targert is 7
game_action_push
chupai=========================100341 0
game_action_push
chupai=========================100381 24
game_action_push
chupai=========================100341 1
game_mopai_push
{}
Targert is 23
game_action_push
3023
chupai=========================100381 14
game_action_push
chupai=========================100341 15
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100381 16
game_mopai_push
{}
Targert is 20
game_action_push
chupai=========================100334 16
game_mopai_push
{}
Targert is 11
game_action_push
chupai=========================100335 1
game_mopai_push
{}
Targert is 25
game_action_push
chupai=========================100341 26
game_mopai_push
{}
Targert is 17
game_action_push
chupai=========================100381 7
game_mopai_push
{}
Targert is 26
game_action_push
chupai=========================100334 26
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 },
  '33': { pattern: 'normal', fan: 0 } }
Targert is 15
game_action_push
chupai=========================100335 15
game_mopai_push
{}
Targert is 11
game_action_push
chupai=========================100341 18
game_mopai_push
{ '8': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 } }
Targert is 30
game_action_push
chupai=========================100381 30
game_mopai_push
{}
Targert is 23
game_action_push
chupai=========================100334 7
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 },
  '33': { pattern: 'normal', fan: 0 } }
Targert is 11
kunjin:  true
isMojin: true
isDajin: true
game_action_push
guo=================================100335
guo_result
chupai=========================100335 11
game_mopai_push
{}
Targert is 28
game_action_push
chupai=========================100341 28
game_action_push
guo=================================100334
guo_result
game_mopai_push
{ '8': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 } }
Targert is 8
kunjin:  true
isMojin: true
isDajin: true
game_action_push
guo end=============================
guo=================================100381
guo_result
chupai=========================100381 8
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 20
game_action_push
chupai=========================100334 20
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 },
  '33': { pattern: 'normal', fan: 0 } }
Targert is 2
kunjin:  true
isMojin: true
isDajin: true
game_action_push
guo=================================100335
guo_result
chupai=========================100335 11
game_mopai_push
{}
Targert is 5
game_action_push
chupai=========================100341 25
game_mopai_push
{ '8': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 } }
Targert is 1
game_action_push
chupai=========================100381 1
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 25
game_action_push
chupai=========================100334 25
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 } }
Targert is 12
game_action_push
chupai=========================100335 12
game_mopai_push
{ '6': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 } }
Targert is 10
game_action_push
chupai=========================100341 10
game_mopai_push
{ '8': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 } }
Targert is 25
game_action_push
chupai=========================100381 25
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 29
game_action_push
chupai=========================100334 29
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 } }
Targert is 26
game_action_push
chupai=========================100335 26
game_mopai_push
{ '6': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 } }
Targert is 2
game_action_push
chupai=========================100341 2
game_action_push
gang=============100335       2
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 } }
Targert is 5
game_action_push
gang end===================
chupai=========================100335 5
game_mopai_push
{ '6': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 } }
Targert is 30
game_action_push
chupai=========================100341 30
game_mopai_push
{ '8': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 } }
Targert is 33
game_action_push
chupai=========================100381 33
game_action_push
guo=================================100335
guo_result
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 4
game_action_push
guo end=============================
chupai=========================100334 4
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 } }
Targert is 14
game_action_push
chupai=========================100335 14
game_mopai_push
{ '6': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 } }
Targert is 33
game_action_push
chupai=========================100341 33
game_action_push
guo=================================100335
guo_result
game_mopai_push
{ '8': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 } }
Targert is 18
game_action_push
guo end=============================
chupai=========================100381 18
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 5
game_action_push
chupai=========================100334 5
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 } }
Targert is 17
game_action_push
chupai=========================100335 17
game_action_push
gang=============100381       17
game_mopai_push
{ '8': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 } }
Targert is 24
game_action_push
gang end===================
chupai=========================100381 24
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 32
game_action_push
chupai=========================100334 32
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 } }
Targert is 16
game_action_push
chupai=========================100335 16
game_mopai_push
{ '6': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 } }
Targert is 20
game_action_push
chupai=========================100341 23
game_mopai_push
{ '8': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 } }
Targert is 30
game_action_push
chupai=========================100381 30
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 31
game_action_push
chupai=========================100334 31
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 } }
Targert is 6
game_action_push
chupai=========================100335 6
game_action_push
guo=================================100341
guo_result
game_mopai_push
{ '6': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 } }
Targert is 25
game_action_push
guo end=============================
chupai=========================100341 25
game_mopai_push
{ '8': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 } }
Targert is 20
game_action_push
chupai=========================100381 20
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 0
game_action_push
chupai=========================100334 0
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 } }
Targert is 22
game_action_push
chupai=========================100335 22
game_mopai_push
{ '6': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 } }
Targert is 3
game_action_push
chupai=========================100341 6
game_mopai_push
{ '8': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 } }
Targert is 23
game_action_push
chupai=========================100381 23
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 3
game_action_push
chupai=========================100334 3
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 } }
Targert is 7
game_action_push
chupai=========================100335 7
game_mopai_push
{ '3': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 } }
Targert is 15
game_action_push
chupai=========================100341 3
game_mopai_push
{ '8': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 } }
Targert is 10
game_action_push
chupai=========================100381 10
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 15
game_action_push
chupai=========================100334 15
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 } }
Targert is 29
game_action_push
chupai=========================100335 29
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '15': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 } }
Targert is 4
game_action_push
chupai=========================100341 15
game_mopai_push
{ '8': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 } }
Targert is 19
kunjin:  true
isMojin: true
isDajin: true
game_action_push
guo=================================100381
guo_result
chupai=========================100381 19
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 27
game_action_push
chupai=========================100334 27
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 } }
Targert is 4
game_action_push
chupai=========================100335 4
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 } }
Targert is 12
game_action_push
chupai=========================100341 12
game_mopai_push
{ '8': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 } }
Targert is 6
game_action_push
chupai=========================100381 6
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 16
game_action_push
chupai=========================100334 16
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 } }
Targert is 21
game_action_push
chupai=========================100335 21
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 } }
Targert is 3
game_action_push
chupai=========================100341 3
game_mopai_push
{ '8': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 } }
Targert is 13
kunjin:  true
isMojin: true
isDajin: true
game_action_push
guo=================================100381
guo_result
chupai=========================100381 13
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 29
game_action_push
chupai=========================100334 29
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 } }
Targert is 1
game_action_push
chupai=========================100335 1
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 } }
Targert is 27
game_action_push
chupai=========================100341 27
do game over!
roomid :602342
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
UPDATE t_rooms SET next_button = 2 WHERE id = "602342"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523709705632602342',3,'{"type":"sjmj","button":1,"index":3,"mahjongs":[26,32,15,0,9,32,14,7,30,1,21,0,28,33,24,17,9,28,9,32,22,9,14,19,13,33,12,21,31,31,0,29,4,22,26,17,7,31,1,14,19,2,23,11,3,2,10,8,18,18,18,24,5,13,6,21,13,16,27,6,19,10,22,28,12,24,27,16,8,7,23,8,20,11,25,17,26,15,11,30,23,11,28,8,20,2,5,1,25,12,10,25,29,26,2,5,30,33,4,14,33,18,5,17,24,32,16,20,30,31,6,25,20,0,22,3,23,3,7,15,10,15,29,4,19,27,4,12,6,16,21,3,13,29,1,27],"jin":[11,13],"game_seats":[[0,7,0,17,32,19,21,29,17,14,11,8,24],[26,9,30,28,9,22,13,31,4,7,19,3,18,5],[32,32,1,33,28,9,33,31,22,31,2,2,18],[15,14,21,24,9,14,12,0,26,1,23,10,18]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[0,0,0,0]' WHERE room_uuid = '1523709705632602342' AND game_index = 3
UPDATE t_games SET action_records = '[1,1,13,2,2,13,2,1,13,3,2,6,3,1,9,1,3,9,1,1,30,2,2,21,2,1,9,3,2,13,3,1,10,0,2,16,0,1,11,1,2,27,1,1,31,2,3,31,2,1,18,3,2,6,3,1,13,0,2,19,0,1,32,2,3,32,2,1,28,3,2,10,3,1,10,0,2,22,0,1,29,1,2,28,1,1,27,2,2,12,2,1,12,3,2,24,3,1,12,0,2,27,0,1,27,1,2,16,1,1,26,2,2,8,2,1,8,3,2,7,3,1,0,0,3,0,0,1,24,3,3,24,3,1,1,0,2,23,0,1,14,3,3,14,3,1,15,0,2,8,0,1,16,1,2,20,1,1,16,2,2,11,2,1,1,3,2,25,3,1,26,0,2,17,0,1,7,1,2,26,1,1,26,2,2,15,2,1,15,3,2,11,3,1,18,0,2,30,0,1,30,1,2,23,1,1,7,2,2,11,2,1,11,3,2,28,3,1,28,0,2,8,0,1,8,1,2,20,1,1,20,2,2,2,2,1,11,3,2,5,3,1,25,0,2,1,0,1,1,1,2,25,1,1,25,2,2,12,2,1,12,3,2,10,3,1,10,0,2,25,0,1,25,1,2,29,1,1,29,2,2,26,2,1,26,3,2,2,3,1,2,2,4,2,2,2,5,2,1,5,3,2,30,3,1,30,0,2,33,0,1,33,1,2,4,1,1,4,2,2,14,2,1,14,3,2,33,3,1,33,0,2,18,0,1,18,1,2,5,1,1,5,2,2,17,2,1,17,0,4,17,0,2,24,0,1,24,1,2,32,1,1,32,2,2,16,2,1,16,3,2,20,3,1,23,0,2,30,0,1,30,1,2,31,1,1,31,2,2,6,2,1,6,3,2,25,3,1,25,0,2,20,0,1,20,1,2,0,1,1,0,2,2,22,2,1,22,3,2,3,3,1,6,0,2,23,0,1,23,1,2,3,1,1,3,2,2,7,2,1,7,3,2,15,3,1,3,0,2,10,0,1,10,1,2,15,1,1,15,2,2,29,2,1,29,3,2,4,3,1,15,0,2,19,0,1,19,1,2,27,1,1,27,2,2,4,2,1,4,3,2,12,3,1,12,0,2,6,0,1,6,1,2,16,1,1,16,2,2,21,2,1,21,3,2,3,3,1,3,0,2,13,0,1,13,1,2,29,1,1,29,2,2,1,2,1,1,3,2,27,3,1,27]' WHERE room_uuid = '1523709705632602342' AND game_index = 3
UPDATE t_rooms SET num_of_turns = 4 WHERE id = "602342"
game_over_push
SELECT history FROM t_users WHERE userid = "100381"
SELECT history FROM t_users WHERE userid = "100334"
SELECT history FROM t_users WHERE userid = "100335"
SELECT history FROM t_users WHERE userid = "100341"
UPDATE t_users SET roomid = null WHERE userid = "100381"
UPDATE t_users SET roomid = null WHERE userid = "100334"
UPDATE t_users SET roomid = null WHERE userid = "100335"
UPDATE t_users SET roomid = null WHERE userid = "100341"
DELETE FROM t_rooms WHERE id = '602342'
INSERT INTO t_games_archive(SELECT * FROM t_games WHERE room_uuid = '1523709705632602342')
1143
UPDATE t_users SET roomid = null, history = '[{"uuid":"1523627417627130382","id":"130382","time":1523627418,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-7},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-10},{"userid":100381,"name":"5pif54Gr","score":4},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":13}]},{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]}]' WHERE userid = "100381"
2820
UPDATE t_users SET roomid = null, history = '[{"uuid":"1522674632945516960","id":"516960","time":1522674633,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-38},{"userid":100355,"name":"6ZW/5a2Z6ZuA5Zyj","score":-39},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-63},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":140}]},{"uuid":"1522675431210706479","id":"706479","time":1522675432,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":0},{"userid":100355,"name":"6ZW/5a2Z6ZuA5Zyj","score":0},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":0},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":0}]},{"uuid":"1523627417627130382","id":"130382","time":1523627418,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-7},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-10},{"userid":100381,"name":"5pif54Gr","score":4},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":13}]},{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523678996348220864","id":"220864","time":1523678997,"seats":[{"userid":100334,"name":"576k5Li7","score":6},{"userid":100390,"name":"6K+g6YeK","score":-2},{"userid":100335,"name":"5pyI5YWJ","score":-4},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523683566003780700","id":"780700","time":1523683566,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":0},{"userid":100390,"name":"6K+g6YeK","score":0},{"userid":100334,"name":"576k5Li7","score":0},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523685120094387583","id":"387583","time":1523685121,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":10},{"userid":100390,"name":"6K+g6YeK","score":8},{"userid":100333,"name":"5byg6bqf5Y2O","score":4},{"userid":100334,"name":"576k5Li7","score":-22}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]}]' WHERE userid = "100334"
2820
UPDATE t_users SET roomid = null, history = '[{"uuid":"1522674632945516960","id":"516960","time":1522674633,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-38},{"userid":100355,"name":"6ZW/5a2Z6ZuA5Zyj","score":-39},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-63},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":140}]},{"uuid":"1522675431210706479","id":"706479","time":1522675432,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":0},{"userid":100355,"name":"6ZW/5a2Z6ZuA5Zyj","score":0},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":0},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":0}]},{"uuid":"1523627417627130382","id":"130382","time":1523627418,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-7},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-10},{"userid":100381,"name":"5pif54Gr","score":4},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":13}]},{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523678996348220864","id":"220864","time":1523678997,"seats":[{"userid":100334,"name":"576k5Li7","score":6},{"userid":100390,"name":"6K+g6YeK","score":-2},{"userid":100335,"name":"5pyI5YWJ","score":-4},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523683566003780700","id":"780700","time":1523683566,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":0},{"userid":100390,"name":"6K+g6YeK","score":0},{"userid":100334,"name":"576k5Li7","score":0},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523685120094387583","id":"387583","time":1523685121,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":10},{"userid":100390,"name":"6K+g6YeK","score":8},{"userid":100333,"name":"5byg6bqf5Y2O","score":4},{"userid":100334,"name":"576k5Li7","score":-22}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]}]' WHERE userid = "100335"
2965
UPDATE t_users SET roomid = null, history = '[{"uuid":"1522489703912132804","id":"132804","time":1522489704,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":11},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":8},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-15},{"userid":100340,"name":"6Im+5qC86YeR5aaN5re66ZmM5Yid5b+D","score":5}]},{"uuid":"1522490391522769321","id":"769321","time":1522490392,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-15},{"userid":100340,"name":"6Im+5qC86YeR5aaN5re66ZmM5Yid5b+D","score":18},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-1}]},{"uuid":"1522490989159021773","id":"021773","time":1522490990,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-15},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":13},{"userid":100340,"name":"6Im+5qC86YeR5aaN5re66ZmM5Yid5b+D","score":8},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-6}]},{"uuid":"1522674632945516960","id":"516960","time":1522674633,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-38},{"userid":100355,"name":"6ZW/5a2Z6ZuA5Zyj","score":-39},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-63},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":140}]},{"uuid":"1522675431210706479","id":"706479","time":1522675432,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":0},{"userid":100355,"name":"6ZW/5a2Z6ZuA5Zyj","score":0},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":0},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":0}]},{"uuid":"1523627417627130382","id":"130382","time":1523627418,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-7},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-10},{"userid":100381,"name":"5pif54Gr","score":4},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":13}]},{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]}]' WHERE userid = "100341"
DELETE FROM t_games WHERE room_uuid = '1523709705632602342'
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N75c3Lu8hC08SI3VoH1tpE"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
++++++++++++++++++++++++++++++++++++
{"x":35.624369,"y":110.896821}
UPDATE t_users SET location='{"x":35.624369,"y":110.896821}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1IFv55ZW5ynqJByk17VH9_s"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
++++++++++++++++++++++++++++++++++++
{"x":35.624331,"y":110.896842}
UPDATE t_users SET location='{"x":35.624331,"y":110.896842}' WHERE account='wx_omM_A1N75c3Lu8hC08SI3VoH1tpE'
{ account: 'wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc',
  sign: 'ff2f9ddfc830c2c1ad6e0a9f19303583',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":1,"iplimit":0,"difen":1,"jinfen":2,"cheat":1,"clubId":"","type":"sjmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":1,"iplimit":0,"difen":1,"jinfen":2,"cheat":1,"clubId":"","type":"sjmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100335"
club_id is
{ type: 'sjmj',
  baseScore: 1,
  jinfen: 2,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100335,
  paytype: 1,
  cheat: false,
  clubId: '' }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523710749099520898','520898','{"type":"sjmj","baseScore":1,"jinfen":2,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100335,"paytype":1,"cheat":false,"clubId":""}','127.0.0.1',10000,1523710750,100335,1,'')
1523710749099520898
SELECT ip,port FROM t_rooms WHERE id = "520898"
{ userid: '100335',
  name: '月光',
  roomid: '520898',
  sign: 'e53e2d7a37f5d03f282e92feaf324791' }
e53e2d7a37f5d03f282e92feaf324791
SELECT gems FROM t_users WHERE userid = 100335
UPDATE t_rooms SET user_id0 = 100335,user_icon0 = "",user_name0 = "5pyI5YWJ" WHERE id = "520898"
{ token: '58190f6c8aa8090e6a5a15adbc929400',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "520898" WHERE userid = "100335"
520898
58190f6c8aa8090e6a5a15adbc929400
1523710749118
ea63fc95c4c6d4d0e871aa058822378e
++++++++++++++++++++++++++++++++++++
{"x":35.624372,"y":110.896852}
UPDATE t_users SET location='{"x":35.624372,"y":110.896852}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N75c3Lu8hC08SI3VoH1tpE"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=520898 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "520898"
{ userid: '100341',
  name: '*^_辉_^*',
  roomid: '520898',
  sign: 'eda1ede0d3a4f2abe46774afc3bfeeb3' }
eda1ede0d3a4f2abe46774afc3bfeeb3
SELECT gems FROM t_users WHERE userid = 100341
UPDATE t_rooms SET user_id1 = 100341,user_icon1 = "",user_name1 = "Kl5f6L6JX14q" WHERE id = "520898"
{ token: 'a134a742520abd0d726de816cf693214',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "520898" WHERE userid = "100341"
520898
a134a742520abd0d726de816cf693214
1523710760472
6f4212aef3a8e3bda068e785e67d71cf
++++++++++++++++++++++++++++++++++++
{"x":35.624367,"y":110.896857}
UPDATE t_users SET location='{"x":35.624367,"y":110.896857}' WHERE account='wx_omM_A1IFv55ZW5ynqJByk17VH9_s'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=520898 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "520898"
{ userid: '100334',
  name: '群主',
  roomid: '520898',
  sign: 'b0e43bdc0e53f6fb4cfee5cb842e03c1' }
b0e43bdc0e53f6fb4cfee5cb842e03c1
SELECT gems FROM t_users WHERE userid = 100334
UPDATE t_rooms SET user_id2 = 100334,user_icon2 = "",user_name2 = "576k5Li7" WHERE id = "520898"
{ token: '1708fd76a1f49d8dbd45154abd4754f7',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "520898" WHERE userid = "100334"
520898
1708fd76a1f49d8dbd45154abd4754f7
1523710762340
3047e606ceb8bbdca9d6240688c72173
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1IFv55ZW5ynqJByk17VH9_s"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=520898 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "520898"
{ userid: '100381',
  name: '星火',
  roomid: '520898',
  sign: '44d4dc2d87f3c388712b08e524d5b5c5' }
44d4dc2d87f3c388712b08e524d5b5c5
SELECT gems FROM t_users WHERE userid = 100381
UPDATE t_rooms SET user_id3 = 100381,user_icon3 = "",user_name3 = "5pif54Gr" WHERE id = "520898"
{ token: '06e347736e0bb1ec203b1d8994322ec5',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "520898" WHERE userid = "100381"
520898
06e347736e0bb1ec203b1d8994322ec5
1523710763846
1a7c1d911e6c552e1ef1b7e79a6deaca
begin start==============520898
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 10
game_action_push
begin end=================
chupai=========================100335 6
game_mopai_push
{}
Targert is 13
game_action_push
chupai=========================100341 3
game_mopai_push
{}
Targert is 7
game_action_push
chupai=========================100334 29
game_mopai_push
{}
Targert is 16
game_action_push
chupai=========================100381 6
game_mopai_push
{}
Targert is 16
game_action_push
chupai=========================100335 33
game_mopai_push
{}
Targert is 1
game_action_push
chupai=========================100341 1
game_mopai_push
{}
Targert is 5
game_action_push
chupai=========================100334 31
game_mopai_push
{}
Targert is 7
game_action_push
chupai=========================100381 33
game_mopai_push
{}
Targert is 22
game_action_push
chupai=========================100335 27
game_mopai_push
{}
Targert is 9
game_action_push
chupai=========================100341 31
game_mopai_push
{}
Targert is 23
game_action_push
chupai=========================100334 17
game_mopai_push
{}
Targert is 5
game_action_push
chupai=========================100381 32
game_mopai_push
{}
Targert is 18
game_action_push
chupai=========================100335 7
game_action_push
chupai=========================100334 14
game_mopai_push
{}
Targert is 32
game_action_push
chupai=========================100381 7
game_mopai_push
{}
Targert is 20
game_action_push
chupai=========================100335 2
game_mopai_push
{}
Targert is 30
game_action_push
chupai=========================100341 29
game_mopai_push
{}
Targert is 31
game_action_push
chupai=========================100334 31
game_mopai_push
{}
Targert is 15
game_action_push
chupai=========================100381 32
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100335 8
game_mopai_push
{}
Targert is 30
game_action_push
chupai=========================100341 28
game_mopai_push
{}
Targert is 2
game_action_push
chupai=========================100334 10
game_action_push
chupai=========================100335 9
game_action_push
chupai=========================100341 30
game_mopai_push
{}
Targert is 23
game_action_push
chupai=========================100334 23
game_mopai_push
{}
Targert is 2
game_action_push
chupai=========================100381 30
game_mopai_push
{}
Targert is 4
game_action_push
chupai=========================100335 13
game_mopai_push
{}
Targert is 6
game_action_push
chupai=========================100341 30
game_mopai_push
{}
Targert is 20
game_action_push
chupai=========================100334 23
game_mopai_push
{}
Targert is 32
game_action_push
chupai=========================100381 32
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '6': { pattern: 'normal', fan: 0 },
  '15': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 } }
Targert is 29
game_action_push
chupai=========================100335 29
game_mopai_push
{}
Targert is 9
game_action_push
gang=============100341       9
game_mopai_push
{}
Targert is 21
game_action_push
gang end===================
chupai=========================100341 27
game_mopai_push
{}
Targert is 1
game_action_push
chupai=========================100334 1
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100381 29
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '6': { pattern: 'normal', fan: 0 },
  '15': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 } }
Targert is 21
game_action_push
chupai=========================100335 4
game_mopai_push
{}
Targert is 33
game_action_push
chupai=========================100341 16
game_mopai_push
{}
Targert is 28
game_action_push
chupai=========================100334 28
game_mopai_push
{}
Targert is 21
game_action_push
chupai=========================100381 28
game_mopai_push
{}
Targert is 1
game_action_push
chupai=========================100335 4
game_mopai_push
{}
Targert is 24
game_action_push
chupai=========================100341 13
game_mopai_push
{}
Targert is 15
game_action_push
chupai=========================100334 15
game_action_push
guo=================================100381
guo_result
game_mopai_push
{}
Targert is 12
game_action_push
guo end=============================
chupai=========================100381 18
game_mopai_push
{}
Targert is 6
game_action_push
chupai=========================100335 17
game_mopai_push
{}
Targert is 22
game_action_push
chupai=========================100341 33
game_mopai_push
{}
Targert is 14
game_action_push
chupai=========================100334 14
game_mopai_push
{}
Targert is 33
game_action_push
chupai=========================100381 33
game_mopai_push
{}
Targert is 14
game_action_push
chupai=========================100335 16
game_mopai_push
{}
Targert is 26
game_action_push
chupai=========================100341 6
game_mopai_push
{}
Targert is 28
game_action_push
chupai=========================100334 28
game_mopai_push
{}
Targert is 11
game_action_push
chupai=========================100381 15
game_mopai_push
{}
Targert is 25
game_action_push
chupai=========================100335 14
game_mopai_push
{}
Targert is 12
game_action_push
chupai=========================100341 12
game_mopai_push
{}
Targert is 18
game_action_push
chupai=========================100334 20
game_mopai_push
{}
Targert is 14
game_action_push
chupai=========================100381 8
game_mopai_push
{}
Targert is 22
game_action_push
chupai=========================100335 1
game_mopai_push
{}
Targert is 10
game_action_push
chupai=========================100341 10
game_mopai_push
{ '0': { pattern: 'normal', fan: 0 },
  '4': { pattern: 'normal', fan: 0 },
  '5': { pattern: 'normal', fan: 0 },
  '6': { pattern: 'normal', fan: 0 } }
Targert is 23
game_action_push
chupai=========================100334 23
game_mopai_push
{}
Targert is 24
game_action_push
chupai=========================100381 24
game_action_push
chupai=========================100341 19
game_mopai_push
{ '0': { pattern: 'normal', fan: 0 },
  '4': { pattern: 'normal', fan: 0 },
  '5': { pattern: 'normal', fan: 0 },
  '6': { pattern: 'normal', fan: 0 } }
Targert is 17
game_action_push
chupai=========================100334 17
game_mopai_push
{}
Targert is 16
game_action_push
chupai=========================100381 5
game_action_push
chupai=========================100334 0
game_mopai_push
{}
Targert is 2
game_action_push
chupai=========================100381 16
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '6': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 } }
Targert is 12
game_action_push
chupai=========================100335 12
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '6': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 } }
Targert is 25
game_action_push
chupai=========================100341 25
game_action_push
chupai=========================100335 18
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '6': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 } }
Targert is 26
game_action_push
chupai=========================100341 21
game_mopai_push
{ '0': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '4': { pattern: 'normal', fan: 0 },
  '6': { pattern: 'normal', fan: 0 } }
Targert is 23
game_action_push
chupai=========================100334 23
game_mopai_push
{}
Targert is 3
game_action_push
chupai=========================100381 0
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '6': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 },
  '25': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 13
game_action_push
guo=================================100335
guo_result
chupai=========================100335 13
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '6': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 } }
Targert is 18
game_action_push
chupai=========================100341 18
game_mopai_push
{ '0': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '4': { pattern: 'normal', fan: 0 },
  '6': { pattern: 'normal', fan: 0 } }
Targert is 4
kunjin:  true
isMojin: true
isDajin: undefined
game_action_push
chupai=========================100334 4
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100381 8
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '6': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 },
  '25': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 0
game_action_push
guo=================================100335
guo_result
chupai=========================100335 0
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '6': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 } }
Targert is 27
game_action_push
chupai=========================100341 27
game_mopai_push
{ '0': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '4': { pattern: 'normal', fan: 0 },
  '6': { pattern: 'normal', fan: 0 } }
Targert is 3
kunjin:  true
isMojin: true
isDajin: true
game_action_push
guo=================================100334
guo_result
chupai=========================100334 3
game_mopai_push
{}
Targert is 11
game_action_push
gang=============100381       11
game_mopai_push
{}
Targert is 32
game_action_push
gang end===================
chupai=========================100381 32
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '6': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 },
  '25': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 8
game_action_push
guo=================================100335
guo_result
chupai=========================100335 8
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '6': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 } }
Targert is 4
kunjin:  true
isMojin: true
isDajin: true
game_action_push
hu==========================100341
do game over!
roomid :520898
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
normal
UPDATE t_rooms SET next_button = 1 WHERE id = "520898"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523710749099520898',0,'{"type":"sjmj","button":0,"index":0,"mahjongs":[33,21,29,15,17,9,19,18,2,24,7,17,9,3,31,30,25,16,3,6,25,20,17,33,4,19,10,11,27,26,0,0,6,27,1,29,7,31,14,28,13,28,5,11,24,29,0,19,10,19,20,32,10,13,7,16,16,1,5,7,22,9,23,5,18,32,20,30,31,15,8,30,2,23,2,4,6,20,32,29,9,21,1,8,21,33,28,21,1,24,15,12,6,22,14,33,14,26,28,11,25,12,18,14,22,10,23,24,17,16,2,12,25,26,23,3,13,18,4,8,0,27,3,11,32,8,4,30,12,13,15,5,31,26,27,22],"jin":[4,6],"game_seats":[[33,17,2,9,25,25,4,27,6,7,13,24,10,10],[21,9,24,3,16,20,19,26,27,31,28,29,19],[29,19,7,31,3,17,10,0,1,14,5,0,20],[15,18,17,30,6,33,11,0,29,28,11,19,32]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[-9,15,-7,1]' WHERE room_uuid = '1523710749099520898' AND game_index = 0
UPDATE t_games SET action_records = '[0,1,6,1,2,13,1,1,3,2,2,7,2,1,29,3,2,16,3,1,6,0,2,16,0,1,33,1,2,1,1,1,1,2,2,5,2,1,31,3,2,7,3,1,33,0,2,22,0,1,27,1,2,9,1,1,31,2,2,23,2,1,17,3,2,5,3,1,32,0,2,18,0,1,7,2,3,7,2,1,14,3,2,32,3,1,7,0,2,20,0,1,2,1,2,30,1,1,29,2,2,31,2,1,31,3,2,15,3,1,32,0,2,8,0,1,8,1,2,30,1,1,28,2,2,2,2,1,10,0,3,10,0,1,9,1,3,9,1,1,30,2,2,23,2,1,23,3,2,2,3,1,30,0,2,4,0,1,13,1,2,6,1,1,30,2,2,20,2,1,23,3,2,32,3,1,32,0,2,29,0,1,29,1,2,9,1,4,9,1,2,21,1,1,27,2,2,1,2,1,1,3,2,8,3,1,29,0,2,21,0,1,4,1,2,33,1,1,16,2,2,28,2,1,28,3,2,21,3,1,28,0,2,1,0,1,4,1,2,24,1,1,13,2,2,15,2,1,15,3,2,12,3,1,18,0,2,6,0,1,17,1,2,22,1,1,33,2,2,14,2,1,14,3,2,33,3,1,33,0,2,14,0,1,16,1,2,26,1,1,6,2,2,28,2,1,28,3,2,11,3,1,15,0,2,25,0,1,14,1,2,12,1,1,12,2,2,18,2,1,20,3,2,14,3,1,8,0,2,22,0,1,1,1,2,10,1,1,10,2,2,23,2,1,23,3,2,24,3,1,24,1,3,24,1,1,19,2,2,17,2,1,17,3,2,16,3,1,5,2,3,5,2,1,0,3,2,2,3,1,16,0,2,12,0,1,12,1,2,25,1,1,25,0,3,25,0,1,18,1,2,26,1,1,21,2,2,23,2,1,23,3,2,3,3,1,0,0,2,13,0,1,13,1,2,18,1,1,18,2,2,4,2,1,4,3,2,8,3,1,8,0,2,0,0,1,0,1,2,27,1,1,27,2,2,3,2,1,3,3,2,11,3,4,11,3,2,32,3,1,32,0,2,8,0,1,8,1,2,4,1,5,4]' WHERE room_uuid = '1523710749099520898' AND game_index = 0
UPDATE t_rooms SET num_of_turns = 1 WHERE id = "520898"
UPDATE t_users SET gems = gems -1 WHERE userid = 100335
UPDATE t_users SET gems = gems -1 WHERE userid = 100341
UPDATE t_users SET gems = gems -1 WHERE userid = 100334
UPDATE t_users SET gems = gems -1 WHERE userid = 100381
game_over_push
begin start==============520898
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 28
game_action_push
begin end=================
chupai=========================100341 1
game_mopai_push
{}
Targert is 3
game_action_push
chupai=========================100334 3
game_mopai_push
{}
Targert is 16
game_action_push
chupai=========================100381 33
game_mopai_push
{}
Targert is 5
game_action_push
chupai=========================100335 32
game_action_push
chupai=========================100381 26
game_action_push
chupai=========================100341 3
game_mopai_push
{}
Targert is 4
game_action_push
chupai=========================100334 2
game_mopai_push
{}
Targert is 28
game_action_push
chupai=========================100381 28
game_mopai_push
{}
Targert is 25
game_action_push
chupai=========================100335 31
game_mopai_push
{}
Targert is 11
game_action_push
chupai=========================100341 0
game_mopai_push
{}
Targert is 23
game_action_push
chupai=========================100334 4
game_mopai_push
{}
Targert is 4
game_action_push
chupai=========================100381 4
game_mopai_push
{}
Targert is 11
game_action_push
chupai=========================100335 4
game_mopai_push
{}
Targert is 33
game_action_push
chupai=========================100341 8
game_mopai_push
{}
Targert is 28
game_action_push
chupai=========================100334 5
game_action_push
chupai=========================100335 11
game_action_push
chupai=========================100334 27
game_mopai_push
{}
Targert is 13
game_action_push
chupai=========================100381 10
game_mopai_push
{}
Targert is 26
game_action_push
chupai=========================100335 13
game_mopai_push
{}
Targert is 17
game_action_push
chupai=========================100341 28
game_mopai_push
{}
Targert is 29
game_action_push
chupai=========================100334 28
game_mopai_push
{}
Targert is 31
game_action_push
chupai=========================100381 31
game_mopai_push
{ '1': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '15': { pattern: 'normal', fan: 0 } }
Targert is 17
game_action_push
chupai=========================100335 15
game_mopai_push
{}
Targert is 9
game_action_push
chupai=========================100341 27
game_mopai_push
{}
Targert is 12
game_action_push
chupai=========================100334 12
game_mopai_push
{}
Targert is 4
game_action_push
chupai=========================100381 4
game_mopai_push
{ '1': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '17': { pattern: 'normal', fan: 0 } }
Targert is 1
kunjin:  true
isMojin: true
isDajin: undefined
game_action_push
chupai=========================100335 1
game_mopai_push
{}
Targert is 21
game_action_push
chupai=========================100341 33
game_mopai_push
{}
Targert is 7
game_action_push
chupai=========================100334 7
game_action_push
chupai=========================100381 8
game_mopai_push
{ '1': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '17': { pattern: 'normal', fan: 0 } }
Targert is 13
game_action_push
chupai=========================100335 13
game_mopai_push
{}
Targert is 22
game_action_push
chupai=========================100341 30
game_action_push
gang=============100334       30
game_mopai_push
{}
Targert is 17
game_action_push
gang end===================
chupai=========================100334 23
game_mopai_push
{ '1': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 } }
Targert is 20
kunjin:  true
isMojin: false
game_action_push
hu==========================100381
do game over!
roomid :520898
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
normal
UPDATE t_rooms SET next_button = 2 WHERE id = "520898"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523710749099520898',1,'{"type":"sjmj","button":1,"index":1,"mahjongs":[10,30,14,21,14,5,7,5,26,29,32,21,1,22,26,23,30,11,8,20,27,27,18,19,9,30,15,13,3,21,7,4,24,11,32,32,26,30,16,22,8,15,33,15,13,23,10,31,0,2,19,24,28,3,16,5,4,28,25,11,23,4,11,33,28,13,26,17,29,31,17,9,12,4,1,21,7,13,22,17,20,32,6,25,5,9,12,18,18,27,14,24,0,16,19,25,2,31,8,12,3,6,29,23,10,0,28,24,1,31,7,8,25,20,12,6,14,18,6,15,29,1,22,2,0,10,16,17,9,19,2,33,33,3,20,27],"jin":[1,3],"game_seats":[[21,5,21,23,20,19,13,4,32,22,15,31,24],[10,14,26,1,30,27,9,3,24,26,8,13,0,28],[30,5,29,22,11,27,30,21,11,30,15,23,2],[14,7,32,26,8,18,15,7,32,16,33,10,19]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[-3,-5,1,7]' WHERE room_uuid = '1523710749099520898' AND game_index = 1
UPDATE t_games SET action_records = '[1,1,1,2,2,3,2,1,3,3,2,16,3,1,33,0,2,5,0,1,32,3,3,32,3,1,26,1,3,26,1,1,3,2,2,4,2,1,2,3,2,28,3,1,28,0,2,25,0,1,31,1,2,11,1,1,0,2,2,23,2,1,4,3,2,4,3,1,4,0,2,11,0,1,4,1,2,33,1,1,8,2,2,28,2,1,5,0,3,5,0,1,11,2,3,11,2,1,27,3,2,13,3,1,10,0,2,26,0,1,13,1,2,17,1,1,28,2,2,29,2,1,28,3,2,31,3,1,31,0,2,17,0,1,15,1,2,9,1,1,27,2,2,12,2,1,12,3,2,4,3,1,4,0,2,1,0,1,1,1,2,21,1,1,33,2,2,7,2,1,7,3,3,7,3,1,8,0,2,13,0,1,13,1,2,22,1,1,30,2,4,30,2,2,17,2,1,23,3,2,20,3,5,20]' WHERE room_uuid = '1523710749099520898' AND game_index = 1
UPDATE t_rooms SET num_of_turns = 2 WHERE id = "520898"
game_over_push
begin start==============520898
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 12
game_action_push
begin end=================
chupai=========================100334 29
game_mopai_push
{}
Targert is 2
game_action_push
chupai=========================100381 30
game_mopai_push
{}
Targert is 12
game_action_push
chupai=========================100335 29
game_mopai_push
{}
Targert is 15
game_action_push
chupai=========================100341 32
game_mopai_push
{}
Targert is 24
game_action_push
chupai=========================100334 30
game_mopai_push
{}
Targert is 24
game_action_push
chupai=========================100381 28
game_mopai_push
{}
Targert is 0
game_action_push
chupai=========================100335 28
game_mopai_push
{}
Targert is 33
game_action_push
chupai=========================100341 33
game_mopai_push
{}
Targert is 10
game_action_push
chupai=========================100334 27
game_mopai_push
{}
Targert is 25
game_action_push
chupai=========================100381 2
game_mopai_push
{}
Targert is 0
game_action_push
chupai=========================100335 33
game_mopai_push
{}
Targert is 20
game_action_push
chupai=========================100341 25
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100334 26
game_mopai_push
{}
Targert is 9
game_action_push
chupai=========================100381 5
game_action_push
chupai=========================100341 23
game_mopai_push
{}
Targert is 6
game_action_push
chupai=========================100334 6
game_mopai_push
{}
Targert is 29
game_action_push
chupai=========================100381 23
game_mopai_push
{}
Targert is 25
game_action_push
chupai=========================100335 31
game_mopai_push
{}
Targert is 7
game_action_push
chupai=========================100341 21
game_mopai_push
{}
Targert is 31
game_action_push
chupai=========================100334 31
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100381 8
game_mopai_push
{}
Targert is 20
game_action_push
chupai=========================100335 32
game_mopai_push
{}
Targert is 33
game_action_push
chupai=========================100341 19
game_mopai_push
{}
Targert is 0
game_action_push
chupai=========================100334 0
game_action_push
gang=============100335       0
game_mopai_push
{}
Targert is 23
game_action_push
gang end===================
chupai=========================100335 6
game_mopai_push
{}
Targert is 5
game_action_push
gang=============100341       5
game_mopai_push
{}
Targert is 27
game_action_push
gang end===================
chupai=========================100341 27
game_mopai_push
{}
Targert is 2
game_action_push
chupai=========================100334 19
game_mopai_push
{}
Targert is 1
game_action_push
chupai=========================100381 1
game_mopai_push
{}
Targert is 22
game_action_push
chupai=========================100335 20
game_mopai_push
{}
Targert is 30
game_action_push
chupai=========================100341 20
game_mopai_push
{}
Targert is 27
game_action_push
chupai=========================100334 18
game_action_push
chupai=========================100335 25
game_mopai_push
{}
Targert is 16
game_action_push
chupai=========================100341 30
game_mopai_push
{}
Targert is 26
game_action_push
chupai=========================100334 27
game_mopai_push
{}
Targert is 1
game_action_push
chupai=========================100381 1
game_mopai_push
{}
Targert is 1
game_action_push
chupai=========================100335 1
game_mopai_push
{}
Targert is 3
game_action_push
chupai=========================100341 33
game_mopai_push
{}
Targert is 15
game_action_push
chupai=========================100334 15
game_mopai_push
{}
Targert is 17
game_action_push
chupai=========================100381 20
game_mopai_push
{}
Targert is 14
game_action_push
chupai=========================100335 23
game_mopai_push
{}
Targert is 7
game_action_push
chupai=========================100341 9
game_mopai_push
{}
Targert is 31
game_action_push
chupai=========================100334 31
game_mopai_push
{ '12': { pattern: 'normal', fan: 0 },
  '16': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 13
game_action_push
chupai=========================100381 29
game_mopai_push
{}
Targert is 24
game_action_push
chupai=========================100335 24
game_action_push
chupai=========================100334 26
game_mopai_push
{}
Targert is 32
game_action_push
chupai=========================100381 32
game_mopai_push
{}
Targert is 16
game_action_push
chupai=========================100335 16
game_action_push
chupai=========================100381 11
game_mopai_push
{}
Targert is 30
game_action_push
chupai=========================100335 14
game_mopai_push
{}
Targert is 6
game_action_push
chupai=========================100341 4
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100334 8
game_mopai_push
{ '16': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 26
game_action_push
chupai=========================100381 26
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '5': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 21
game_action_push
chupai=========================100335 21
game_mopai_push
{}
Targert is 33
game_action_push
chupai=========================100341 33
game_mopai_push
{}
Targert is 21
game_action_push
chupai=========================100334 21
game_mopai_push
{ '16': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 21
game_action_push
chupai=========================100381 21
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '5': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 22
game_action_push
chupai=========================100335 10
game_mopai_push
{}
Targert is 29
game_action_push
chupai=========================100341 29
game_mopai_push
{}
Targert is 10
game_action_push
chupai=========================100334 10
game_mopai_push
{ '16': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 13
game_action_push
chupai=========================100381 17
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '5': { pattern: 'normal', fan: 0 },
  '12': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 14
game_action_push
chupai=========================100335 14
game_mopai_push
{}
Targert is 28
game_action_push
chupai=========================100341 28
game_mopai_push
{}
Targert is 22
game_action_push
chupai=========================100334 12
game_mopai_push
{ '14': { pattern: 'normal', fan: 0 },
  '15': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 2
game_action_push
chupai=========================100381 2
game_action_push
chupai=========================100334 3
game_action_push
chupai=========================100341 6
game_mopai_push
{ '22': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 4
game_action_push
chupai=========================100334 4
game_mopai_push
{ '14': { pattern: 'normal', fan: 0 },
  '15': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 8
game_action_push
chupai=========================100381 8
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '5': { pattern: 'normal', fan: 0 },
  '12': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 23
game_action_push
chupai=========================100335 12
game_mopai_push
{ '10': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 15
game_action_push
chupai=========================100341 15
game_mopai_push
{ '22': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 4
game_action_push
chupai=========================100334 4
game_mopai_push
{ '14': { pattern: 'normal', fan: 0 },
  '15': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 17
game_action_push
chupai=========================100381 17
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '5': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 25
game_action_push
chupai=========================100335 25
game_mopai_push
{ '10': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 17
game_action_push
chupai=========================100341 17
game_mopai_push
{ '22': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 28
game_action_push
chupai=========================100334 28
game_mopai_push
{ '14': { pattern: 'normal', fan: 0 },
  '15': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 27
game_action_push
chupai=========================100381 27
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '5': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 9
game_action_push
chupai=========================100335 9
game_mopai_push
{ '10': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 14
game_action_push
chupai=========================100341 14
game_mopai_push
{ '22': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 14
game_action_push
chupai=========================100334 14
game_mopai_push
{ '14': { pattern: 'normal', fan: 0 },
  '15': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 13
game_action_push
gang=============100381       13
game_mopai_push
{ '15': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 19
game_action_push
gang end===================
chupai=========================100381 15
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '5': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 20
game_action_push
chupai=========================100335 20
game_mopai_push
{ '10': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 31
game_action_push
chupai=========================100341 31
game_mopai_push
{ '22': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 12
game_action_push
chupai=========================100334 22
game_action_push
gang=============100335       22
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '5': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 7
game_action_push
gang end===================
chupai=========================100335 23
game_mopai_push
{ '10': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 19
game_action_push
chupai=========================100341 19
game_mopai_push
{ '9': { pattern: 'normal', fan: 0 },
  '12': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 1
game_action_push
chupai=========================100334 1
game_mopai_push
{ '19': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 18
game_action_push
chupai=========================100381 18
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '5': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 32
game_action_push
chupai=========================100335 32
do game over!
roomid :520898
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
UPDATE t_rooms SET next_button = 3 WHERE id = "520898"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523710749099520898',2,'{"type":"sjmj","button":2,"index":2,"mahjongs":[27,11,6,11,9,10,10,9,6,16,18,3,3,13,33,17,24,11,0,5,11,20,18,23,2,30,4,12,18,5,29,4,26,15,32,19,30,23,28,32,29,16,3,5,19,28,31,21,7,26,22,25,12,2,12,15,24,24,0,33,10,25,0,20,8,9,6,29,25,7,31,8,20,33,0,23,5,27,2,1,22,30,27,16,26,1,1,3,15,17,14,7,31,13,24,32,16,30,6,8,26,21,33,21,21,22,29,10,13,14,28,22,2,4,8,23,15,4,17,25,17,28,27,9,14,14,13,19,20,31,12,7,19,1,18,32],"jin":[29,30],"game_seats":[[6,10,18,33,0,18,4,29,32,28,3,31,22],[11,9,3,17,5,23,12,4,19,32,5,21,25],[27,9,6,3,24,11,2,18,26,30,29,19,7,12],[11,10,16,13,11,20,30,5,15,23,16,28,26]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[0,0,0,0]' WHERE room_uuid = '1523710749099520898' AND game_index = 2
UPDATE t_games SET action_records = '[2,1,29,3,2,2,3,1,30,0,2,12,0,1,29,1,2,15,1,1,32,2,2,24,2,1,30,3,2,24,3,1,28,0,2,0,0,1,28,1,2,33,1,1,33,2,2,10,2,1,27,3,2,25,3,1,2,0,2,0,0,1,33,1,2,20,1,1,25,2,2,8,2,1,26,3,2,9,3,1,5,1,3,5,1,1,23,2,2,6,2,1,6,3,2,29,3,1,23,0,2,25,0,1,31,1,2,7,1,1,21,2,2,31,2,1,31,3,2,8,3,1,8,0,2,20,0,1,32,1,2,33,1,1,19,2,2,0,2,1,0,0,4,0,0,2,23,0,1,6,1,2,5,1,4,5,1,2,27,1,1,27,2,2,2,2,1,19,3,2,1,3,1,1,0,2,22,0,1,20,1,2,30,1,1,20,2,2,27,2,1,18,0,3,18,0,1,25,1,2,16,1,1,30,2,2,26,2,1,27,3,2,1,3,1,1,0,2,1,0,1,1,1,2,3,1,1,33,2,2,15,2,1,15,3,2,17,3,1,20,0,2,14,0,1,23,1,2,7,1,1,9,2,2,31,2,1,31,3,2,13,3,1,29,0,2,24,0,1,24,2,3,24,2,1,26,3,2,32,3,1,32,0,2,16,0,1,16,3,3,16,3,1,11,0,2,30,0,1,14,1,2,6,1,1,4,2,2,8,2,1,8,3,2,26,3,1,26,0,2,21,0,1,21,1,2,33,1,1,33,2,2,21,2,1,21,3,2,21,3,1,21,0,2,22,0,1,10,1,2,29,1,1,29,2,2,10,2,1,10,3,2,13,3,1,17,0,2,14,0,1,14,1,2,28,1,1,28,2,2,22,2,1,12,3,2,2,3,1,2,2,3,2,2,1,3,1,3,3,1,1,6,2,2,4,2,1,4,3,2,8,3,1,8,0,2,23,0,1,12,1,2,15,1,1,15,2,2,4,2,1,4,3,2,17,3,1,17,0,2,25,0,1,25,1,2,17,1,1,17,2,2,28,2,1,28,3,2,27,3,1,27,0,2,9,0,1,9,1,2,14,1,1,14,2,2,14,2,1,14,3,2,13,3,4,13,3,2,19,3,1,15,0,2,20,0,1,20,1,2,31,1,1,31,2,2,12,2,1,22,0,4,22,0,2,7,0,1,23,1,2,19,1,1,19,2,2,1,2,1,1,3,2,18,3,1,18,0,2,32,0,1,32]' WHERE room_uuid = '1523710749099520898' AND game_index = 2
UPDATE t_rooms SET num_of_turns = 3 WHERE id = "520898"
game_over_push
begin start==============520898
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 33
game_action_push
begin end=================
chupai=========================100381 18
game_mopai_push
{}
Targert is 2
game_action_push
chupai=========================100335 30
game_mopai_push
{}
Targert is 2
game_action_push
chupai=========================100341 28
game_mopai_push
{}
Targert is 22
game_action_push
chupai=========================100334 30
game_mopai_push
{}
Targert is 7
game_action_push
chupai=========================100381 31
game_mopai_push
{}
Targert is 28
game_action_push
chupai=========================100335 28
game_mopai_push
{}
Targert is 16
game_action_push
chupai=========================100341 31
game_mopai_push
{}
Targert is 21
game_action_push
chupai=========================100334 29
game_mopai_push
{}
Targert is 30
game_action_push
chupai=========================100381 30
game_mopai_push
{}
Targert is 2
game_action_push
chupai=========================100335 29
game_mopai_push
{}
Targert is 16
game_action_push
chupai=========================100341 27
game_mopai_push
{}
Targert is 23
game_action_push
chupai=========================100334 10
game_mopai_push
{}
Targert is 10
game_action_push
chupai=========================100381 27
game_mopai_push
{}
Targert is 23
game_action_push
chupai=========================100335 33
game_action_push
chupai=========================100381 26
game_mopai_push
{}
Targert is 25
game_action_push
chupai=========================100335 25
game_mopai_push
{}
Targert is 11
game_action_push
chupai=========================100341 20
game_mopai_push
{}
Targert is 0
game_action_push
chupai=========================100334 12
game_mopai_push
{}
Targert is 24
game_action_push
chupai=========================100381 13
game_mopai_push
{}
Targert is 21
game_action_push
chupai=========================100335 19
game_mopai_push
{}
Targert is 31
game_action_push
chupai=========================100341 31
game_mopai_push
{}
Targert is 20
game_action_push
chupai=========================100334 21
game_action_push
chupai=========================100335 6
game_action_push
chupai=========================100341 0
game_mopai_push
{}
Targert is 13
game_action_push
chupai=========================100334 13
game_mopai_push
{ '6': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 } }
Targert is 19
kunjin:  true
isMojin: true
isDajin: true
game_action_push
hu==========================100381
do game over!
roomid :520898
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
normal
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523710749099520898',3,'{"type":"sjmj","button":3,"index":3,"mahjongs":[32,19,28,12,33,12,6,25,11,22,13,21,26,2,31,30,25,11,7,5,13,30,20,8,18,1,15,24,9,33,27,1,23,6,9,3,32,17,0,7,31,17,6,10,27,29,3,29,5,21,14,4,33,2,2,22,7,28,16,21,30,2,16,23,10,23,25,11,0,24,21,31,20,13,19,29,12,31,17,20,10,7,10,32,3,16,22,9,12,14,5,8,29,8,27,24,11,16,14,30,17,20,4,9,27,28,18,25,8,13,28,26,15,15,3,0,0,14,4,5,19,26,24,18,32,1,4,18,1,6,26,22,23,33,19,15],"jin":[18,19],"game_seats":[[19,12,22,2,11,30,1,33,6,17,17,29,21],[28,6,13,31,7,20,15,27,9,0,6,3,14],[12,25,21,30,5,8,24,1,3,7,10,29,4],[32,33,11,26,25,13,18,9,23,32,31,27,5,33]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[-6,-6,-6,18]' WHERE room_uuid = '1523710749099520898' AND game_index = 3
UPDATE t_games SET action_records = '[3,1,18,0,2,2,0,1,30,1,2,2,1,1,28,2,2,22,2,1,30,3,2,7,3,1,31,0,2,28,0,1,28,1,2,16,1,1,31,2,2,21,2,1,29,3,2,30,3,1,30,0,2,2,0,1,29,1,2,16,1,1,27,2,2,23,2,1,10,3,2,10,3,1,27,0,2,23,0,1,33,3,3,33,3,1,26,0,2,25,0,1,25,1,2,11,1,1,20,2,2,0,2,1,12,3,2,24,3,1,13,0,2,21,0,1,19,1,2,31,1,1,31,2,2,20,2,1,21,0,3,21,0,1,6,1,3,6,1,1,0,2,2,13,2,1,13,3,2,19,3,5,19]' WHERE room_uuid = '1523710749099520898' AND game_index = 3
UPDATE t_rooms SET num_of_turns = 4 WHERE id = "520898"
game_over_push
SELECT history FROM t_users WHERE userid = "100335"
SELECT history FROM t_users WHERE userid = "100341"
SELECT history FROM t_users WHERE userid = "100334"
SELECT history FROM t_users WHERE userid = "100381"
UPDATE t_users SET roomid = null WHERE userid = "100335"
UPDATE t_users SET roomid = null WHERE userid = "100341"
UPDATE t_users SET roomid = null WHERE userid = "100334"
UPDATE t_users SET roomid = null WHERE userid = "100381"
DELETE FROM t_rooms WHERE id = '520898'
INSERT INTO t_games_archive(SELECT * FROM t_games WHERE room_uuid = '1523710749099520898')
2784
UPDATE t_users SET roomid = null, history = '[{"uuid":"1522675431210706479","id":"706479","time":1522675432,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":0},{"userid":100355,"name":"6ZW/5a2Z6ZuA5Zyj","score":0},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":0},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":0}]},{"uuid":"1523627417627130382","id":"130382","time":1523627418,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-7},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-10},{"userid":100381,"name":"5pif54Gr","score":4},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":13}]},{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523678996348220864","id":"220864","time":1523678997,"seats":[{"userid":100334,"name":"576k5Li7","score":6},{"userid":100390,"name":"6K+g6YeK","score":-2},{"userid":100335,"name":"5pyI5YWJ","score":-4},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523683566003780700","id":"780700","time":1523683566,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":0},{"userid":100390,"name":"6K+g6YeK","score":0},{"userid":100334,"name":"576k5Li7","score":0},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523685120094387583","id":"387583","time":1523685121,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":10},{"userid":100390,"name":"6K+g6YeK","score":8},{"userid":100333,"name":"5byg6bqf5Y2O","score":4},{"userid":100334,"name":"576k5Li7","score":-22}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]},{"uuid":"1523710749099520898","id":"520898","time":1523710750,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-18},{"userid":100341,"name":"Kl5f6L6JX14q","score":4},{"userid":100334,"name":"576k5Li7","score":-12},{"userid":100381,"name":"5pif54Gr","score":26}]}]' WHERE userid = "100335"
2923
UPDATE t_users SET roomid = null, history = '[{"uuid":"1522490391522769321","id":"769321","time":1522490392,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-15},{"userid":100340,"name":"6Im+5qC86YeR5aaN5re66ZmM5Yid5b+D","score":18},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-1}]},{"uuid":"1522490989159021773","id":"021773","time":1522490990,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-15},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":13},{"userid":100340,"name":"6Im+5qC86YeR5aaN5re66ZmM5Yid5b+D","score":8},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-6}]},{"uuid":"1522674632945516960","id":"516960","time":1522674633,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-38},{"userid":100355,"name":"6ZW/5a2Z6ZuA5Zyj","score":-39},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-63},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":140}]},{"uuid":"1522675431210706479","id":"706479","time":1522675432,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":0},{"userid":100355,"name":"6ZW/5a2Z6ZuA5Zyj","score":0},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":0},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":0}]},{"uuid":"1523627417627130382","id":"130382","time":1523627418,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-7},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-10},{"userid":100381,"name":"5pif54Gr","score":4},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":13}]},{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]},{"uuid":"1523710749099520898","id":"520898","time":1523710750,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-18},{"userid":100341,"name":"Kl5f6L6JX14q","score":4},{"userid":100334,"name":"576k5Li7","score":-12},{"userid":100381,"name":"5pif54Gr","score":26}]}]' WHERE userid = "100341"
2784
UPDATE t_users SET roomid = null, history = '[{"uuid":"1522675431210706479","id":"706479","time":1522675432,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":0},{"userid":100355,"name":"6ZW/5a2Z6ZuA5Zyj","score":0},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":0},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":0}]},{"uuid":"1523627417627130382","id":"130382","time":1523627418,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-7},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-10},{"userid":100381,"name":"5pif54Gr","score":4},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":13}]},{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523678996348220864","id":"220864","time":1523678997,"seats":[{"userid":100334,"name":"576k5Li7","score":6},{"userid":100390,"name":"6K+g6YeK","score":-2},{"userid":100335,"name":"5pyI5YWJ","score":-4},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523683566003780700","id":"780700","time":1523683566,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":0},{"userid":100390,"name":"6K+g6YeK","score":0},{"userid":100334,"name":"576k5Li7","score":0},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523685120094387583","id":"387583","time":1523685121,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":10},{"userid":100390,"name":"6K+g6YeK","score":8},{"userid":100333,"name":"5byg6bqf5Y2O","score":4},{"userid":100334,"name":"576k5Li7","score":-22}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]},{"uuid":"1523710749099520898","id":"520898","time":1523710750,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-18},{"userid":100341,"name":"Kl5f6L6JX14q","score":4},{"userid":100334,"name":"576k5Li7","score":-12},{"userid":100381,"name":"5pif54Gr","score":26}]}]' WHERE userid = "100334"
1410
UPDATE t_users SET roomid = null, history = '[{"uuid":"1523627417627130382","id":"130382","time":1523627418,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-7},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-10},{"userid":100381,"name":"5pif54Gr","score":4},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":13}]},{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]},{"uuid":"1523710749099520898","id":"520898","time":1523710750,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-18},{"userid":100341,"name":"Kl5f6L6JX14q","score":4},{"userid":100334,"name":"576k5Li7","score":-12},{"userid":100381,"name":"5pif54Gr","score":26}]}]' WHERE userid = "100381"
DELETE FROM t_games WHERE room_uuid = '1523710749099520898'
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT * FROM t_message WHERE type = "notice"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100334)  
++++++++++++++++++++++++++++++++++++
{"x":35.624408,"y":110.89685}
UPDATE t_users SET location='{"x":35.624408,"y":110.89685}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
++++++++++++++++++++++++++++++++++++
{"x":35.624371,"y":110.896828}
UPDATE t_users SET location='{"x":35.624371,"y":110.896828}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N75c3Lu8hC08SI3VoH1tpE"
{ account: 'wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc',
  sign: 'ff2f9ddfc830c2c1ad6e0a9f19303583',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":1,"iplimit":0,"difen":1,"jinfen":2,"cheat":0,"clubId":"","type":"djmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":1,"iplimit":0,"difen":1,"jinfen":2,"cheat":0,"clubId":"","type":"djmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100335"
club_id is
{ type: 'djmj',
  baseScore: 1,
  jinfen: 2,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100335,
  paytype: 1,
  cheat: true,
  clubId: '' }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523711564074791213','791213','{"type":"djmj","baseScore":1,"jinfen":2,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100335,"paytype":1,"cheat":true,"clubId":""}','127.0.0.1',10000,1523711565,100335,1,'')
1523711564074791213
SELECT ip,port FROM t_rooms WHERE id = "791213"
{ userid: '100335',
  name: '月光',
  roomid: '791213',
  sign: '097e9a9c4938f4fce7560660e24c9ca2' }
097e9a9c4938f4fce7560660e24c9ca2
SELECT gems FROM t_users WHERE userid = 100335
UPDATE t_rooms SET user_id0 = 100335,user_icon0 = "",user_name0 = "5pyI5YWJ" WHERE id = "791213"
{ token: 'f38b0245e892f8bcf5f94370407494a1',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "791213" WHERE userid = "100335"
791213
f38b0245e892f8bcf5f94370407494a1
1523711564086
fd5c768b6d979239e2ab6574678c837c
++++++++++++++++++++++++++++++++++++
{"x":35.624366,"y":110.896805}
UPDATE t_users SET location='{"x":35.624366,"y":110.896805}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
++++++++++++++++++++++++++++++++++++
{"x":35.62518,"y":110.89581}
UPDATE t_users SET location='{"x":35.62518,"y":110.89581}' WHERE account='wx_omM_A1N75c3Lu8hC08SI3VoH1tpE'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N75c3Lu8hC08SI3VoH1tpE"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=791213 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "791213"
{ userid: '100341',
  name: '*^_辉_^*',
  roomid: '791213',
  sign: '6fb291c13e32a156b215044f7ce9f1cd' }
6fb291c13e32a156b215044f7ce9f1cd
SELECT gems FROM t_users WHERE userid = 100341
距离90.05746805237189
{ errcode: 998, errmsg: 'you are not in' }
you are not in
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=791213 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "791213"
{ userid: '100334',
  name: '群主',
  roomid: '791213',
  sign: 'a73a1c278b49696efea3a66e2d08cf10' }
a73a1c278b49696efea3a66e2d08cf10
SELECT gems FROM t_users WHERE userid = 100334
距离0.5565974533346942
{ errcode: 998, errmsg: 'you are not in' }
you are not in
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=791213 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "791213"
{ userid: '100334',
  name: '群主',
  roomid: '791213',
  sign: 'a73a1c278b49696efea3a66e2d08cf10' }
a73a1c278b49696efea3a66e2d08cf10
SELECT gems FROM t_users WHERE userid = 100334
距离0.5565974533346942
{ errcode: 998, errmsg: 'you are not in' }
you are not in
100335			100335
UPDATE t_users SET roomid = null WHERE userid = "100335"
DELETE FROM t_rooms WHERE id = '791213'
SELECT gems FROM t_users WHERE account = "wx_omM_A1IFv55ZW5ynqJByk17VH9_s"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
++++++++++++++++++++++++++++++++++++
{"x":35.624367,"y":110.896856}
UPDATE t_users SET location='{"x":35.624367,"y":110.896856}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
{ account: 'wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc',
  sign: 'ff2f9ddfc830c2c1ad6e0a9f19303583',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":1,"iplimit":0,"difen":1,"jinfen":2,"cheat":1,"clubId":"","type":"djmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":1,"iplimit":0,"difen":1,"jinfen":2,"cheat":1,"clubId":"","type":"djmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100335"
club_id is
{ type: 'djmj',
  baseScore: 1,
  jinfen: 2,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100335,
  paytype: 1,
  cheat: false,
  clubId: '' }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523711631620313276','313276','{"type":"djmj","baseScore":1,"jinfen":2,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100335,"paytype":1,"cheat":false,"clubId":""}','127.0.0.1',10000,1523711632,100335,1,'')
1523711631620313276
SELECT ip,port FROM t_rooms WHERE id = "313276"
{ userid: '100335',
  name: '月光',
  roomid: '313276',
  sign: '4e7e603c6978a67c4532a76cb4acb06d' }
4e7e603c6978a67c4532a76cb4acb06d
SELECT gems FROM t_users WHERE userid = 100335
UPDATE t_rooms SET user_id0 = 100335,user_icon0 = "",user_name0 = "5pyI5YWJ" WHERE id = "313276"
{ token: '0c1ddd267bb54f52a723e2188301e20b',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "313276" WHERE userid = "100335"
313276
0c1ddd267bb54f52a723e2188301e20b
1523711631633
799f83d963bc830e1fc21c6df8800555
++++++++++++++++++++++++++++++++++++
{"x":35.624358,"y":110.896851}
UPDATE t_users SET location='{"x":35.624358,"y":110.896851}' WHERE account='wx_omM_A1IFv55ZW5ynqJByk17VH9_s'
++++++++++++++++++++++++++++++++++++
{"x":35.624361,"y":110.896796}
UPDATE t_users SET location='{"x":35.624361,"y":110.896796}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
++++++++++++++++++++++++++++++++++++
{"x":35.624359,"y":110.896851}
UPDATE t_users SET location='{"x":35.624359,"y":110.896851}' WHERE account='wx_omM_A1N75c3Lu8hC08SI3VoH1tpE'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1IFv55ZW5ynqJByk17VH9_s"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=313276 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "313276"
{ userid: '100381',
  name: '星火',
  roomid: '313276',
  sign: 'c29b2fbf74582b69d81ca894c6779cf5' }
c29b2fbf74582b69d81ca894c6779cf5
SELECT gems FROM t_users WHERE userid = 100381
UPDATE t_rooms SET user_id1 = 100381,user_icon1 = "",user_name1 = "5pif54Gr" WHERE id = "313276"
{ token: '199ee506c4d9dc94b30051125b7a107c',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "313276" WHERE userid = "100381"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=313276 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "313276"
{ userid: '100334',
  name: '群主',
  roomid: '313276',
  sign: 'eb5fca7bff1e49f77bb7b2d88a9ecd9d' }
eb5fca7bff1e49f77bb7b2d88a9ecd9d
SELECT gems FROM t_users WHERE userid = 100334
UPDATE t_rooms SET user_id2 = 100334,user_icon2 = "",user_name2 = "576k5Li7" WHERE id = "313276"
{ token: '2533ea1a0606e8f01d956a4a906710d2',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "313276" WHERE userid = "100334"
313276
199ee506c4d9dc94b30051125b7a107c
1523711638189
c460650ea366b9cdc88843755b133a61
313276
2533ea1a0606e8f01d956a4a906710d2
1523711638233
6665ef0037ec529543932e545a3ee27d
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N75c3Lu8hC08SI3VoH1tpE"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=313276 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "313276"
{ userid: '100341',
  name: '*^_辉_^*',
  roomid: '313276',
  sign: '64fb31845f490824e7aa01cac1c79cf0' }
64fb31845f490824e7aa01cac1c79cf0
SELECT gems FROM t_users WHERE userid = 100341
UPDATE t_rooms SET user_id3 = 100341,user_icon3 = "",user_name3 = "Kl5f6L6JX14q" WHERE id = "313276"
{ token: '7c544c6ce893a84888ece20ef8c9bec6',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "313276" WHERE userid = "100341"
313276
7c544c6ce893a84888ece20ef8c9bec6
1523711638696
fcc66ea5985d77805c4edf12f7a23af3
begin start==============313276
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 14
game_action_push
begin end=================
chupai=========================100335 29
game_mopai_push
{}
Targert is 24
game_action_push
chupai=========================100381 32
game_mopai_push
{}
Targert is 10
game_action_push
chupai=========================100334 32
game_mopai_push
{}
Targert is 27
game_action_push
chupai=========================100341 18
game_mopai_push
{}
Targert is 2
game_action_push
chupai=========================100335 27
game_action_push
chupai=========================100334 1
game_mopai_push
{}
Targert is 3
game_action_push
chupai=========================100341 33
game_mopai_push
{}
Targert is 11
game_action_push
chupai=========================100335 20
game_action_push
chupai=========================100341 29
game_mopai_push
{}
Targert is 22
game_action_push
chupai=========================100335 11
game_mopai_push
{}
Targert is 16
game_action_push
chupai=========================100381 31
game_action_push
chupai=========================100335 24
game_action_push
guo=================================100381
guo_result
game_mopai_push
{}
Targert is 0
game_action_push
guo end=============================
chupai=========================100381 30
game_mopai_push
{}
Targert is 4
game_action_push
chupai=========================100334 25
game_mopai_push
{}
Targert is 10
game_action_push
chupai=========================100341 27
game_mopai_push
{}
Targert is 18
game_action_push
chupai=========================100335 18
game_mopai_push
{}
Targert is 5
game_action_push
chupai=========================100381 0
game_mopai_push
{}
Targert is 9
game_action_push
chupai=========================100334 17
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100341 8
game_mopai_push
{}
Targert is 17
game_action_push
chupai=========================100335 22
game_mopai_push
{}
Targert is 29
game_action_push
chupai=========================100381 29
game_mopai_push
{}
Targert is 14
game_action_push
chupai=========================100334 9
game_mopai_push
{}
Targert is 10
game_action_push
chupai=========================100341 15
game_action_push
chupai=========================100335 17
game_mopai_push
{}
Targert is 4
game_action_push
chupai=========================100381 24
game_mopai_push
{}
Targert is 11
game_action_push
chupai=========================100334 16
game_action_push
chupai=========================100381 21
game_action_push
chupai=========================100334 14
game_action_push
chupai=========================100335 2
game_mopai_push
{}
Targert is 9
game_action_push
chupai=========================100381 13
game_mopai_push
{ '5': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 } }
Targert is 19
game_action_push
chupai=========================100334 19
game_mopai_push
{}
Targert is 3
game_action_push
chupai=========================100341 26
game_mopai_push
{ '0': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 } }
Targert is 16
game_action_push
chupai=========================100335 16
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100381 9
game_mopai_push
{ '5': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 } }
Targert is 30
game_action_push
chupai=========================100334 30
game_mopai_push
{}
Targert is 1
game_action_push
chupai=========================100341 1
game_mopai_push
{ '0': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 } }
Targert is 12
game_action_push
chupai=========================100335 12
game_mopai_push
{}
Targert is 4
game_action_push
chupai=========================100381 8
game_mopai_push
{ '5': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 } }
Targert is 31
game_action_push
chupai=========================100334 31
game_mopai_push
{}
Targert is 30
game_action_push
chupai=========================100341 30
game_mopai_push
{ '0': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 } }
Targert is 19
game_action_push
chupai=========================100335 19
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 },
  '28': { pattern: 'normal', fan: 0 } }
Targert is 1
game_action_push
chupai=========================100381 5
game_action_push
guo=================================100335
guo_result
game_mopai_push
{ '5': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 } }
Targert is 17
game_action_push
guo end=============================
chupai=========================100334 17
game_mopai_push
{}
Targert is 33
game_action_push
chupai=========================100341 33
game_mopai_push
{ '0': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 } }
Targert is 26
game_action_push
chupai=========================100335 26
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 } }
Targert is 19
game_action_push
chupai=========================100381 19
game_mopai_push
{ '5': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 } }
Targert is 28
game_action_push
chupai=========================100334 28
game_action_push
chupai=========================100381 1
game_mopai_push
{ '5': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 } }
Targert is 25
game_action_push
chupai=========================100334 25
game_mopai_push
{}
Targert is 0
game_action_push
chupai=========================100341 0
game_mopai_push
{ '0': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 } }
Targert is 2
game_action_push
chupai=========================100335 2
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '5': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 } }
Targert is 9
game_action_push
chupai=========================100381 9
game_mopai_push
{ '5': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 } }
Targert is 0
game_action_push
chupai=========================100334 0
game_mopai_push
{}
Targert is 13
game_action_push
chupai=========================100341 13
game_mopai_push
{ '0': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 } }
Targert is 7
game_action_push
chupai=========================100335 7
game_action_push
chupai=========================100334 6
game_mopai_push
{}
Targert is 7
game_action_push
chupai=========================100341 25
game_mopai_push
{ '0': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 } }
Targert is 33
game_action_push
chupai=========================100335 33
game_mopai_push
{ '2': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '5': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 } }
Targert is 6
game_action_push
chupai=========================100381 6
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 } }
Targert is 9
game_action_push
chupai=========================100334 4
game_action_push
guo=================================100381
guo_result
game_mopai_push
{ '6': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 } }
Targert is 26
game_action_push
guo end=============================
chupai=========================100341 26
game_mopai_push
{ '0': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 } }
Targert is 18
kunjin:  true
isMojin: true
isDajin: true
game_action_push
hu==========================100335
do game over!
roomid :313276
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
Missing error handler on `socket`.
TypeError: Cannot read property 'length' of undefined
    at getMJType (/root/server0413/game_server/gamemgr_sjmj.js:34:28)
    at isSameType (/root/server0413/game_server/gamemgr_sjmj.js:481:17)
    at isQingYiSe (/root/server0413/game_server/gamemgr_sjmj.js:525:9)
    at calculateResult (/root/server0413/game_server/gamemgr_sjmj.js:587:21)
    at doGameOver (/root/server0413/game_server/gamemgr_sjmj.js:741:13)
    at Object.exports.hu (/root/server0413/game_server/gamemgr_sjmj.js:1675:5)
    at Socket.<anonymous> (/root/server0413/game_server/socket_service.js:204:19)
    at emitOne (events.js:77:13)
    at Socket.emit (events.js:169:7)
    at Socket.onevent (/root/server0413/node_modules/socket.io/lib/socket.js:335:8)
    at Socket.onpacket (/root/server0413/node_modules/socket.io/lib/socket.js:295:12)
    at Client.ondecoded (/root/server0413/node_modules/socket.io/lib/client.js:193:14)
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=313276 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "313276"
{ userid: '100335',
  name: '月光',
  roomid: '313276',
  sign: '4e7e603c6978a67c4532a76cb4acb06d' }
4e7e603c6978a67c4532a76cb4acb06d
SELECT gems FROM t_users WHERE userid = 100335
{ token: '70f48697f43bd7708c3c1305af4a571b',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "313276" WHERE userid = "100335"
313276
70f48697f43bd7708c3c1305af4a571b
1523711804359
559089e7ed54395b637f254c07afdf92
game_sync_push
game_action_push
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=313276 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "313276"
{ userid: '100335',
  name: '月光',
  roomid: '313276',
  sign: '4e7e603c6978a67c4532a76cb4acb06d' }
4e7e603c6978a67c4532a76cb4acb06d
SELECT gems FROM t_users WHERE userid = 100335
{ token: '1dddf9e4849a75ca9f37b48e666c525d',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "313276" WHERE userid = "100335"
313276
1dddf9e4849a75ca9f37b48e666c525d
1523711959343
239ff1dec3f06c936f9876bf4f87fda4
game_sync_push
game_action_push
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1IFv55ZW5ynqJByk17VH9_s"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=313276 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "313276"
{ userid: '100381',
  name: '星火',
  roomid: '313276',
  sign: 'c29b2fbf74582b69d81ca894c6779cf5' }
c29b2fbf74582b69d81ca894c6779cf5
SELECT gems FROM t_users WHERE userid = 100381
{ token: '89aa91edc847e1be21864ec0fa30516e',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "313276" WHERE userid = "100381"
313276
89aa91edc847e1be21864ec0fa30516e
1523711967093
dca702ba1aa5c84686b6a7591a24ee83
game_sync_push
game_action_push
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=313276 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "313276"
{ userid: '100335',
  name: '月光',
  roomid: '313276',
  sign: '4e7e603c6978a67c4532a76cb4acb06d' }
4e7e603c6978a67c4532a76cb4acb06d
SELECT gems FROM t_users WHERE userid = 100335
{ token: '0cb398a199dd78c00dc7b6fa4c23f8dd',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "313276" WHERE userid = "100335"
313276
0cb398a199dd78c00dc7b6fa4c23f8dd
1523712078032
005d59533f36e67994ea7aadfc2258bf
game_sync_push
game_action_push
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1IFv55ZW5ynqJByk17VH9_s"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=313276 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "313276"
{ userid: '100381',
  name: '星火',
  roomid: '313276',
  sign: 'c29b2fbf74582b69d81ca894c6779cf5' }
c29b2fbf74582b69d81ca894c6779cf5
SELECT gems FROM t_users WHERE userid = 100381
{ token: 'f7305aecf98423f452322d311df7feb5',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "313276" WHERE userid = "100381"
313276
f7305aecf98423f452322d311df7feb5
1523712296465
367f0ce7a7e6c7c73325e77d72189f19
game_sync_push
game_action_push
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=313276 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "313276"
{ userid: '100335',
  name: '月光',
  roomid: '313276',
  sign: '4e7e603c6978a67c4532a76cb4acb06d' }
4e7e603c6978a67c4532a76cb4acb06d
SELECT gems FROM t_users WHERE userid = 100335
{ token: '5c14bd97b7b243bac6507d6a83254f1d',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "313276" WHERE userid = "100335"
313276
5c14bd97b7b243bac6507d6a83254f1d
1523712306279
d6c39c4a9c9696a846196b152fb9079c
game_sync_push
game_action_push
1
5
6
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N75c3Lu8hC08SI3VoH1tpE"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=313276 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "313276"
{ userid: '100341',
  name: '*^_辉_^*',
  roomid: '313276',
  sign: '64fb31845f490824e7aa01cac1c79cf0' }
64fb31845f490824e7aa01cac1c79cf0
SELECT gems FROM t_users WHERE userid = 100341
{ token: '1c605cb0b3f66282074144ca92ae56e1',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "313276" WHERE userid = "100341"
313276
1c605cb0b3f66282074144ca92ae56e1
1523712325365
7664be6bba5c4d6e80a4b2f29f1bdebb
game_sync_push
game_action_push
dissolve_notice_push
do game over!
roomid :313276
roomInfo:[object Object]
forceEnd :true
game_over_push
do game over!
roomid :313276
roomInfo:[object Object]
forceEnd :true
game_over_push
do game over!
roomid :313276
roomInfo:[object Object]
forceEnd :true
game_over_push
UPDATE t_users SET roomid = null WHERE userid = "100335"
UPDATE t_users SET roomid = null WHERE userid = "100381"
UPDATE t_users SET roomid = null WHERE userid = "100334"
UPDATE t_users SET roomid = null WHERE userid = "100341"
DELETE FROM t_rooms WHERE id = '313276'
INSERT INTO t_games_archive(SELECT * FROM t_games WHERE room_uuid = '1523711631620313276')
DELETE FROM t_games WHERE room_uuid = '1523711631620313276'
INSERT INTO t_games_archive(SELECT * FROM t_games WHERE room_uuid = '1523711631620313276')
DELETE FROM t_games WHERE room_uuid = '1523711631620313276'
INSERT INTO t_games_archive(SELECT * FROM t_games WHERE room_uuid = '1523711631620313276')
DELETE FROM t_games WHERE room_uuid = '1523711631620313276'
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N75c3Lu8hC08SI3VoH1tpE"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1IFv55ZW5ynqJByk17VH9_s"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
++++++++++++++++++++++++++++++++++++
{"x":35.624372,"y":110.896839}
UPDATE t_users SET location='{"x":35.624372,"y":110.896839}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
{ account: 'wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc',
  sign: 'ff2f9ddfc830c2c1ad6e0a9f19303583',
  conf: '{"wanfaxuanze":1,"xuanzejushu":0,"paytype":1,"difen":"1","cheat":1,"daifeng":0,"clubId":"","type":"bymj"}' }
conf is{"wanfaxuanze":1,"xuanzejushu":0,"paytype":1,"difen":"1","cheat":1,"daifeng":0,"clubId":"","type":"bymj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100335"
club_id is
{ type: 'bymj',
  baseScore: '1',
  isBaoTing: false,
  maxGames: 4,
  creator: 100335,
  paytype: 1,
  cheat: false,
  daifeng: true,
  clubId: '' }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523712347389672772','672772','{"type":"bymj","baseScore":"1","isBaoTing":false,"maxGames":4,"creator":100335,"paytype":1,"cheat":false,"daifeng":true,"clubId":""}','127.0.0.1',10000,1523712348,100335,1,'')
1523712347389672772
SELECT ip,port FROM t_rooms WHERE id = "672772"
{ userid: '100335',
  name: '月光',
  roomid: '672772',
  sign: '3769420ce242deeee6e4f1018cea5f2b' }
3769420ce242deeee6e4f1018cea5f2b
SELECT gems FROM t_users WHERE userid = 100335
UPDATE t_rooms SET user_id0 = 100335,user_icon0 = "",user_name0 = "5pyI5YWJ" WHERE id = "672772"
{ token: '0b54385c3011e22b0faa4fef49a1a07d',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "672772" WHERE userid = "100335"
672772
0b54385c3011e22b0faa4fef49a1a07d
1523712347402
a14f9df182954cad9c5d192b15fe8312
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT * FROM t_message WHERE type = "notice"
++++++++++++++++++++++++++++++++++++
{"x":35.62437,"y":110.896857}
UPDATE t_users SET location='{"x":35.62437,"y":110.896857}' WHERE account='wx_omM_A1IFv55ZW5ynqJByk17VH9_s'
++++++++++++++++++++++++++++++++++++
{"x":35.624362,"y":110.896811}
UPDATE t_users SET location='{"x":35.624362,"y":110.896811}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
++++++++++++++++++++++++++++++++++++
{"x":35.624372,"y":110.89677}
UPDATE t_users SET location='{"x":35.624372,"y":110.89677}' WHERE account='wx_omM_A1N75c3Lu8hC08SI3VoH1tpE'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1IFv55ZW5ynqJByk17VH9_s"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=672772 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "672772"
{ userid: '100381',
  name: '星火',
  roomid: '672772',
  sign: '0d9d811917516334b39b1d1acdb78f9f' }
0d9d811917516334b39b1d1acdb78f9f
SELECT gems FROM t_users WHERE userid = 100381
UPDATE t_rooms SET user_id1 = 100381,user_icon1 = "",user_name1 = "5pif54Gr" WHERE id = "672772"
{ token: 'b540521a46da289067a24381b00bfeb7',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "672772" WHERE userid = "100381"
672772
b540521a46da289067a24381b00bfeb7
1523712359743
90e7e0b4e0e9a01ed1a96581df02eb33
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=672772 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "672772"
{ userid: '100334',
  name: '群主',
  roomid: '672772',
  sign: '9b8ddc8a7c2842ef1f0325f1eb5748b7' }
9b8ddc8a7c2842ef1f0325f1eb5748b7
SELECT gems FROM t_users WHERE userid = 100334
UPDATE t_rooms SET user_id2 = 100334,user_icon2 = "",user_name2 = "576k5Li7" WHERE id = "672772"
{ token: '3a2e3249c2ef393b09b6c457d922975f',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "672772" WHERE userid = "100334"
672772
3a2e3249c2ef393b09b6c457d922975f
1523712361040
cb57e21806d0970899358c63d5f91da4
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N75c3Lu8hC08SI3VoH1tpE"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=672772 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "672772"
{ userid: '100341',
  name: '*^_辉_^*',
  roomid: '672772',
  sign: 'e68afc7207016b9e27f7722ba97a7691' }
e68afc7207016b9e27f7722ba97a7691
SELECT gems FROM t_users WHERE userid = 100341
UPDATE t_rooms SET user_id3 = 100341,user_icon3 = "",user_name3 = "Kl5f6L6JX14q" WHERE id = "672772"
{ token: '9a645d730dc343558ce0cca51ddc649d',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "672772" WHERE userid = "100341"
672772
9a645d730dc343558ce0cca51ddc649d
1523712363932
0780a727b94a86eace7c249be5f1c3fd
begin start==============672772
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
guo=================================100381
{ game: 
   { conf: 
      { type: 'bymj',
        baseScore: '1',
        isBaoTing: false,
        maxGames: 4,
        creator: 100335,
        paytype: 1,
        cheat: false,
        daifeng: true,
        clubId: '' },
     roomInfo: 
      { uuid: '1523712347389672772',
        id: '672772',
        numOfGames: 1,
        createTime: 1523712348,
        nextButton: 0,
        seats: [Object],
        conf: [Object],
        gameMgr: [Object] },
     gameIndex: 0,
     button: 0,
     currentIndex: 65,
     gameSeats: [ [Object], [Circular], [Object], [Object] ],
     turn: 0,
     chuPai: 2,
     state: 'playing',
     firstHupai: -1,
     actionList: 
      [ 0,
        1,
        27,
        1,
        2,
        9,
        1,
        1,
        33,
        2,
        2,
        17,
        2,
        1,
        30,
        3,
        2,
        6,
        3,
        1,
        29,
        0,
        2,
        21,
        0,
        1,
        32,
        1,
        2,
        31,
        1,
        1,
        31,
        2,
        2,
        9,
        2,
        1,
        27,
        3,
        2,
        5,
        3,
        1,
        31,
        0,
        2,
        14,
        0,
        1,
        32,
        1,
        2,
        4,
        1,
        1,
        33,
        2,
        2,
        1,
        2,
        1,
        7,
        3,
        2,
        12,
        3,
        1,
        27,
        0,
        2,
        30,
        0,
        1,
        2 ],
     hupaiList: [],
     chupaiCnt: 13,
     mahjongs: 
      [ 24,
        3,
        26,
        31,
        6,
        2,
        27,
        17,
        19,
        10,
        26,
        29,
        32,
        25,
        22,
        24,
        6,
        25,
        10,
        21,
        21,
        17,
        7,
        12,
        2,
        8,
        20,
        7,
        13,
        33,
        4,
        24,
        15,
        33,
        30,
        26,
        15,
        0,
        10,
        28,
        32,
        25,
        16,
        8,
        27,
        2,
        18,
        27,
        16,
        20,
        0,
        8,
        25,
        9,
        17,
        6,
        21,
        31,
        9,
        5,
        14,
        4,
        1,
        12,
        30,
        16,
        3,
        14,
        19,
        14,
        23,
        4,
        16,
        27,
        20,
        1,
        18,
        7,
        11,
        24,
        20,
        21,
        28,
        29,
        1,
        11,
        28,
        19,
        13,
        22,
        32,
        1,
        29,
        7,
        10,
        0,
        23,
        17,
        12,
        26,
        15,
        6,
        18,
        33,
        13,
        15,
        29,
        31,
        22,
        19,
        11,
        18,
        33,
        5,
        9,
        23,
        32,
        11,
        2,
        22,
        5,
        4,
        0,
        8,
        30,
        9,
        3,
        28,
        12,
        30,
        5,
        31,
        23,
        14,
        3,
        13 ],
     baseInfoJson: '{"type":"bymj","button":0,"index":0,"mahjongs":[24,3,26,31,6,2,27,17,19,10,26,29,32,25,22,24,6,25,10,21,21,17,7,12,2,8,20,7,13,33,4,24,15,33,30,26,15,0,10,28,32,25,16,8,27,2,18,27,16,20,0,8,25,9,17,6,21,31,9,5,14,4,1,12,30,16,3,14,19,14,23,4,16,27,20,1,18,7,11,24,20,21,28,29,1,11,28,19,13,22,32,1,29,7,10,0,23,17,12,26,15,6,18,33,13,15,29,31,22,19,11,18,33,5,9,23,32,11,2,22,5,4,0,8,30,9,3,28,12,30,5,31,23,14,3,13],"game_seats":[[24,6,19,32,6,21,2,13,15,15,32,27,16,25],[3,2,10,25,25,17,8,33,33,0,25,2,20],[26,27,26,22,10,7,20,4,30,10,16,18,0],[31,17,29,24,21,12,7,24,26,28,8,27,8]]}',
     fangpaoshumu: 0,
     tinging: false },
  seatIndex: 1,
  userId: 100381,
  holds: [ 25, 2, 25, 0, 2, 3, 4, 8, 9, 10, 17, 20, 25 ],
  folds: [ 33, 31, 33 ],
  angangs: [],
  diangangs: [],
  wangangs: [],
  pengs: [],
  duoyu: [],
  countMap: 
   { '0': 1,
     '1': 0,
     '2': 2,
     '3': 1,
     '4': 1,
     '5': 0,
     '6': 0,
     '7': 0,
     '8': 1,
     '9': 1,
     '10': 1,
     '11': 0,
     '12': 0,
     '13': 0,
     '14': 0,
     '15': 0,
     '16': 0,
     '17': 1,
     '18': 0,
     '19': 0,
     '20': 1,
     '21': 0,
     '22': 0,
     '23': 0,
     '24': 0,
     '25': 3,
     '26': 0,
     '31': 0,
     '33': 0 },
  tingMap: {},
  pattern: '',
  canGang: false,
  gangPai: [],
  canPeng: true,
  canHu: false,
  canChuPai: false,
  canTing: false,
  tinged: false,
  guohu: false,
  hued: false,
  iszimo: false,
  dianpao: false,
  actions: [],
  score: 0,
  lastFangGangSeat: -1,
  numAnGang: 0,
  numMingGang: 0,
  gangfen: 0,
  hufen: 0 }
guo_result
false
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
no need chupai.
no need chupai.
no need chupai.
no need chupai.
no need chupai.
no need chupai.
no need chupai.
no need chupai.
no need chupai.
no need chupai.
no need chupai.
no need chupai.
no need chupai.
no need chupai.
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
guo=================================100334
{ game: 
   { conf: 
      { type: 'bymj',
        baseScore: '1',
        isBaoTing: false,
        maxGames: 4,
        creator: 100335,
        paytype: 1,
        cheat: false,
        daifeng: true,
        clubId: '' },
     roomInfo: 
      { uuid: '1523712347389672772',
        id: '672772',
        numOfGames: 1,
        createTime: 1523712348,
        nextButton: 0,
        seats: [Object],
        conf: [Object],
        gameMgr: [Object] },
     gameIndex: 0,
     button: 0,
     currentIndex: 95,
     gameSeats: [ [Object], [Object], [Circular], [Object] ],
     turn: 2,
     chuPai: -1,
     state: 'playing',
     firstHupai: -1,
     actionList: 
      [ 0,
        1,
        27,
        1,
        2,
        9,
        1,
        1,
        33,
        2,
        2,
        17,
        2,
        1,
        30,
        3,
        2,
        6,
        3,
        1,
        29,
        0,
        2,
        21,
        0,
        1,
        32,
        1,
        2,
        31,
        1,
        1,
        31,
        2,
        2,
        9,
        2,
        1,
        27,
        3,
        2,
        5,
        3,
        1,
        31,
        0,
        2,
        14,
        0,
        1,
        32,
        1,
        2,
        4,
        1,
        1,
        33,
        2,
        2,
        1,
        2,
        1,
        7,
        3,
        2,
        12,
        3,
        1,
        27,
        0,
        2,
        30,
        0,
        1,
        2,
        1,
        2,
        16,
        1,
        1,
        16,
        2,
        2,
        3,
        2,
        1,
        4,
        3,
        2,
        14,
        3,
        1,
        26,
        2,
        3,
        26,
        2,
        1,
        1,
        3,
        2,
        19,
        3,
        1,
        28,
        0,
        2,
        14,
        0,
        1,
        30,
        1,
        2,
        23,
        1,
        1,
        17,
        2,
        2,
        4,
        2,
        1,
        3,
        3,
        2,
        16,
        3,
        1,
        19,
        0,
        2,
        27,
        0,
        1,
        27,
        1,
        2,
        20,
        1,
        1,
        10,
        2,
        3,
        10,
        2,
        1,
        0,
        3,
        2,
        1,
        3,
        1,
        21,
        0,
        3,
        21,
        0,
        1,
        6,
        1,
        2,
        18,
        1,
        1,
        9,
        2,
        2,
        7,
        2,
        1,
        4,
        3,
        2,
        11,
        3,
        1,
        24,
        0,
        2,
        24,
        0,
        1,
        6,
        1,
        2,
        20,
        1,
        1,
        8,
        3,
        3,
        8,
        3,
        1,
        24,
        0,
        3,
        24,
        0,
        6,
        19,
        1,
        2,
        21,
        1,
        1,
        0,
        2,
        2,
        28,
        2,
        1,
        7,
        3,
        2,
        29,
        3,
        1,
        29,
        0,
        2,
        1,
        0,
        1,
        1,
        1,
        2,
        11,
        1,
        1,
        2,
        2,
        2,
        28,
        2,
        1,
        28,
        3,
        2,
        19,
        3,
        1,
        19,
        0,
        2,
        13,
        0,
        1,
        13,
        1,
        2,
        22,
        1,
        6,
        11,
        2,
        2,
        32,
        2,
        1,
        28,
        3,
        2,
        1,
        3,
        1,
        17,
        0,
        2,
        29,
        0,
        1,
        29,
        1,
        2,
        7,
        1,
        1,
        7,
        2,
        2,
        10 ],
     hupaiList: [],
     chupaiCnt: 47,
     mahjongs: 
      [ 24,
        3,
        26,
        31,
        6,
        2,
        27,
        17,
        19,
        10,
        26,
        29,
        32,
        25,
        22,
        24,
        6,
        25,
        10,
        21,
        21,
        17,
        7,
        12,
        2,
        8,
        20,
        7,
        13,
        33,
        4,
        24,
        15,
        33,
        30,
        26,
        15,
        0,
        10,
        28,
        32,
        25,
        16,
        8,
        27,
        2,
        18,
        27,
        16,
        20,
        0,
        8,
        25,
        9,
        17,
        6,
        21,
        31,
        9,
        5,
        14,
        4,
        1,
        12,
        30,
        16,
        3,
        14,
        19,
        14,
        23,
        4,
        16,
        27,
        20,
        1,
        18,
        7,
        11,
        24,
        20,
        21,
        28,
        29,
        1,
        11,
        28,
        19,
        13,
        22,
        32,
        1,
        29,
        7,
        10,
        0,
        23,
        17,
        12,
        26,
        15,
        6,
        18,
        33,
        13,
        15,
        29,
        31,
        22,
        19,
        11,
        18,
        33,
        5,
        9,
        23,
        32,
        11,
        2,
        22,
        5,
        4,
        0,
        8,
        30,
        9,
        3,
        28,
        12,
        30,
        5,
        31,
        23,
        14,
        3,
        13 ],
     baseInfoJson: '{"type":"bymj","button":0,"index":0,"mahjongs":[24,3,26,31,6,2,27,17,19,10,26,29,32,25,22,24,6,25,10,21,21,17,7,12,2,8,20,7,13,33,4,24,15,33,30,26,15,0,10,28,32,25,16,8,27,2,18,27,16,20,0,8,25,9,17,6,21,31,9,5,14,4,1,12,30,16,3,14,19,14,23,4,16,27,20,1,18,7,11,24,20,21,28,29,1,11,28,19,13,22,32,1,29,7,10,0,23,17,12,26,15,6,18,33,13,15,29,31,22,19,11,18,33,5,9,23,32,11,2,22,5,4,0,8,30,9,3,28,12,30,5,31,23,14,3,13],"game_seats":[[24,6,19,32,6,21,2,13,15,15,32,27,16,25],[3,2,10,25,25,17,8,33,33,0,25,2,20],[26,27,26,22,10,7,20,4,30,10,16,18,0],[31,17,29,24,21,12,7,24,26,28,8,27,8]]}',
     fangpaoshumu: 0,
     tinging: false,
     qiangGangContext: null },
  seatIndex: 2,
  userId: 100334,
  holds: [ 9, 10, 16, 17, 18, 20, 22, 32 ],
  folds: [ 30, 27, 7, 4, 1, 3, 0, 4, 7, 28, 28 ],
  angangs: [],
  diangangs: [],
  wangangs: [],
  pengs: [ 26, 10 ],
  duoyu: [],
  countMap: 
   { '0': 0,
     '1': 0,
     '2': 0,
     '3': 0,
     '4': 0,
     '5': 0,
     '6': 0,
     '7': 0,
     '8': 0,
     '9': 1,
     '10': 1,
     '11': 0,
     '12': 0,
     '13': 0,
     '14': 0,
     '15': 0,
     '16': 1,
     '17': 1,
     '18': 1,
     '19': 0,
     '20': 1,
     '21': 0,
     '22': 1,
     '23': 0,
     '24': 0,
     '25': 0,
     '26': 0,
     '27': 0,
     '28': 0,
     '30': 0,
     '32': 1 },
  tingMap: {},
  pattern: '',
  canGang: true,
  gangPai: [ 10 ],
  canPeng: false,
  canHu: false,
  canChuPai: true,
  canTing: false,
  tinged: false,
  guohu: false,
  hued: false,
  iszimo: false,
  dianpao: false,
  actions: [],
  score: 0,
  lastFangGangSeat: -1,
  numAnGang: 0,
  numMingGang: 0,
  gangfen: 0,
  hufen: 0 }
guo_result
true
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
gang=============100334       10
game_mopai_push
game_action_push
gang=============100334       26
game_mopai_push
game_action_push
game_action_push
[ 20, 25, 20, 25, 2, 3, 4, 18, 20, 21, 22, 23, 25, 18 ]
do game over!
roomid :672772
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
ye shu = 11
UPDATE t_rooms SET next_button = 1 WHERE id = "672772"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523712347389672772',0,'{"type":"bymj","button":0,"index":0,"mahjongs":[24,3,26,31,6,2,27,17,19,10,26,29,32,25,22,24,6,25,10,21,21,17,7,12,2,8,20,7,13,33,4,24,15,33,30,26,15,0,10,28,32,25,16,8,27,2,18,27,16,20,0,8,25,9,17,6,21,31,9,5,14,4,1,12,30,16,3,14,19,14,23,4,16,27,20,1,18,7,11,24,20,21,28,29,1,11,28,19,13,22,32,1,29,7,10,0,23,17,12,26,15,6,18,33,13,15,29,31,22,19,11,18,33,5,9,23,32,11,2,22,5,4,0,8,30,9,3,28,12,30,5,31,23,14,3,13],"game_seats":[[24,6,19,32,6,21,2,13,15,15,32,27,16,25],[3,2,10,25,25,17,8,33,33,0,25,2,20],[26,27,26,22,10,7,20,4,30,10,16,18,0],[31,17,29,24,21,12,7,24,26,28,8,27,8]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[0,13,-13,0]' WHERE room_uuid = '1523712347389672772' AND game_index = 0
UPDATE t_games SET action_records = '[0,1,27,1,2,9,1,1,33,2,2,17,2,1,30,3,2,6,3,1,29,0,2,21,0,1,32,1,2,31,1,1,31,2,2,9,2,1,27,3,2,5,3,1,31,0,2,14,0,1,32,1,2,4,1,1,33,2,2,1,2,1,7,3,2,12,3,1,27,0,2,30,0,1,2,1,2,16,1,1,16,2,2,3,2,1,4,3,2,14,3,1,26,2,3,26,2,1,1,3,2,19,3,1,28,0,2,14,0,1,30,1,2,23,1,1,17,2,2,4,2,1,3,3,2,16,3,1,19,0,2,27,0,1,27,1,2,20,1,1,10,2,3,10,2,1,0,3,2,1,3,1,21,0,3,21,0,1,6,1,2,18,1,1,9,2,2,7,2,1,4,3,2,11,3,1,24,0,2,24,0,1,6,1,2,20,1,1,8,3,3,8,3,1,24,0,3,24,0,6,19,1,2,21,1,1,0,2,2,28,2,1,7,3,2,29,3,1,29,0,2,1,0,1,1,1,2,11,1,1,2,2,2,28,2,1,28,3,2,19,3,1,19,0,2,13,0,1,13,1,2,22,1,6,11,2,2,32,2,1,28,3,2,1,3,1,17,0,2,29,0,1,29,1,2,7,1,1,7,2,2,10,2,1,32,3,2,0,3,1,16,0,2,23,0,1,23,1,2,17,1,1,17,2,2,12,2,4,10,2,2,26,2,4,26,2,2,15,2,1,18,1,5,18]' WHERE room_uuid = '1523712347389672772' AND game_index = 0
UPDATE t_rooms SET num_of_turns = 1 WHERE id = "672772"
UPDATE t_users SET gems = gems -1 WHERE userid = 100335
UPDATE t_users SET gems = gems -1 WHERE userid = 100381
UPDATE t_users SET gems = gems -1 WHERE userid = 100334
UPDATE t_users SET gems = gems -1 WHERE userid = 100341
game_over_push
begin start==============672772
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
guo=================================100334
{ game: 
   { conf: 
      { type: 'bymj',
        baseScore: '1',
        isBaoTing: false,
        maxGames: 4,
        creator: 100335,
        paytype: 1,
        cheat: false,
        daifeng: true,
        clubId: '' },
     roomInfo: 
      { uuid: '1523712347389672772',
        id: '672772',
        numOfGames: 2,
        createTime: 1523712348,
        nextButton: 1,
        seats: [Object],
        conf: [Object],
        gameMgr: [Object] },
     gameIndex: 1,
     button: 1,
     currentIndex: 92,
     gameSeats: [ [Object], [Object], [Circular], [Object] ],
     turn: 2,
     chuPai: -1,
     state: 'playing',
     firstHupai: -1,
     actionList: 
      [ 1,
        1,
        32,
        2,
        2,
        19,
        2,
        1,
        31,
        3,
        2,
        4,
        3,
        1,
        33,
        0,
        2,
        1,
        0,
        1,
        29,
        1,
        2,
        22,
        1,
        1,
        30,
        2,
        2,
        24,
        2,
        1,
        31,
        3,
        2,
        33,
        3,
        1,
        33,
        0,
        2,
        4,
        0,
        1,
        28,
        1,
        2,
        5,
        1,
        1,
        17,
        2,
        3,
        17,
        2,
        1,
        27,
        3,
        2,
        10,
        3,
        1,
        28,
        0,
        2,
        31,
        0,
        1,
        9,
        1,
        2,
        7,
        1,
        1,
        14,
        2,
        3,
        14,
        2,
        1,
        30,
        3,
        2,
        15,
        3,
        1,
        27,
        0,
        2,
        30,
        0,
        1,
        16,
        1,
        2,
        5,
        1,
        1,
        22,
        0,
        3,
        22,
        0,
        1,
        30,
        1,
        2,
        16,
        1,
        1,
        16,
        2,
        2,
        12,
        2,
        1,
        32,
        3,
        2,
        7,
        3,
        1,
        27,
        0,
        2,
        11,
        0,
        1,
        31,
        1,
        2,
        21,
        1,
        1,
        18,
        2,
        2,
        29,
        2,
        1,
        29,
        3,
        2,
        15,
        3,
        1,
        20,
        0,
        2,
        9,
        0,
        1,
        11,
        1,
        2,
        28,
        1,
        1,
        28,
        2,
        2,
        32,
        2,
        1,
        19,
        3,
        2,
        12,
        3,
        1,
        26,
        0,
        2,
        12,
        0,
        1,
        9,
        1,
        2,
        24,
        1,
        1,
        24,
        2,
        3,
        24,
        2,
        1,
        23,
        3,
        2,
        25,
        3,
        1,
        26,
        0,
        2,
        20,
        0,
        1,
        12,
        1,
        2,
        18,
        1,
        1,
        18,
        2,
        2,
        21,
        2,
        1,
        21,
        3,
        2,
        26,
        3,
        1,
        26,
        0,
        2,
        16,
        0,
        1,
        16,
        1,
        2,
        20,
        1,
        6,
        5,
        2,
        2,
        13,
        2,
        1,
        32,
        3,
        2,
        6,
        3,
        1,
        25,
        0,
        2,
        32,
        0,
        1,
        23,
        1,
        2,
        27,
        1,
        1,
        27,
        2,
        2,
        11 ],
     hupaiList: [],
     chupaiCnt: 43,
     mahjongs: 
      [ 3,
        27,
        27,
        8,
        17,
        30,
        6,
        23,
        30,
        17,
        14,
        1,
        0,
        7,
        33,
        29,
        19,
        23,
        10,
        28,
        4,
        24,
        26,
        8,
        18,
        6,
        8,
        22,
        14,
        14,
        4,
        16,
        6,
        17,
        27,
        22,
        32,
        32,
        20,
        19,
        2,
        31,
        26,
        3,
        12,
        31,
        28,
        9,
        11,
        14,
        0,
        5,
        0,
        19,
        4,
        1,
        22,
        24,
        33,
        4,
        5,
        10,
        31,
        7,
        15,
        30,
        5,
        16,
        12,
        7,
        11,
        21,
        29,
        15,
        9,
        28,
        32,
        12,
        12,
        24,
        25,
        20,
        18,
        21,
        26,
        16,
        20,
        13,
        6,
        32,
        27,
        11,
        19,
        23,
        21,
        9,
        33,
        25,
        29,
        16,
        13,
        24,
        3,
        18,
        26,
        8,
        28,
        23,
        2,
        9,
        30,
        25,
        15,
        33,
        11,
        18,
        3,
        0,
        2,
        21,
        1,
        15,
        10,
        29,
        22,
        5,
        10,
        17,
        13,
        2,
        25,
        13,
        7,
        31,
        1,
        20 ],
     baseInfoJson: '{"type":"bymj","button":1,"index":1,"mahjongs":[3,27,27,8,17,30,6,23,30,17,14,1,0,7,33,29,19,23,10,28,4,24,26,8,18,6,8,22,14,14,4,16,6,17,27,22,32,32,20,19,2,31,26,3,12,31,28,9,11,14,0,5,0,19,4,1,22,24,33,4,5,10,31,7,15,30,5,16,12,7,11,21,29,15,9,28,32,12,12,24,25,20,18,21,26,16,20,13,6,32,27,11,19,23,21,9,33,25,29,16,13,24,3,18,26,8,28,23,2,9,30,25,15,33,11,18,3,0,2,21,1,15,10,29,22,5,10,17,13,2,25,13,7,31,1,20],"game_seats":[[8,23,1,29,28,8,22,16,22,19,3,9,5],[3,17,30,0,19,4,18,14,6,32,2,12,11,0],[27,30,17,7,23,24,6,14,17,32,31,31,14],[27,6,14,33,10,26,8,4,27,20,26,28,0]]}',
     fangpaoshumu: 0,
     tinging: false,
     qiangGangContext: null },
  seatIndex: 2,
  userId: 100334,
  holds: [ 6, 7, 11, 12, 13 ],
  folds: [ 31, 31, 27, 30, 32, 29, 19, 23, 21, 32 ],
  angangs: [],
  diangangs: [],
  wangangs: [],
  pengs: [ 17, 14, 24 ],
  duoyu: [ 6, 7 ],
  countMap: 
   { '0': 0,
     '1': 0,
     '2': 0,
     '3': 0,
     '4': 0,
     '5': 0,
     '6': 1,
     '7': 1,
     '8': 0,
     '9': 0,
     '10': 0,
     '11': 1,
     '12': 1,
     '13': 1,
     '14': 0,
     '15': 0,
     '16': 0,
     '17': 0,
     '18': 0,
     '19': 0,
     '20': 0,
     '21': 0,
     '22': 0,
     '23': 0,
     '24': 0,
     '25': 0,
     '26': 0,
     '27': 0,
     '29': 0,
     '30': 0,
     '31': 0,
     '32': 0 },
  tingMap: {},
  pattern: '',
  canGang: false,
  gangPai: [],
  canPeng: false,
  canHu: false,
  canChuPai: true,
  canTing: true,
  tinged: false,
  guohu: false,
  hued: false,
  iszimo: false,
  dianpao: false,
  actions: [],
  score: 0,
  lastFangGangSeat: -1,
  numAnGang: 0,
  numMingGang: 0,
  gangfen: 0,
  hufen: 0 }
guo_result
true
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
guo=================================100334
{ game: 
   { conf: 
      { type: 'bymj',
        baseScore: '1',
        isBaoTing: false,
        maxGames: 4,
        creator: 100335,
        paytype: 1,
        cheat: false,
        daifeng: true,
        clubId: '' },
     roomInfo: 
      { uuid: '1523712347389672772',
        id: '672772',
        numOfGames: 2,
        createTime: 1523712348,
        nextButton: 1,
        seats: [Object],
        conf: [Object],
        gameMgr: [Object] },
     gameIndex: 1,
     button: 1,
     currentIndex: 95,
     gameSeats: [ [Object], [Object], [Circular], [Object] ],
     turn: 2,
     chuPai: -1,
     state: 'playing',
     firstHupai: -1,
     actionList: 
      [ 1,
        1,
        32,
        2,
        2,
        19,
        2,
        1,
        31,
        3,
        2,
        4,
        3,
        1,
        33,
        0,
        2,
        1,
        0,
        1,
        29,
        1,
        2,
        22,
        1,
        1,
        30,
        2,
        2,
        24,
        2,
        1,
        31,
        3,
        2,
        33,
        3,
        1,
        33,
        0,
        2,
        4,
        0,
        1,
        28,
        1,
        2,
        5,
        1,
        1,
        17,
        2,
        3,
        17,
        2,
        1,
        27,
        3,
        2,
        10,
        3,
        1,
        28,
        0,
        2,
        31,
        0,
        1,
        9,
        1,
        2,
        7,
        1,
        1,
        14,
        2,
        3,
        14,
        2,
        1,
        30,
        3,
        2,
        15,
        3,
        1,
        27,
        0,
        2,
        30,
        0,
        1,
        16,
        1,
        2,
        5,
        1,
        1,
        22,
        0,
        3,
        22,
        0,
        1,
        30,
        1,
        2,
        16,
        1,
        1,
        16,
        2,
        2,
        12,
        2,
        1,
        32,
        3,
        2,
        7,
        3,
        1,
        27,
        0,
        2,
        11,
        0,
        1,
        31,
        1,
        2,
        21,
        1,
        1,
        18,
        2,
        2,
        29,
        2,
        1,
        29,
        3,
        2,
        15,
        3,
        1,
        20,
        0,
        2,
        9,
        0,
        1,
        11,
        1,
        2,
        28,
        1,
        1,
        28,
        2,
        2,
        32,
        2,
        1,
        19,
        3,
        2,
        12,
        3,
        1,
        26,
        0,
        2,
        12,
        0,
        1,
        9,
        1,
        2,
        24,
        1,
        1,
        24,
        2,
        3,
        24,
        2,
        1,
        23,
        3,
        2,
        25,
        3,
        1,
        26,
        0,
        2,
        20,
        0,
        1,
        12,
        1,
        2,
        18,
        1,
        1,
        18,
        2,
        2,
        21,
        2,
        1,
        21,
        3,
        2,
        26,
        3,
        1,
        26,
        0,
        2,
        16,
        0,
        1,
        16,
        1,
        2,
        20,
        1,
        6,
        5,
        2,
        2,
        13,
        2,
        1,
        32,
        3,
        2,
        6,
        3,
        1,
        25,
        0,
        2,
        32,
        0,
        1,
        23,
        1,
        2,
        27,
        1,
        1,
        27,
        2,
        2,
        11,
        2,
        1,
        6,
        3,
        3,
        6,
        3,
        1,
        0,
        0,
        2,
        19,
        0,
        1,
        32,
        1,
        2,
        23,
        1,
        1,
        23,
        2,
        2,
        21 ],
     hupaiList: [],
     chupaiCnt: 47,
     mahjongs: 
      [ 3,
        27,
        27,
        8,
        17,
        30,
        6,
        23,
        30,
        17,
        14,
        1,
        0,
        7,
        33,
        29,
        19,
        23,
        10,
        28,
        4,
        24,
        26,
        8,
        18,
        6,
        8,
        22,
        14,
        14,
        4,
        16,
        6,
        17,
        27,
        22,
        32,
        32,
        20,
        19,
        2,
        31,
        26,
        3,
        12,
        31,
        28,
        9,
        11,
        14,
        0,
        5,
        0,
        19,
        4,
        1,
        22,
        24,
        33,
        4,
        5,
        10,
        31,
        7,
        15,
        30,
        5,
        16,
        12,
        7,
        11,
        21,
        29,
        15,
        9,
        28,
        32,
        12,
        12,
        24,
        25,
        20,
        18,
        21,
        26,
        16,
        20,
        13,
        6,
        32,
        27,
        11,
        19,
        23,
        21,
        9,
        33,
        25,
        29,
        16,
        13,
        24,
        3,
        18,
        26,
        8,
        28,
        23,
        2,
        9,
        30,
        25,
        15,
        33,
        11,
        18,
        3,
        0,
        2,
        21,
        1,
        15,
        10,
        29,
        22,
        5,
        10,
        17,
        13,
        2,
        25,
        13,
        7,
        31,
        1,
        20 ],
     baseInfoJson: '{"type":"bymj","button":1,"index":1,"mahjongs":[3,27,27,8,17,30,6,23,30,17,14,1,0,7,33,29,19,23,10,28,4,24,26,8,18,6,8,22,14,14,4,16,6,17,27,22,32,32,20,19,2,31,26,3,12,31,28,9,11,14,0,5,0,19,4,1,22,24,33,4,5,10,31,7,15,30,5,16,12,7,11,21,29,15,9,28,32,12,12,24,25,20,18,21,26,16,20,13,6,32,27,11,19,23,21,9,33,25,29,16,13,24,3,18,26,8,28,23,2,9,30,25,15,33,11,18,3,0,2,21,1,15,10,29,22,5,10,17,13,2,25,13,7,31,1,20],"game_seats":[[8,23,1,29,28,8,22,16,22,19,3,9,5],[3,17,30,0,19,4,18,14,6,32,2,12,11,0],[27,30,17,7,23,24,6,14,17,32,31,31,14],[27,6,14,33,10,26,8,4,27,20,26,28,0]]}',
     fangpaoshumu: 0,
     tinging: false,
     qiangGangContext: null },
  seatIndex: 2,
  userId: 100334,
  holds: [ 7, 11, 12, 13, 21 ],
  folds: [ 31, 31, 27, 30, 32, 29, 19, 23, 21, 32 ],
  angangs: [],
  diangangs: [],
  wangangs: [],
  pengs: [ 17, 14, 24 ],
  duoyu: [ 7, 21 ],
  countMap: 
   { '0': 0,
     '1': 0,
     '2': 0,
     '3': 0,
     '4': 0,
     '5': 0,
     '6': 0,
     '7': 1,
     '8': 0,
     '9': 0,
     '10': 0,
     '11': 1,
     '12': 1,
     '13': 1,
     '14': 0,
     '15': 0,
     '16': 0,
     '17': 0,
     '18': 0,
     '19': 0,
     '20': 0,
     '21': 1,
     '22': 0,
     '23': 0,
     '24': 0,
     '25': 0,
     '26': 0,
     '27': 0,
     '29': 0,
     '30': 0,
     '31': 0,
     '32': 0 },
  tingMap: { '7': { pattern: 'normal', fan: 0 } },
  pattern: '',
  canGang: false,
  gangPai: [],
  canPeng: false,
  canHu: false,
  canChuPai: true,
  canTing: true,
  tinged: false,
  guohu: false,
  hued: false,
  iszimo: false,
  dianpao: false,
  actions: [],
  score: 0,
  lastFangGangSeat: -1,
  numAnGang: 0,
  numMingGang: 0,
  gangfen: 0,
  hufen: 0 }
guo_result
true
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
guo=================================100334
{ game: 
   { conf: 
      { type: 'bymj',
        baseScore: '1',
        isBaoTing: false,
        maxGames: 4,
        creator: 100335,
        paytype: 1,
        cheat: false,
        daifeng: true,
        clubId: '' },
     roomInfo: 
      { uuid: '1523712347389672772',
        id: '672772',
        numOfGames: 2,
        createTime: 1523712348,
        nextButton: 1,
        seats: [Object],
        conf: [Object],
        gameMgr: [Object] },
     gameIndex: 1,
     button: 1,
     currentIndex: 99,
     gameSeats: [ [Object], [Object], [Circular], [Object] ],
     turn: 2,
     chuPai: -1,
     state: 'playing',
     firstHupai: -1,
     actionList: 
      [ 1,
        1,
        32,
        2,
        2,
        19,
        2,
        1,
        31,
        3,
        2,
        4,
        3,
        1,
        33,
        0,
        2,
        1,
        0,
        1,
        29,
        1,
        2,
        22,
        1,
        1,
        30,
        2,
        2,
        24,
        2,
        1,
        31,
        3,
        2,
        33,
        3,
        1,
        33,
        0,
        2,
        4,
        0,
        1,
        28,
        1,
        2,
        5,
        1,
        1,
        17,
        2,
        3,
        17,
        2,
        1,
        27,
        3,
        2,
        10,
        3,
        1,
        28,
        0,
        2,
        31,
        0,
        1,
        9,
        1,
        2,
        7,
        1,
        1,
        14,
        2,
        3,
        14,
        2,
        1,
        30,
        3,
        2,
        15,
        3,
        1,
        27,
        0,
        2,
        30,
        0,
        1,
        16,
        1,
        2,
        5,
        1,
        1,
        22,
        0,
        3,
        22,
        0,
        1,
        30,
        1,
        2,
        16,
        1,
        1,
        16,
        2,
        2,
        12,
        2,
        1,
        32,
        3,
        2,
        7,
        3,
        1,
        27,
        0,
        2,
        11,
        0,
        1,
        31,
        1,
        2,
        21,
        1,
        1,
        18,
        2,
        2,
        29,
        2,
        1,
        29,
        3,
        2,
        15,
        3,
        1,
        20,
        0,
        2,
        9,
        0,
        1,
        11,
        1,
        2,
        28,
        1,
        1,
        28,
        2,
        2,
        32,
        2,
        1,
        19,
        3,
        2,
        12,
        3,
        1,
        26,
        0,
        2,
        12,
        0,
        1,
        9,
        1,
        2,
        24,
        1,
        1,
        24,
        2,
        3,
        24,
        2,
        1,
        23,
        3,
        2,
        25,
        3,
        1,
        26,
        0,
        2,
        20,
        0,
        1,
        12,
        1,
        2,
        18,
        1,
        1,
        18,
        2,
        2,
        21,
        2,
        1,
        21,
        3,
        2,
        26,
        3,
        1,
        26,
        0,
        2,
        16,
        0,
        1,
        16,
        1,
        2,
        20,
        1,
        6,
        5,
        2,
        2,
        13,
        2,
        1,
        32,
        3,
        2,
        6,
        3,
        1,
        25,
        0,
        2,
        32,
        0,
        1,
        23,
        1,
        2,
        27,
        1,
        1,
        27,
        2,
        2,
        11,
        2,
        1,
        6,
        3,
        3,
        6,
        3,
        1,
        0,
        0,
        2,
        19,
        0,
        1,
        32,
        1,
        2,
        23,
        1,
        1,
        23,
        2,
        2,
        21,
        2,
        1,
        7,
        3,
        2,
        9,
        3,
        1,
        7,
        0,
        2,
        33,
        0,
        1,
        33,
        1,
        2,
        25,
        1,
        1,
        25,
        2,
        2,
        29 ],
     hupaiList: [],
     chupaiCnt: 51,
     mahjongs: 
      [ 3,
        27,
        27,
        8,
        17,
        30,
        6,
        23,
        30,
        17,
        14,
        1,
        0,
        7,
        33,
        29,
        19,
        23,
        10,
        28,
        4,
        24,
        26,
        8,
        18,
        6,
        8,
        22,
        14,
        14,
        4,
        16,
        6,
        17,
        27,
        22,
        32,
        32,
        20,
        19,
        2,
        31,
        26,
        3,
        12,
        31,
        28,
        9,
        11,
        14,
        0,
        5,
        0,
        19,
        4,
        1,
        22,
        24,
        33,
        4,
        5,
        10,
        31,
        7,
        15,
        30,
        5,
        16,
        12,
        7,
        11,
        21,
        29,
        15,
        9,
        28,
        32,
        12,
        12,
        24,
        25,
        20,
        18,
        21,
        26,
        16,
        20,
        13,
        6,
        32,
        27,
        11,
        19,
        23,
        21,
        9,
        33,
        25,
        29,
        16,
        13,
        24,
        3,
        18,
        26,
        8,
        28,
        23,
        2,
        9,
        30,
        25,
        15,
        33,
        11,
        18,
        3,
        0,
        2,
        21,
        1,
        15,
        10,
        29,
        22,
        5,
        10,
        17,
        13,
        2,
        25,
        13,
        7,
        31,
        1,
        20 ],
     baseInfoJson: '{"type":"bymj","button":1,"index":1,"mahjongs":[3,27,27,8,17,30,6,23,30,17,14,1,0,7,33,29,19,23,10,28,4,24,26,8,18,6,8,22,14,14,4,16,6,17,27,22,32,32,20,19,2,31,26,3,12,31,28,9,11,14,0,5,0,19,4,1,22,24,33,4,5,10,31,7,15,30,5,16,12,7,11,21,29,15,9,28,32,12,12,24,25,20,18,21,26,16,20,13,6,32,27,11,19,23,21,9,33,25,29,16,13,24,3,18,26,8,28,23,2,9,30,25,15,33,11,18,3,0,2,21,1,15,10,29,22,5,10,17,13,2,25,13,7,31,1,20],"game_seats":[[8,23,1,29,28,8,22,16,22,19,3,9,5],[3,17,30,0,19,4,18,14,6,32,2,12,11,0],[27,30,17,7,23,24,6,14,17,32,31,31,14],[27,6,14,33,10,26,8,4,27,20,26,28,0]]}',
     fangpaoshumu: 0,
     tinging: false,
     qiangGangContext: null },
  seatIndex: 2,
  userId: 100334,
  holds: [ 11, 12, 13, 21, 29 ],
  folds: [ 31, 31, 27, 30, 32, 29, 19, 23, 21, 32, 7 ],
  angangs: [],
  diangangs: [],
  wangangs: [],
  pengs: [ 17, 14, 24 ],
  duoyu: [ 29 ],
  countMap: 
   { '0': 0,
     '1': 0,
     '2': 0,
     '3': 0,
     '4': 0,
     '5': 0,
     '6': 0,
     '7': 0,
     '8': 0,
     '9': 0,
     '10': 0,
     '11': 1,
     '12': 1,
     '13': 1,
     '14': 0,
     '15': 0,
     '16': 0,
     '17': 0,
     '18': 0,
     '19': 0,
     '20': 0,
     '21': 1,
     '22': 0,
     '23': 0,
     '24': 0,
     '25': 0,
     '26': 0,
     '27': 0,
     '29': 1,
     '30': 0,
     '31': 0,
     '32': 0 },
  tingMap: { '21': { pattern: 'normal', fan: 0 } },
  pattern: '',
  canGang: false,
  gangPai: [],
  canPeng: false,
  canHu: false,
  canChuPai: true,
  canTing: true,
  tinged: false,
  guohu: false,
  hued: false,
  iszimo: false,
  dianpao: false,
  actions: [],
  score: 0,
  lastFangGangSeat: -1,
  numAnGang: 0,
  numMingGang: 0,
  gangfen: 0,
  hufen: 0 }
guo_result
true
game_mopai_push
game_action_push
game_action_push
game_action_push
game_mopai_push
game_action_push
do game over!
roomid :672772
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
ye shu = 8
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523712347389672772',1,'{"type":"bymj","button":1,"index":1,"mahjongs":[3,27,27,8,17,30,6,23,30,17,14,1,0,7,33,29,19,23,10,28,4,24,26,8,18,6,8,22,14,14,4,16,6,17,27,22,32,32,20,19,2,31,26,3,12,31,28,9,11,14,0,5,0,19,4,1,22,24,33,4,5,10,31,7,15,30,5,16,12,7,11,21,29,15,9,28,32,12,12,24,25,20,18,21,26,16,20,13,6,32,27,11,19,23,21,9,33,25,29,16,13,24,3,18,26,8,28,23,2,9,30,25,15,33,11,18,3,0,2,21,1,15,10,29,22,5,10,17,13,2,25,13,7,31,1,20],"game_seats":[[8,23,1,29,28,8,22,16,22,19,3,9,5],[3,17,30,0,19,4,18,14,6,32,2,12,11,0],[27,30,17,7,23,24,6,14,17,32,31,31,14],[27,6,14,33,10,26,8,4,27,20,26,28,0]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[-4,12,-4,-4]' WHERE room_uuid = '1523712347389672772' AND game_index = 1
UPDATE t_games SET action_records = '[1,1,32,2,2,19,2,1,31,3,2,4,3,1,33,0,2,1,0,1,29,1,2,22,1,1,30,2,2,24,2,1,31,3,2,33,3,1,33,0,2,4,0,1,28,1,2,5,1,1,17,2,3,17,2,1,27,3,2,10,3,1,28,0,2,31,0,1,9,1,2,7,1,1,14,2,3,14,2,1,30,3,2,15,3,1,27,0,2,30,0,1,16,1,2,5,1,1,22,0,3,22,0,1,30,1,2,16,1,1,16,2,2,12,2,1,32,3,2,7,3,1,27,0,2,11,0,1,31,1,2,21,1,1,18,2,2,29,2,1,29,3,2,15,3,1,20,0,2,9,0,1,11,1,2,28,1,1,28,2,2,32,2,1,19,3,2,12,3,1,26,0,2,12,0,1,9,1,2,24,1,1,24,2,3,24,2,1,23,3,2,25,3,1,26,0,2,20,0,1,12,1,2,18,1,1,18,2,2,21,2,1,21,3,2,26,3,1,26,0,2,16,0,1,16,1,2,20,1,6,5,2,2,13,2,1,32,3,2,6,3,1,25,0,2,32,0,1,23,1,2,27,1,1,27,2,2,11,2,1,6,3,3,6,3,1,0,0,2,19,0,1,32,1,2,23,1,1,23,2,2,21,2,1,7,3,2,9,3,1,7,0,2,33,0,1,33,1,2,25,1,1,25,2,2,29,2,1,29,3,2,16,3,1,8,0,3,8,0,6,19,1,2,13,1,5,13]' WHERE room_uuid = '1523712347389672772' AND game_index = 1
UPDATE t_rooms SET num_of_turns = 2 WHERE id = "672772"
game_over_push
begin start==============672772
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
no need chupai.
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
[ 15, 15, 22, 22, 15, 18, 19, 20, 21, 22, 18 ]
do game over!
roomid :672772
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
ye shu = 11
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523712347389672772',2,'{"type":"bymj","button":1,"index":2,"mahjongs":[25,23,14,16,22,30,27,1,12,30,9,26,28,0,29,25,8,20,7,0,15,1,3,10,20,26,13,27,22,14,19,5,15,23,17,4,19,17,9,31,10,29,16,32,5,20,2,18,24,21,2,15,25,24,4,3,21,24,19,11,8,21,14,4,31,9,18,32,18,10,2,16,6,30,33,14,15,23,27,17,0,33,29,33,28,3,1,31,16,13,13,10,12,25,22,18,4,11,28,26,22,8,23,31,9,7,13,12,21,20,32,5,19,6,27,33,6,8,17,1,32,28,11,29,7,26,6,5,12,2,0,3,11,30,24,7],"game_seats":[[16,1,26,25,0,10,27,5,4,31,32,18,15],[25,22,12,28,8,15,20,22,15,19,10,5,24,25],[23,30,30,0,20,1,26,14,23,17,29,20,21],[14,27,9,29,7,3,13,19,17,9,16,2,2]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[-15,15,0,0]' WHERE room_uuid = '1523712347389672772' AND game_index = 2
UPDATE t_games SET action_records = '[1,1,28,2,2,24,2,1,30,3,2,4,3,1,29,0,2,3,0,1,31,1,2,21,1,1,8,2,2,24,2,1,29,3,2,19,3,1,27,0,2,11,0,1,32,1,2,8,1,1,8,2,2,21,2,1,30,3,2,14,3,1,19,0,2,4,0,1,27,1,2,31,1,1,5,2,2,9,2,1,17,3,2,18,3,1,19,0,2,32,0,1,18,1,2,18,1,1,31,2,2,10,2,1,0,3,2,2,3,1,18,0,2,16,0,1,32,1,2,6,1,1,6,2,2,30,2,1,1,3,2,33,3,1,33,0,2,14,0,1,26,1,2,15,1,1,10,2,2,23,2,1,14,3,3,14,3,1,7,0,2,27,0,1,25,1,3,25,1,1,12,2,2,17,2,1,30,3,2,0,3,1,13,0,2,33,0,1,27,1,2,29,1,1,29,2,2,33,2,1,33,3,2,28,3,1,28,0,2,3,0,1,33,1,2,1,1,1,1,2,2,31,2,1,31,3,2,16,3,1,17,0,2,13,0,1,10,1,2,13,1,1,13,2,2,10,2,1,17,3,2,12,3,1,12,0,2,25,0,1,11,1,2,22,1,6,24,2,3,24,3,3,9,3,6,0,0,2,18,0,1,25,1,2,4,1,1,4,0,3,4,0,1,18,1,5,18]' WHERE room_uuid = '1523712347389672772' AND game_index = 2
UPDATE t_rooms SET num_of_turns = 3 WHERE id = "672772"
game_over_push
begin start==============672772
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
guo=================================100335
{ game: 
   { conf: 
      { type: 'bymj',
        baseScore: '1',
        isBaoTing: false,
        maxGames: 4,
        creator: 100335,
        paytype: 1,
        cheat: false,
        daifeng: true,
        clubId: '' },
     roomInfo: 
      { uuid: '1523712347389672772',
        id: '672772',
        numOfGames: 4,
        createTime: 1523712348,
        nextButton: 1,
        seats: [Object],
        conf: [Object],
        gameMgr: [Object] },
     gameIndex: 3,
     button: 1,
     currentIndex: 86,
     gameSeats: [ [Circular], [Object], [Object], [Object] ],
     turn: 1,
     chuPai: 10,
     state: 'playing',
     firstHupai: -1,
     actionList: 
      [ 1,
        1,
        33,
        2,
        2,
        14,
        2,
        1,
        29,
        3,
        2,
        17,
        3,
        1,
        31,
        0,
        2,
        30,
        0,
        1,
        30,
        1,
        2,
        28,
        1,
        1,
        28,
        2,
        2,
        5,
        2,
        1,
        29,
        3,
        2,
        4,
        3,
        1,
        29,
        0,
        2,
        31,
        0,
        1,
        27,
        1,
        2,
        31,
        1,
        1,
        31,
        2,
        2,
        21,
        2,
        1,
        32,
        3,
        2,
        3,
        3,
        1,
        27,
        0,
        2,
        11,
        0,
        1,
        31,
        1,
        2,
        16,
        1,
        1,
        31,
        2,
        2,
        33,
        2,
        1,
        28,
        3,
        2,
        8,
        3,
        1,
        27,
        0,
        2,
        19,
        0,
        1,
        5,
        2,
        3,
        5,
        2,
        1,
        33,
        3,
        2,
        22,
        3,
        1,
        26,
        0,
        2,
        10,
        0,
        1,
        0,
        1,
        2,
        10,
        1,
        1,
        30,
        2,
        2,
        11,
        2,
        1,
        11,
        3,
        2,
        15,
        3,
        1,
        23,
        0,
        2,
        7,
        0,
        1,
        2,
        1,
        2,
        3,
        1,
        1,
        28,
        2,
        2,
        6,
        2,
        1,
        17,
        3,
        3,
        17,
        3,
        1,
        22,
        0,
        2,
        26,
        0,
        1,
        7,
        1,
        2,
        20,
        1,
        1,
        27,
        2,
        2,
        16,
        2,
        1,
        16,
        3,
        2,
        13,
        3,
        1,
        18,
        0,
        2,
        14,
        0,
        1,
        22,
        1,
        2,
        1,
        1,
        1,
        16,
        2,
        2,
        28,
        2,
        1,
        28,
        3,
        2,
        30,
        3,
        1,
        18,
        0,
        2,
        22,
        0,
        1,
        22,
        1,
        2,
        29,
        1,
        1,
        10 ],
     hupaiList: [],
     chupaiCnt: 36,
     mahjongs: 
      [ 23,
        25,
        1,
        0,
        4,
        32,
        26,
        10,
        28,
        2,
        18,
        20,
        30,
        29,
        15,
        22,
        25,
        1,
        29,
        25,
        19,
        24,
        18,
        5,
        19,
        25,
        16,
        24,
        4,
        13,
        31,
        15,
        5,
        29,
        27,
        9,
        33,
        28,
        23,
        26,
        13,
        20,
        6,
        27,
        31,
        5,
        17,
        2,
        27,
        17,
        27,
        13,
        6,
        14,
        17,
        30,
        28,
        5,
        4,
        31,
        31,
        21,
        3,
        11,
        16,
        33,
        8,
        19,
        22,
        10,
        10,
        11,
        15,
        7,
        3,
        6,
        26,
        20,
        16,
        13,
        14,
        1,
        28,
        30,
        22,
        29,
        21,
        6,
        17,
        12,
        4,
        22,
        0,
        23,
        8,
        16,
        3,
        7,
        33,
        9,
        21,
        33,
        9,
        24,
        11,
        18,
        7,
        12,
        14,
        1,
        0,
        23,
        20,
        14,
        15,
        3,
        24,
        21,
        7,
        0,
        32,
        32,
        8,
        8,
        32,
        9,
        12,
        12,
        19,
        2,
        26,
        2,
        18,
        11,
        10,
        30 ],
     baseInfoJson: '{"type":"bymj","button":1,"index":3,"mahjongs":[23,25,1,0,4,32,26,10,28,2,18,20,30,29,15,22,25,1,29,25,19,24,18,5,19,25,16,24,4,13,31,15,5,29,27,9,33,28,23,26,13,20,6,27,31,5,17,2,27,17,27,13,6,14,17,30,28,5,4,31,31,21,3,11,16,33,8,19,22,10,10,11,15,7,3,6,26,20,16,13,14,1,28,30,22,29,21,6,17,12,4,22,0,23,8,16,3,7,33,9,21,33,9,24,11,18,7,12,14,1,0,23,20,14,15,3,24,21,7,0,32,32,8,8,32,9,12,12,19,2,26,2,18,11,10,30],"game_seats":[[0,10,20,22,25,5,24,15,9,26,27,2,13],[23,4,28,30,25,19,19,4,5,33,13,31,27,6],[25,32,2,29,1,24,25,13,29,28,20,5,17],[1,26,18,15,29,18,16,31,27,23,6,17,27]]}',
     fangpaoshumu: 0,
     tinging: false,
     qiangGangContext: null },
  seatIndex: 0,
  userId: 100335,
  holds: [ 10, 26, 9, 10, 11, 13, 14, 15, 19, 20, 24, 25, 26 ],
  folds: [ 30, 27, 31, 0, 2, 7, 22, 22 ],
  angangs: [],
  diangangs: [],
  wangangs: [],
  pengs: [],
  duoyu: [],
  countMap: 
   { '0': 0,
     '1': 0,
     '2': 0,
     '3': 0,
     '4': 0,
     '5': 0,
     '6': 0,
     '7': 0,
     '8': 0,
     '9': 1,
     '10': 2,
     '11': 1,
     '12': 0,
     '13': 1,
     '14': 1,
     '15': 1,
     '16': 0,
     '17': 0,
     '18': 0,
     '19': 1,
     '20': 1,
     '21': 0,
     '22': 0,
     '23': 0,
     '24': 1,
     '25': 1,
     '26': 2,
     '27': 0,
     '30': 0,
     '31': 0 },
  tingMap: {},
  pattern: '',
  canGang: false,
  gangPai: [],
  canPeng: true,
  canHu: false,
  canChuPai: false,
  canTing: false,
  tinged: false,
  guohu: false,
  hued: false,
  iszimo: false,
  dianpao: false,
  actions: [],
  score: 0,
  lastFangGangSeat: -1,
  numAnGang: 0,
  numMingGang: 0,
  gangfen: 0,
  hufen: 0 }
guo_result
false
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
guo=================================100335
{ game: 
   { conf: 
      { type: 'bymj',
        baseScore: '1',
        isBaoTing: false,
        maxGames: 4,
        creator: 100335,
        paytype: 1,
        cheat: false,
        daifeng: true,
        clubId: '' },
     roomInfo: 
      { uuid: '1523712347389672772',
        id: '672772',
        numOfGames: 4,
        createTime: 1523712348,
        nextButton: 1,
        seats: [Object],
        conf: [Object],
        gameMgr: [Object] },
     gameIndex: 3,
     button: 1,
     currentIndex: 101,
     gameSeats: [ [Circular], [Object], [Object], [Object] ],
     turn: 0,
     chuPai: -1,
     state: 'playing',
     firstHupai: -1,
     actionList: 
      [ 1,
        1,
        33,
        2,
        2,
        14,
        2,
        1,
        29,
        3,
        2,
        17,
        3,
        1,
        31,
        0,
        2,
        30,
        0,
        1,
        30,
        1,
        2,
        28,
        1,
        1,
        28,
        2,
        2,
        5,
        2,
        1,
        29,
        3,
        2,
        4,
        3,
        1,
        29,
        0,
        2,
        31,
        0,
        1,
        27,
        1,
        2,
        31,
        1,
        1,
        31,
        2,
        2,
        21,
        2,
        1,
        32,
        3,
        2,
        3,
        3,
        1,
        27,
        0,
        2,
        11,
        0,
        1,
        31,
        1,
        2,
        16,
        1,
        1,
        31,
        2,
        2,
        33,
        2,
        1,
        28,
        3,
        2,
        8,
        3,
        1,
        27,
        0,
        2,
        19,
        0,
        1,
        5,
        2,
        3,
        5,
        2,
        1,
        33,
        3,
        2,
        22,
        3,
        1,
        26,
        0,
        2,
        10,
        0,
        1,
        0,
        1,
        2,
        10,
        1,
        1,
        30,
        2,
        2,
        11,
        2,
        1,
        11,
        3,
        2,
        15,
        3,
        1,
        23,
        0,
        2,
        7,
        0,
        1,
        2,
        1,
        2,
        3,
        1,
        1,
        28,
        2,
        2,
        6,
        2,
        1,
        17,
        3,
        3,
        17,
        3,
        1,
        22,
        0,
        2,
        26,
        0,
        1,
        7,
        1,
        2,
        20,
        1,
        1,
        27,
        2,
        2,
        16,
        2,
        1,
        16,
        3,
        2,
        13,
        3,
        1,
        18,
        0,
        2,
        14,
        0,
        1,
        22,
        1,
        2,
        1,
        1,
        1,
        16,
        2,
        2,
        28,
        2,
        1,
        28,
        3,
        2,
        30,
        3,
        1,
        18,
        0,
        2,
        22,
        0,
        1,
        22,
        1,
        2,
        29,
        1,
        1,
        10,
        2,
        2,
        21,
        2,
        1,
        14,
        3,
        2,
        6,
        3,
        1,
        30,
        0,
        2,
        17,
        0,
        1,
        26,
        1,
        2,
        12,
        1,
        1,
        13,
        2,
        2,
        4,
        2,
        1,
        13,
        3,
        2,
        22,
        3,
        1,
        22,
        0,
        2,
        0,
        0,
        1,
        0,
        1,
        2,
        23,
        1,
        1,
        12,
        2,
        2,
        8,
        2,
        1,
        8,
        3,
        2,
        16,
        3,
        1,
        8,
        0,
        2,
        3,
        0,
        1,
        3,
        1,
        2,
        7,
        1,
        1,
        29,
        2,
        2,
        33,
        2,
        1,
        33,
        3,
        2,
        9,
        3,
        1,
        1,
        0,
        2,
        21 ],
     hupaiList: [],
     chupaiCnt: 50,
     mahjongs: 
      [ 23,
        25,
        1,
        0,
        4,
        32,
        26,
        10,
        28,
        2,
        18,
        20,
        30,
        29,
        15,
        22,
        25,
        1,
        29,
        25,
        19,
        24,
        18,
        5,
        19,
        25,
        16,
        24,
        4,
        13,
        31,
        15,
        5,
        29,
        27,
        9,
        33,
        28,
        23,
        26,
        13,
        20,
        6,
        27,
        31,
        5,
        17,
        2,
        27,
        17,
        27,
        13,
        6,
        14,
        17,
        30,
        28,
        5,
        4,
        31,
        31,
        21,
        3,
        11,
        16,
        33,
        8,
        19,
        22,
        10,
        10,
        11,
        15,
        7,
        3,
        6,
        26,
        20,
        16,
        13,
        14,
        1,
        28,
        30,
        22,
        29,
        21,
        6,
        17,
        12,
        4,
        22,
        0,
        23,
        8,
        16,
        3,
        7,
        33,
        9,
        21,
        33,
        9,
        24,
        11,
        18,
        7,
        12,
        14,
        1,
        0,
        23,
        20,
        14,
        15,
        3,
        24,
        21,
        7,
        0,
        32,
        32,
        8,
        8,
        32,
        9,
        12,
        12,
        19,
        2,
        26,
        2,
        18,
        11,
        10,
        30 ],
     baseInfoJson: '{"type":"bymj","button":1,"index":3,"mahjongs":[23,25,1,0,4,32,26,10,28,2,18,20,30,29,15,22,25,1,29,25,19,24,18,5,19,25,16,24,4,13,31,15,5,29,27,9,33,28,23,26,13,20,6,27,31,5,17,2,27,17,27,13,6,14,17,30,28,5,4,31,31,21,3,11,16,33,8,19,22,10,10,11,15,7,3,6,26,20,16,13,14,1,28,30,22,29,21,6,17,12,4,22,0,23,8,16,3,7,33,9,21,33,9,24,11,18,7,12,14,1,0,23,20,14,15,3,24,21,7,0,32,32,8,8,32,9,12,12,19,2,26,2,18,11,10,30],"game_seats":[[0,10,20,22,25,5,24,15,9,26,27,2,13],[23,4,28,30,25,19,19,4,5,33,13,31,27,6],[25,32,2,29,1,24,25,13,29,28,20,5,17],[1,26,18,15,29,18,16,31,27,23,6,17,27]]}',
     fangpaoshumu: 0,
     tinging: false,
     qiangGangContext: null },
  seatIndex: 0,
  userId: 100335,
  holds: [ 10, 9, 10, 11, 13, 14, 15, 17, 19, 20, 21, 24, 25, 26 ],
  folds: [ 30, 27, 31, 0, 2, 7, 22, 22, 10, 26, 0, 3 ],
  angangs: [],
  diangangs: [],
  wangangs: [],
  pengs: [],
  duoyu: [ 10, 17 ],
  countMap: 
   { '0': 0,
     '1': 0,
     '2': 0,
     '3': 0,
     '4': 0,
     '5': 0,
     '6': 0,
     '7': 0,
     '8': 0,
     '9': 1,
     '10': 2,
     '11': 1,
     '12': 0,
     '13': 1,
     '14': 1,
     '15': 1,
     '16': 0,
     '17': 1,
     '18': 0,
     '19': 1,
     '20': 1,
     '21': 1,
     '22': 0,
     '23': 0,
     '24': 1,
     '25': 1,
     '26': 1,
     '27': 0,
     '30': 0,
     '31': 0 },
  tingMap: {},
  pattern: '',
  canGang: false,
  gangPai: [],
  canPeng: false,
  canHu: false,
  canChuPai: true,
  canTing: true,
  tinged: false,
  guohu: false,
  hued: false,
  iszimo: false,
  dianpao: false,
  actions: [],
  score: 0,
  lastFangGangSeat: -1,
  numAnGang: 0,
  numMingGang: 0,
  gangfen: 0,
  hufen: 0 }
guo_result
true
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
guo=================================100335
{ game: 
   { conf: 
      { type: 'bymj',
        baseScore: '1',
        isBaoTing: false,
        maxGames: 4,
        creator: 100335,
        paytype: 1,
        cheat: false,
        daifeng: true,
        clubId: '' },
     roomInfo: 
      { uuid: '1523712347389672772',
        id: '672772',
        numOfGames: 4,
        createTime: 1523712348,
        nextButton: 1,
        seats: [Object],
        conf: [Object],
        gameMgr: [Object] },
     gameIndex: 3,
     button: 1,
     currentIndex: 105,
     gameSeats: [ [Circular], [Object], [Object], [Object] ],
     turn: 0,
     chuPai: -1,
     state: 'playing',
     firstHupai: -1,
     actionList: 
      [ 1,
        1,
        33,
        2,
        2,
        14,
        2,
        1,
        29,
        3,
        2,
        17,
        3,
        1,
        31,
        0,
        2,
        30,
        0,
        1,
        30,
        1,
        2,
        28,
        1,
        1,
        28,
        2,
        2,
        5,
        2,
        1,
        29,
        3,
        2,
        4,
        3,
        1,
        29,
        0,
        2,
        31,
        0,
        1,
        27,
        1,
        2,
        31,
        1,
        1,
        31,
        2,
        2,
        21,
        2,
        1,
        32,
        3,
        2,
        3,
        3,
        1,
        27,
        0,
        2,
        11,
        0,
        1,
        31,
        1,
        2,
        16,
        1,
        1,
        31,
        2,
        2,
        33,
        2,
        1,
        28,
        3,
        2,
        8,
        3,
        1,
        27,
        0,
        2,
        19,
        0,
        1,
        5,
        2,
        3,
        5,
        2,
        1,
        33,
        3,
        2,
        22,
        3,
        1,
        26,
        0,
        2,
        10,
        0,
        1,
        0,
        1,
        2,
        10,
        1,
        1,
        30,
        2,
        2,
        11,
        2,
        1,
        11,
        3,
        2,
        15,
        3,
        1,
        23,
        0,
        2,
        7,
        0,
        1,
        2,
        1,
        2,
        3,
        1,
        1,
        28,
        2,
        2,
        6,
        2,
        1,
        17,
        3,
        3,
        17,
        3,
        1,
        22,
        0,
        2,
        26,
        0,
        1,
        7,
        1,
        2,
        20,
        1,
        1,
        27,
        2,
        2,
        16,
        2,
        1,
        16,
        3,
        2,
        13,
        3,
        1,
        18,
        0,
        2,
        14,
        0,
        1,
        22,
        1,
        2,
        1,
        1,
        1,
        16,
        2,
        2,
        28,
        2,
        1,
        28,
        3,
        2,
        30,
        3,
        1,
        18,
        0,
        2,
        22,
        0,
        1,
        22,
        1,
        2,
        29,
        1,
        1,
        10,
        2,
        2,
        21,
        2,
        1,
        14,
        3,
        2,
        6,
        3,
        1,
        30,
        0,
        2,
        17,
        0,
        1,
        26,
        1,
        2,
        12,
        1,
        1,
        13,
        2,
        2,
        4,
        2,
        1,
        13,
        3,
        2,
        22,
        3,
        1,
        22,
        0,
        2,
        0,
        0,
        1,
        0,
        1,
        2,
        23,
        1,
        1,
        12,
        2,
        2,
        8,
        2,
        1,
        8,
        3,
        2,
        16,
        3,
        1,
        8,
        0,
        2,
        3,
        0,
        1,
        3,
        1,
        2,
        7,
        1,
        1,
        29,
        2,
        2,
        33,
        2,
        1,
        33,
        3,
        2,
        9,
        3,
        1,
        1,
        0,
        2,
        21,
        0,
        1,
        17,
        1,
        2,
        33,
        1,
        1,
        33,
        2,
        2,
        9,
        2,
        1,
        9,
        3,
        2,
        24,
        3,
        1,
        24,
        0,
        2,
        11 ],
     hupaiList: [],
     chupaiCnt: 54,
     mahjongs: 
      [ 23,
        25,
        1,
        0,
        4,
        32,
        26,
        10,
        28,
        2,
        18,
        20,
        30,
        29,
        15,
        22,
        25,
        1,
        29,
        25,
        19,
        24,
        18,
        5,
        19,
        25,
        16,
        24,
        4,
        13,
        31,
        15,
        5,
        29,
        27,
        9,
        33,
        28,
        23,
        26,
        13,
        20,
        6,
        27,
        31,
        5,
        17,
        2,
        27,
        17,
        27,
        13,
        6,
        14,
        17,
        30,
        28,
        5,
        4,
        31,
        31,
        21,
        3,
        11,
        16,
        33,
        8,
        19,
        22,
        10,
        10,
        11,
        15,
        7,
        3,
        6,
        26,
        20,
        16,
        13,
        14,
        1,
        28,
        30,
        22,
        29,
        21,
        6,
        17,
        12,
        4,
        22,
        0,
        23,
        8,
        16,
        3,
        7,
        33,
        9,
        21,
        33,
        9,
        24,
        11,
        18,
        7,
        12,
        14,
        1,
        0,
        23,
        20,
        14,
        15,
        3,
        24,
        21,
        7,
        0,
        32,
        32,
        8,
        8,
        32,
        9,
        12,
        12,
        19,
        2,
        26,
        2,
        18,
        11,
        10,
        30 ],
     baseInfoJson: '{"type":"bymj","button":1,"index":3,"mahjongs":[23,25,1,0,4,32,26,10,28,2,18,20,30,29,15,22,25,1,29,25,19,24,18,5,19,25,16,24,4,13,31,15,5,29,27,9,33,28,23,26,13,20,6,27,31,5,17,2,27,17,27,13,6,14,17,30,28,5,4,31,31,21,3,11,16,33,8,19,22,10,10,11,15,7,3,6,26,20,16,13,14,1,28,30,22,29,21,6,17,12,4,22,0,23,8,16,3,7,33,9,21,33,9,24,11,18,7,12,14,1,0,23,20,14,15,3,24,21,7,0,32,32,8,8,32,9,12,12,19,2,26,2,18,11,10,30],"game_seats":[[0,10,20,22,25,5,24,15,9,26,27,2,13],[23,4,28,30,25,19,19,4,5,33,13,31,27,6],[25,32,2,29,1,24,25,13,29,28,20,5,17],[1,26,18,15,29,18,16,31,27,23,6,17,27]]}',
     fangpaoshumu: 0,
     tinging: false,
     qiangGangContext: null },
  seatIndex: 0,
  userId: 100335,
  holds: [ 10, 11, 9, 10, 11, 13, 14, 15, 19, 20, 21, 24, 25, 26 ],
  folds: [ 30, 27, 31, 0, 2, 7, 22, 22, 10, 26, 0, 3, 17 ],
  angangs: [],
  diangangs: [],
  wangangs: [],
  pengs: [],
  duoyu: [ 9, 10, 11 ],
  countMap: 
   { '0': 0,
     '1': 0,
     '2': 0,
     '3': 0,
     '4': 0,
     '5': 0,
     '6': 0,
     '7': 0,
     '8': 0,
     '9': 1,
     '10': 2,
     '11': 2,
     '12': 0,
     '13': 1,
     '14': 1,
     '15': 1,
     '16': 0,
     '17': 0,
     '18': 0,
     '19': 1,
     '20': 1,
     '21': 1,
     '22': 0,
     '23': 0,
     '24': 1,
     '25': 1,
     '26': 1,
     '27': 0,
     '30': 0,
     '31': 0 },
  tingMap: {},
  pattern: '',
  canGang: false,
  gangPai: [],
  canPeng: false,
  canHu: false,
  canChuPai: true,
  canTing: true,
  tinged: false,
  guohu: false,
  hued: false,
  iszimo: false,
  dianpao: false,
  actions: [],
  score: 0,
  lastFangGangSeat: -1,
  numAnGang: 0,
  numMingGang: 0,
  gangfen: 0,
  hufen: 0 }
guo_result
true
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
[ 16, 13, 14, 16, 12 ]
do game over!
roomid :672772
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
ye shu = 11
UPDATE t_rooms SET next_button = 2 WHERE id = "672772"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523712347389672772',3,'{"type":"bymj","button":1,"index":3,"mahjongs":[23,25,1,0,4,32,26,10,28,2,18,20,30,29,15,22,25,1,29,25,19,24,18,5,19,25,16,24,4,13,31,15,5,29,27,9,33,28,23,26,13,20,6,27,31,5,17,2,27,17,27,13,6,14,17,30,28,5,4,31,31,21,3,11,16,33,8,19,22,10,10,11,15,7,3,6,26,20,16,13,14,1,28,30,22,29,21,6,17,12,4,22,0,23,8,16,3,7,33,9,21,33,9,24,11,18,7,12,14,1,0,23,20,14,15,3,24,21,7,0,32,32,8,8,32,9,12,12,19,2,26,2,18,11,10,30],"game_seats":[[0,10,20,22,25,5,24,15,9,26,27,2,13],[23,4,28,30,25,19,19,4,5,33,13,31,27,6],[25,32,2,29,1,24,25,13,29,28,20,5,17],[1,26,18,15,29,18,16,31,27,23,6,17,27]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[-4,-5,-4,13]' WHERE room_uuid = '1523712347389672772' AND game_index = 3
UPDATE t_games SET action_records = '[1,1,33,2,2,14,2,1,29,3,2,17,3,1,31,0,2,30,0,1,30,1,2,28,1,1,28,2,2,5,2,1,29,3,2,4,3,1,29,0,2,31,0,1,27,1,2,31,1,1,31,2,2,21,2,1,32,3,2,3,3,1,27,0,2,11,0,1,31,1,2,16,1,1,31,2,2,33,2,1,28,3,2,8,3,1,27,0,2,19,0,1,5,2,3,5,2,1,33,3,2,22,3,1,26,0,2,10,0,1,0,1,2,10,1,1,30,2,2,11,2,1,11,3,2,15,3,1,23,0,2,7,0,1,2,1,2,3,1,1,28,2,2,6,2,1,17,3,3,17,3,1,22,0,2,26,0,1,7,1,2,20,1,1,27,2,2,16,2,1,16,3,2,13,3,1,18,0,2,14,0,1,22,1,2,1,1,1,16,2,2,28,2,1,28,3,2,30,3,1,18,0,2,22,0,1,22,1,2,29,1,1,10,2,2,21,2,1,14,3,2,6,3,1,30,0,2,17,0,1,26,1,2,12,1,1,13,2,2,4,2,1,13,3,2,22,3,1,22,0,2,0,0,1,0,1,2,23,1,1,12,2,2,8,2,1,8,3,2,16,3,1,8,0,2,3,0,1,3,1,2,7,1,1,29,2,2,33,2,1,33,3,2,9,3,1,1,0,2,21,0,1,17,1,2,33,1,1,33,2,2,9,2,1,9,3,2,24,3,1,24,0,2,11,0,1,9,1,2,18,1,1,25,2,3,25,2,1,24,3,2,7,3,1,9,0,2,12,0,6,11,1,2,14,1,1,14,2,2,1,2,1,20,3,2,0,3,1,0,0,2,23,0,1,23,1,3,23,1,6,19,2,2,20,2,1,20,3,2,14,3,1,7,0,2,15,0,1,15,3,3,15,3,1,3,0,2,3,0,1,3,1,2,24,1,1,24,2,2,21,2,6,6,3,3,6,3,6,4,0,2,7,0,1,7,1,2,0,1,1,0,2,2,32,2,1,32,3,2,32,3,1,32,0,2,8,0,1,8,1,2,8,1,1,8,2,2,32,2,1,32,3,2,9,3,1,9,0,2,12,0,1,12,3,5,12]' WHERE room_uuid = '1523712347389672772' AND game_index = 3
UPDATE t_rooms SET num_of_turns = 4 WHERE id = "672772"
game_over_push
SELECT history FROM t_users WHERE userid = "100335"
SELECT history FROM t_users WHERE userid = "100381"
SELECT history FROM t_users WHERE userid = "100334"
SELECT history FROM t_users WHERE userid = "100341"
UPDATE t_users SET roomid = null WHERE userid = "100335"
UPDATE t_users SET roomid = null WHERE userid = "100381"
UPDATE t_users SET roomid = null WHERE userid = "100334"
UPDATE t_users SET roomid = null WHERE userid = "100341"
DELETE FROM t_rooms WHERE id = '672772'
INSERT INTO t_games_archive(SELECT * FROM t_games WHERE room_uuid = '1523712347389672772')
2753
UPDATE t_users SET roomid = null, history = '[{"uuid":"1523627417627130382","id":"130382","time":1523627418,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-7},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-10},{"userid":100381,"name":"5pif54Gr","score":4},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":13}]},{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523678996348220864","id":"220864","time":1523678997,"seats":[{"userid":100334,"name":"576k5Li7","score":6},{"userid":100390,"name":"6K+g6YeK","score":-2},{"userid":100335,"name":"5pyI5YWJ","score":-4},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523683566003780700","id":"780700","time":1523683566,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":0},{"userid":100390,"name":"6K+g6YeK","score":0},{"userid":100334,"name":"576k5Li7","score":0},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523685120094387583","id":"387583","time":1523685121,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":10},{"userid":100390,"name":"6K+g6YeK","score":8},{"userid":100333,"name":"5byg6bqf5Y2O","score":4},{"userid":100334,"name":"576k5Li7","score":-22}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]},{"uuid":"1523710749099520898","id":"520898","time":1523710750,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-18},{"userid":100341,"name":"Kl5f6L6JX14q","score":4},{"userid":100334,"name":"576k5Li7","score":-12},{"userid":100381,"name":"5pif54Gr","score":26}]},{"uuid":"1523712347389672772","id":"672772","time":1523712348,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-23},{"userid":100381,"name":"5pif54Gr","score":35},{"userid":100334,"name":"576k5Li7","score":-21},{"userid":100341,"name":"Kl5f6L6JX14q","score":9}]}]' WHERE userid = "100335"
1676
UPDATE t_users SET roomid = null, history = '[{"uuid":"1523627417627130382","id":"130382","time":1523627418,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-7},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-10},{"userid":100381,"name":"5pif54Gr","score":4},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":13}]},{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]},{"uuid":"1523710749099520898","id":"520898","time":1523710750,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-18},{"userid":100341,"name":"Kl5f6L6JX14q","score":4},{"userid":100334,"name":"576k5Li7","score":-12},{"userid":100381,"name":"5pif54Gr","score":26}]},{"uuid":"1523712347389672772","id":"672772","time":1523712348,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-23},{"userid":100381,"name":"5pif54Gr","score":35},{"userid":100334,"name":"576k5Li7","score":-21},{"userid":100341,"name":"Kl5f6L6JX14q","score":9}]}]' WHERE userid = "100381"
2753
UPDATE t_users SET roomid = null, history = '[{"uuid":"1523627417627130382","id":"130382","time":1523627418,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-7},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-10},{"userid":100381,"name":"5pif54Gr","score":4},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":13}]},{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523678996348220864","id":"220864","time":1523678997,"seats":[{"userid":100334,"name":"576k5Li7","score":6},{"userid":100390,"name":"6K+g6YeK","score":-2},{"userid":100335,"name":"5pyI5YWJ","score":-4},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523683566003780700","id":"780700","time":1523683566,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":0},{"userid":100390,"name":"6K+g6YeK","score":0},{"userid":100334,"name":"576k5Li7","score":0},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523685120094387583","id":"387583","time":1523685121,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":10},{"userid":100390,"name":"6K+g6YeK","score":8},{"userid":100333,"name":"5byg6bqf5Y2O","score":4},{"userid":100334,"name":"576k5Li7","score":-22}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]},{"uuid":"1523710749099520898","id":"520898","time":1523710750,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-18},{"userid":100341,"name":"Kl5f6L6JX14q","score":4},{"userid":100334,"name":"576k5Li7","score":-12},{"userid":100381,"name":"5pif54Gr","score":26}]},{"uuid":"1523712347389672772","id":"672772","time":1523712348,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-23},{"userid":100381,"name":"5pif54Gr","score":35},{"userid":100334,"name":"576k5Li7","score":-21},{"userid":100341,"name":"Kl5f6L6JX14q","score":9}]}]' WHERE userid = "100334"
2881
UPDATE t_users SET roomid = null, history = '[{"uuid":"1522490989159021773","id":"021773","time":1522490990,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-15},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":13},{"userid":100340,"name":"6Im+5qC86YeR5aaN5re66ZmM5Yid5b+D","score":8},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-6}]},{"uuid":"1522674632945516960","id":"516960","time":1522674633,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-38},{"userid":100355,"name":"6ZW/5a2Z6ZuA5Zyj","score":-39},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-63},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":140}]},{"uuid":"1522675431210706479","id":"706479","time":1522675432,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":0},{"userid":100355,"name":"6ZW/5a2Z6ZuA5Zyj","score":0},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":0},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":0}]},{"uuid":"1523627417627130382","id":"130382","time":1523627418,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-7},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-10},{"userid":100381,"name":"5pif54Gr","score":4},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":13}]},{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]},{"uuid":"1523710749099520898","id":"520898","time":1523710750,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-18},{"userid":100341,"name":"Kl5f6L6JX14q","score":4},{"userid":100334,"name":"576k5Li7","score":-12},{"userid":100381,"name":"5pif54Gr","score":26}]},{"uuid":"1523712347389672772","id":"672772","time":1523712348,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-23},{"userid":100381,"name":"5pif54Gr","score":35},{"userid":100334,"name":"576k5Li7","score":-21},{"userid":100341,"name":"Kl5f6L6JX14q","score":9}]}]' WHERE userid = "100341"
DELETE FROM t_games WHERE room_uuid = '1523712347389672772'
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1IFv55ZW5ynqJByk17VH9_s"
SELECT * FROM t_message WHERE type = "notice"
++++++++++++++++++++++++++++++++++++
{"x":35.624371,"y":110.896773}
UPDATE t_users SET location='{"x":35.624371,"y":110.896773}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N75c3Lu8hC08SI3VoH1tpE"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT * FROM t_message WHERE type = "fkgm"
++++++++++++++++++++++++++++++++++++
{"x":35.624371,"y":110.896835}
UPDATE t_users SET location='{"x":35.624371,"y":110.896835}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
++++++++++++++++++++++++++++++++++++
{"x":35.624372,"y":110.896823}
UPDATE t_users SET location='{"x":35.624372,"y":110.896823}' WHERE account='wx_omM_A1N75c3Lu8hC08SI3VoH1tpE'
{ account: 'wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc',
  sign: 'ff2f9ddfc830c2c1ad6e0a9f19303583',
  conf: '{"wanfaxuanze":1,"xuanzejushu":0,"paytype":1,"difen":"1","cheat":1,"daifeng":1,"clubId":"","type":"bymj"}' }
conf is{"wanfaxuanze":1,"xuanzejushu":0,"paytype":1,"difen":"1","cheat":1,"daifeng":1,"clubId":"","type":"bymj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100335"
club_id is
{ type: 'bymj',
  baseScore: '1',
  isBaoTing: false,
  maxGames: 4,
  creator: 100335,
  paytype: 1,
  cheat: false,
  daifeng: false,
  clubId: '' }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523712921193046275','046275','{"type":"bymj","baseScore":"1","isBaoTing":false,"maxGames":4,"creator":100335,"paytype":1,"cheat":false,"daifeng":false,"clubId":""}','127.0.0.1',10000,1523712922,100335,1,'')
1523712921193046275
SELECT ip,port FROM t_rooms WHERE id = "046275"
{ userid: '100335',
  name: '月光',
  roomid: '046275',
  sign: 'c7c0345883650f5e918abaea628629f3' }
c7c0345883650f5e918abaea628629f3
SELECT gems FROM t_users WHERE userid = 100335
UPDATE t_rooms SET user_id0 = 100335,user_icon0 = "",user_name0 = "5pyI5YWJ" WHERE id = "046275"
{ token: '0ae2b470b273a61aa406e3c6b70b0892',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "046275" WHERE userid = "100335"
046275
0ae2b470b273a61aa406e3c6b70b0892
1523712921210
b8a7070679bb4ba426871df718d13651
++++++++++++++++++++++++++++++++++++
{"x":35.62437,"y":110.896977}
UPDATE t_users SET location='{"x":35.62437,"y":110.896977}' WHERE account='wx_omM_A1IFv55ZW5ynqJByk17VH9_s'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=046275 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "046275"
{ userid: '100334',
  name: '群主',
  roomid: '046275',
  sign: '0077731b7e02fe60ce787a8c4f93cff4' }
0077731b7e02fe60ce787a8c4f93cff4
SELECT gems FROM t_users WHERE userid = 100334
UPDATE t_rooms SET user_id1 = 100334,user_icon1 = "",user_name1 = "576k5Li7" WHERE id = "046275"
{ token: 'c2b9e118799f8d766f0f6802b59d5efa',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "046275" WHERE userid = "100334"
046275
c2b9e118799f8d766f0f6802b59d5efa
1523712935708
a93c47fac9b3caba89fa2c89a35b8c3f
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1IFv55ZW5ynqJByk17VH9_s"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=046275 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "046275"
{ userid: '100381',
  name: '星火',
  roomid: '046275',
  sign: 'b1d9bfb15783083ad68614a192a7fc2c' }
b1d9bfb15783083ad68614a192a7fc2c
SELECT gems FROM t_users WHERE userid = 100381
UPDATE t_rooms SET user_id2 = 100381,user_icon2 = "",user_name2 = "5pif54Gr" WHERE id = "046275"
{ token: 'd7e63bbd61a79ff496b85a3fec555243',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "046275" WHERE userid = "100381"
046275
d7e63bbd61a79ff496b85a3fec555243
1523712940460
e82cc2e300f5a8a36e1cea071ad9f532
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N75c3Lu8hC08SI3VoH1tpE"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=046272 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "046272"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N75c3Lu8hC08SI3VoH1tpE"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=046275 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "046275"
{ userid: '100341',
  name: '*^_辉_^*',
  roomid: '046275',
  sign: '0db60198576589a08c2627b326d41e3c' }
0db60198576589a08c2627b326d41e3c
SELECT gems FROM t_users WHERE userid = 100341
UPDATE t_rooms SET user_id3 = 100341,user_icon3 = "",user_name3 = "Kl5f6L6JX14q" WHERE id = "046275"
{ token: '06dc940a4ac570e0e7ebb1b82a9677ea',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "046275" WHERE userid = "100341"
046275
06dc940a4ac570e0e7ebb1b82a9677ea
1523713073627
18036fa7a61da7c285db9fc9671b1cf5
begin start==============046275
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
guo=================================100381
{ game: 
   { conf: 
      { type: 'bymj',
        baseScore: '1',
        isBaoTing: false,
        maxGames: 4,
        creator: 100335,
        paytype: 1,
        cheat: false,
        daifeng: false,
        clubId: '' },
     roomInfo: 
      { uuid: '1523712921193046275',
        id: '046275',
        numOfGames: 1,
        createTime: 1523712922,
        nextButton: 0,
        seats: [Object],
        conf: [Object],
        gameMgr: [Object] },
     gameIndex: 0,
     button: 0,
     currentIndex: 64,
     gameSeats: [ [Object], [Object], [Circular], [Object] ],
     turn: 3,
     chuPai: 4,
     state: 'playing',
     firstHupai: -1,
     actionList: 
      [ 0,
        1,
        18,
        1,
        3,
        18,
        1,
        1,
        8,
        2,
        2,
        5,
        2,
        1,
        9,
        3,
        2,
        24,
        3,
        1,
        8,
        0,
        2,
        19,
        0,
        1,
        19,
        1,
        2,
        23,
        1,
        1,
        5,
        0,
        3,
        5,
        0,
        1,
        15,
        1,
        2,
        19,
        1,
        1,
        1,
        2,
        2,
        4,
        2,
        1,
        25,
        3,
        2,
        4,
        3,
        1,
        1,
        0,
        2,
        12,
        0,
        1,
        9,
        1,
        2,
        21,
        1,
        1,
        17,
        2,
        2,
        11,
        2,
        1,
        21,
        3,
        2,
        26,
        3,
        1,
        4 ],
     hupaiList: [],
     chupaiCnt: 14,
     mahjongs: 
      [ 3,
        1,
        3,
        8,
        5,
        10,
        21,
        24,
        7,
        8,
        2,
        16,
        0,
        11,
        14,
        16,
        18,
        5,
        9,
        14,
        9,
        13,
        6,
        14,
        6,
        17,
        14,
        23,
        13,
        22,
        25,
        17,
        5,
        22,
        8,
        19,
        15,
        26,
        15,
        18,
        1,
        18,
        4,
        22,
        2,
        25,
        2,
        1,
        13,
        18,
        16,
        26,
        10,
        5,
        24,
        19,
        23,
        19,
        4,
        4,
        12,
        21,
        11,
        26,
        12,
        24,
        15,
        2,
        21,
        1,
        3,
        9,
        22,
        24,
        3,
        20,
        9,
        6,
        7,
        23,
        7,
        17,
        13,
        16,
        20,
        25,
        17,
        21,
        12,
        20,
        26,
        19,
        4,
        12,
        20,
        0,
        0,
        11,
        7,
        11,
        10,
        15,
        25,
        23,
        10,
        0,
        8,
        6 ],
     baseInfoJson: '{"type":"bymj","button":0,"index":0,"mahjongs":[3,1,3,8,5,10,21,24,7,8,2,16,0,11,14,16,18,5,9,14,9,13,6,14,6,17,14,23,13,22,25,17,5,22,8,19,15,26,15,18,1,18,4,22,2,25,2,1,13,18,16,26,10,5,24,19,23,19,4,4,12,21,11,26,12,24,15,2,21,1,3,9,22,24,3,20,9,6,7,23,7,17,13,16,20,25,17,21,12,20,26,19,4,12,20,0,0,11,7,11,10,15,25,23,10,0,8,6],"game_seats":[[3,5,7,0,18,9,6,13,5,15,1,2,13,10],[1,10,8,11,5,13,17,22,22,26,18,25,18],[3,21,2,14,9,6,14,25,8,15,4,2,16],[8,24,16,16,14,14,23,17,19,18,22,1,26]]}',
     qiangGangContext: null,
     fangpaoshumu: 0,
     tinging: false },
  seatIndex: 2,
  userId: 100381,
  holds: [ 2, 4, 14, 2, 3, 4, 5, 6, 8, 11, 14, 15, 16 ],
  folds: [ 9, 25, 21 ],
  angangs: [],
  diangangs: [],
  wangangs: [],
  pengs: [],
  duoyu: [],
  countMap: 
   { '0': 0,
     '1': 0,
     '2': 2,
     '3': 1,
     '4': 2,
     '5': 1,
     '6': 1,
     '7': 0,
     '8': 1,
     '9': 0,
     '10': 0,
     '11': 1,
     '12': 0,
     '13': 0,
     '14': 2,
     '15': 1,
     '16': 1,
     '17': 0,
     '18': 0,
     '19': 0,
     '20': 0,
     '21': 0,
     '22': 0,
     '23': 0,
     '24': 0,
     '25': 0,
     '26': 0 },
  tingMap: {},
  pattern: '',
  canGang: false,
  gangPai: [],
  canPeng: true,
  canHu: false,
  canChuPai: false,
  canTing: false,
  tinged: false,
  guohu: false,
  hued: false,
  iszimo: false,
  dianpao: false,
  actions: [],
  score: 0,
  lastFangGangSeat: -1,
  numAnGang: 0,
  numMingGang: 0,
  gangfen: 0,
  hufen: 0 }
guo_result
false
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_action_push
[ 22, 10, 11, 19, 20, 21, 22, 23, 24, 25, 9 ]
do game over!
roomid :046275
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
ye shu = 11
UPDATE t_rooms SET next_button = 1 WHERE id = "046275"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523712921193046275',0,'{"type":"bymj","button":0,"index":0,"mahjongs":[3,1,3,8,5,10,21,24,7,8,2,16,0,11,14,16,18,5,9,14,9,13,6,14,6,17,14,23,13,22,25,17,5,22,8,19,15,26,15,18,1,18,4,22,2,25,2,1,13,18,16,26,10,5,24,19,23,19,4,4,12,21,11,26,12,24,15,2,21,1,3,9,22,24,3,20,9,6,7,23,7,17,13,16,20,25,17,21,12,20,26,19,4,12,20,0,0,11,7,11,10,15,25,23,10,0,8,6],"game_seats":[[3,5,7,0,18,9,6,13,5,15,1,2,13,10],[1,10,8,11,5,13,17,22,22,26,18,25,18],[3,21,2,14,9,6,14,25,8,15,4,2,16],[8,24,16,16,14,14,23,17,19,18,22,1,26]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[-5,13,-4,-4]' WHERE room_uuid = '1523712921193046275' AND game_index = 0
UPDATE t_games SET action_records = '[0,1,18,1,3,18,1,1,8,2,2,5,2,1,9,3,2,24,3,1,8,0,2,19,0,1,19,1,2,23,1,1,5,0,3,5,0,1,15,1,2,19,1,1,1,2,2,4,2,1,25,3,2,4,3,1,1,0,2,12,0,1,9,1,2,21,1,1,17,2,2,11,2,1,21,3,2,26,3,1,4,0,2,12,0,1,10,1,2,24,1,1,13,0,3,13,0,6,3,1,2,15,1,1,15,2,2,2,2,1,11,3,2,21,3,1,17,0,2,1,0,1,1,1,2,3,1,1,3,2,2,9,2,1,9,3,2,22,3,1,16,0,2,24,0,1,24,3,3,24,3,1,16,0,2,3,0,1,3,1,2,20,1,6,26,3,3,26,3,6,22,0,2,9,0,1,9,1,5,9]' WHERE room_uuid = '1523712921193046275' AND game_index = 0
UPDATE t_rooms SET num_of_turns = 1 WHERE id = "046275"
UPDATE t_users SET gems = gems -1 WHERE userid = 100335
UPDATE t_users SET gems = gems -1 WHERE userid = 100334
UPDATE t_users SET gems = gems -1 WHERE userid = 100381
UPDATE t_users SET gems = gems -1 WHERE userid = 100341
game_over_push
begin start==============046275
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
guo=================================100335
{ game: 
   { conf: 
      { type: 'bymj',
        baseScore: '1',
        isBaoTing: false,
        maxGames: 4,
        creator: 100335,
        paytype: 1,
        cheat: false,
        daifeng: false,
        clubId: '' },
     roomInfo: 
      { uuid: '1523712921193046275',
        id: '046275',
        numOfGames: 2,
        createTime: 1523712922,
        nextButton: 1,
        seats: [Object],
        conf: [Object],
        gameMgr: [Object] },
     gameIndex: 1,
     button: 1,
     currentIndex: 62,
     gameSeats: [ [Circular], [Object], [Object], [Object] ],
     turn: 2,
     chuPai: 18,
     state: 'playing',
     firstHupai: -1,
     actionList: 
      [ 1,
        1,
        6,
        2,
        2,
        3,
        2,
        1,
        7,
        3,
        2,
        0,
        3,
        1,
        11,
        0,
        2,
        6,
        0,
        1,
        23,
        1,
        2,
        23,
        1,
        1,
        1,
        2,
        2,
        22,
        2,
        1,
        22,
        3,
        2,
        1,
        3,
        1,
        10,
        0,
        2,
        19,
        0,
        1,
        16,
        1,
        2,
        12,
        1,
        1,
        26,
        2,
        2,
        18,
        2,
        1,
        18 ],
     hupaiList: [],
     chupaiCnt: 10,
     mahjongs: 
      [ 13,
        22,
        26,
        14,
        6,
        7,
        1,
        16,
        13,
        17,
        10,
        18,
        16,
        9,
        21,
        0,
        11,
        4,
        2,
        18,
        18,
        21,
        7,
        3,
        1,
        9,
        10,
        0,
        26,
        9,
        25,
        3,
        19,
        12,
        4,
        12,
        13,
        20,
        21,
        23,
        23,
        11,
        5,
        20,
        10,
        15,
        25,
        3,
        21,
        4,
        11,
        2,
        22,
        3,
        0,
        6,
        23,
        22,
        1,
        19,
        12,
        18,
        2,
        19,
        23,
        15,
        11,
        22,
        7,
        1,
        2,
        13,
        17,
        5,
        7,
        0,
        25,
        8,
        17,
        8,
        5,
        25,
        14,
        5,
        19,
        15,
        16,
        24,
        14,
        6,
        24,
        9,
        12,
        4,
        26,
        17,
        6,
        24,
        20,
        10,
        8,
        20,
        14,
        24,
        8,
        16,
        15,
        26 ],
     baseInfoJson: '{"type":"bymj","button":1,"index":1,"mahjongs":[13,22,26,14,6,7,1,16,13,17,10,18,16,9,21,0,11,4,2,18,18,21,7,3,1,9,10,0,26,9,25,3,19,12,4,12,13,20,21,23,23,11,5,20,10,15,25,3,21,4,11,2,22,3,0,6,23,22,1,19,12,18,2,19,23,15,11,22,7,1,2,13,17,5,7,0,25,8,17,8,5,25,14,5,19,15,16,24,14,6,24,9,12,4,26,17,6,24,20,10,8,20,14,24,8,16,15,26],"game_seats":[[14,16,18,0,18,3,0,3,12,23,20,3,2],[13,6,13,16,11,18,1,26,19,13,23,10,21,22],[22,7,17,9,4,21,9,9,12,20,11,15,4],[26,1,10,21,2,7,10,25,4,21,5,25,11]]}',
     fangpaoshumu: 0,
     tinging: false },
  seatIndex: 0,
  userId: 100335,
  holds: [ 3, 0, 3, 18, 0, 2, 3, 6, 12, 14, 18, 19, 20 ],
  folds: [ 23, 16 ],
  angangs: [],
  diangangs: [],
  wangangs: [],
  pengs: [],
  duoyu: [],
  countMap: 
   { '0': 2,
     '1': 0,
     '2': 1,
     '3': 3,
     '4': 0,
     '5': 0,
     '6': 1,
     '7': 0,
     '8': 0,
     '9': 0,
     '10': 0,
     '11': 0,
     '12': 1,
     '13': 0,
     '14': 1,
     '15': 0,
     '16': 0,
     '17': 0,
     '18': 2,
     '19': 1,
     '20': 1,
     '21': 0,
     '22': 0,
     '23': 0,
     '24': 0,
     '25': 0,
     '26': 0 },
  tingMap: {},
  pattern: '',
  canGang: false,
  gangPai: [],
  canPeng: true,
  canHu: false,
  canChuPai: false,
  canTing: false,
  tinged: false,
  guohu: false,
  hued: false,
  iszimo: false,
  dianpao: false,
  actions: [],
  score: 0,
  lastFangGangSeat: -1,
  numAnGang: 0,
  numMingGang: 0,
  gangfen: 0,
  hufen: 0 }
guo_result
false
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_action_push
gang=============100334       13
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
gang=============100335       3
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
guo=================================100335
{ game: 
   { conf: 
      { type: 'bymj',
        baseScore: '1',
        isBaoTing: false,
        maxGames: 4,
        creator: 100335,
        paytype: 1,
        cheat: false,
        daifeng: false,
        clubId: '' },
     roomInfo: 
      { uuid: '1523712921193046275',
        id: '046275',
        numOfGames: 2,
        createTime: 1523712922,
        nextButton: 1,
        seats: [Object],
        conf: [Object],
        gameMgr: [Object] },
     gameIndex: 1,
     button: 1,
     currentIndex: 80,
     gameSeats: [ [Circular], [Object], [Object], [Object] ],
     turn: 3,
     chuPai: 0,
     state: 'playing',
     firstHupai: -1,
     actionList: 
      [ 1,
        1,
        6,
        2,
        2,
        3,
        2,
        1,
        7,
        3,
        2,
        0,
        3,
        1,
        11,
        0,
        2,
        6,
        0,
        1,
        23,
        1,
        2,
        23,
        1,
        1,
        1,
        2,
        2,
        22,
        2,
        1,
        22,
        3,
        2,
        1,
        3,
        1,
        10,
        0,
        2,
        19,
        0,
        1,
        16,
        1,
        2,
        12,
        1,
        1,
        26,
        2,
        2,
        18,
        2,
        1,
        18,
        3,
        2,
        2,
        3,
        1,
        10,
        0,
        2,
        19,
        0,
        1,
        14,
        1,
        2,
        23,
        1,
        6,
        16,
        2,
        2,
        15,
        2,
        1,
        3,
        0,
        3,
        3,
        0,
        1,
        12,
        1,
        2,
        11,
        1,
        1,
        11,
        2,
        2,
        22,
        2,
        1,
        22,
        3,
        2,
        7,
        3,
        1,
        26,
        0,
        2,
        1,
        0,
        6,
        6,
        1,
        2,
        2,
        1,
        1,
        2,
        3,
        3,
        2,
        3,
        1,
        25,
        0,
        2,
        13,
        0,
        1,
        13,
        1,
        4,
        13,
        1,
        2,
        17,
        1,
        1,
        17,
        2,
        2,
        5,
        2,
        1,
        5,
        3,
        2,
        7,
        3,
        1,
        25,
        0,
        2,
        0,
        0,
        4,
        3,
        0,
        2,
        25,
        0,
        1,
        25,
        1,
        2,
        8,
        1,
        1,
        8,
        2,
        2,
        17,
        2,
        1,
        4,
        3,
        2,
        8,
        3,
        1,
        0 ],
     hupaiList: [],
     chupaiCnt: 29,
     mahjongs: 
      [ 13,
        22,
        26,
        14,
        6,
        7,
        1,
        16,
        13,
        17,
        10,
        18,
        16,
        9,
        21,
        0,
        11,
        4,
        2,
        18,
        18,
        21,
        7,
        3,
        1,
        9,
        10,
        0,
        26,
        9,
        25,
        3,
        19,
        12,
        4,
        12,
        13,
        20,
        21,
        23,
        23,
        11,
        5,
        20,
        10,
        15,
        25,
        3,
        21,
        4,
        11,
        2,
        22,
        3,
        0,
        6,
        23,
        22,
        1,
        19,
        12,
        18,
        2,
        19,
        23,
        15,
        11,
        22,
        7,
        1,
        2,
        13,
        17,
        5,
        7,
        0,
        25,
        8,
        17,
        8,
        5,
        25,
        14,
        5,
        19,
        15,
        16,
        24,
        14,
        6,
        24,
        9,
        12,
        4,
        26,
        17,
        6,
        24,
        20,
        10,
        8,
        20,
        14,
        24,
        8,
        16,
        15,
        26 ],
     baseInfoJson: '{"type":"bymj","button":1,"index":1,"mahjongs":[13,22,26,14,6,7,1,16,13,17,10,18,16,9,21,0,11,4,2,18,18,21,7,3,1,9,10,0,26,9,25,3,19,12,4,12,13,20,21,23,23,11,5,20,10,15,25,3,21,4,11,2,22,3,0,6,23,22,1,19,12,18,2,19,23,15,11,22,7,1,2,13,17,5,7,0,25,8,17,8,5,25,14,5,19,15,16,24,14,6,24,9,12,4,26,17,6,24,20,10,8,20,14,24,8,16,15,26],"game_seats":[[14,16,18,0,18,3,0,3,12,23,20,3,2],[13,6,13,16,11,18,1,26,19,13,23,10,21,22],[22,7,17,9,4,21,9,9,12,20,11,15,4],[26,1,10,21,2,7,10,25,4,21,5,25,11]]}',
     fangpaoshumu: 0,
     tinging: false,
     qiangGangContext: null },
  seatIndex: 0,
  userId: 100335,
  holds: [ 0, 18, 19, 0, 1, 2, 18, 19, 20, 0 ],
  folds: [ 23, 16, 18, 14, 12, 6, 25 ],
  angangs: [],
  diangangs: [],
  wangangs: [ 3 ],
  pengs: [],
  duoyu: [],
  countMap: 
   { '0': 3,
     '1': 1,
     '2': 1,
     '3': 0,
     '4': 0,
     '5': 0,
     '6': 0,
     '7': 0,
     '8': 0,
     '9': 0,
     '10': 0,
     '11': 0,
     '12': 0,
     '13': 0,
     '14': 0,
     '15': 0,
     '16': 0,
     '17': 0,
     '18': 2,
     '19': 2,
     '20': 1,
     '21': 0,
     '22': 0,
     '23': 0,
     '24': 0,
     '25': 0,
     '26': 0 },
  tingMap: { '20': { pattern: 'normal', fan: 0 } },
  pattern: '',
  canGang: true,
  gangPai: [ 0 ],
  canPeng: false,
  canHu: false,
  canChuPai: false,
  canTing: false,
  tinged: true,
  guohu: false,
  hued: false,
  iszimo: false,
  dianpao: false,
  actions: 
   [ { type: 'fanggang', targets: [Object] },
     { type: 'wangang', targets: [Object], score: '1' } ],
  score: 0,
  lastFangGangSeat: 0,
  numAnGang: 0,
  numMingGang: 0,
  gangfen: 0,
  hufen: 0 }
guo_result
false
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
gang=============100381       9
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
do game over!
roomid :046275
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
ye shu = 9
UPDATE t_rooms SET next_button = 2 WHERE id = "046275"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523712921193046275',1,'{"type":"bymj","button":1,"index":1,"mahjongs":[13,22,26,14,6,7,1,16,13,17,10,18,16,9,21,0,11,4,2,18,18,21,7,3,1,9,10,0,26,9,25,3,19,12,4,12,13,20,21,23,23,11,5,20,10,15,25,3,21,4,11,2,22,3,0,6,23,22,1,19,12,18,2,19,23,15,11,22,7,1,2,13,17,5,7,0,25,8,17,8,5,25,14,5,19,15,16,24,14,6,24,9,12,4,26,17,6,24,20,10,8,20,14,24,8,16,15,26],"game_seats":[[14,16,18,0,18,3,0,3,12,23,20,3,2],[13,6,13,16,11,18,1,26,19,13,23,10,21,22],[22,7,17,9,4,21,9,9,12,20,11,15,4],[26,1,10,21,2,7,10,25,4,21,5,25,11]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[14,-6,-4,-4]' WHERE room_uuid = '1523712921193046275' AND game_index = 1
UPDATE t_games SET action_records = '[1,1,6,2,2,3,2,1,7,3,2,0,3,1,11,0,2,6,0,1,23,1,2,23,1,1,1,2,2,22,2,1,22,3,2,1,3,1,10,0,2,19,0,1,16,1,2,12,1,1,26,2,2,18,2,1,18,3,2,2,3,1,10,0,2,19,0,1,14,1,2,23,1,6,16,2,2,15,2,1,3,0,3,3,0,1,12,1,2,11,1,1,11,2,2,22,2,1,22,3,2,7,3,1,26,0,2,1,0,6,6,1,2,2,1,1,2,3,3,2,3,1,25,0,2,13,0,1,13,1,4,13,1,2,17,1,1,17,2,2,5,2,1,5,3,2,7,3,1,25,0,2,0,0,4,3,0,2,25,0,1,25,1,2,8,1,1,8,2,2,17,2,1,4,3,2,8,3,1,0,0,2,5,0,1,5,1,2,25,1,1,25,2,2,14,2,1,4,3,2,5,3,1,8,0,2,19,0,1,19,1,2,15,1,1,15,2,3,15,2,6,14,3,2,16,3,1,16,0,2,24,0,1,24,1,2,14,1,1,14,2,2,6,2,1,6,3,2,24,3,1,24,0,2,9,0,1,9,2,4,9,2,2,12,2,1,12,3,2,4,3,1,4,0,2,26,0,1,26,1,2,17,1,1,17,2,2,6,2,1,6,3,2,24,3,1,24,0,2,20,0,5,20]' WHERE room_uuid = '1523712921193046275' AND game_index = 1
UPDATE t_rooms SET num_of_turns = 2 WHERE id = "046275"
game_over_push
begin start==============046275
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
guo=================================100381
{ game: 
   { conf: 
      { type: 'bymj',
        baseScore: '1',
        isBaoTing: false,
        maxGames: 4,
        creator: 100335,
        paytype: 1,
        cheat: false,
        daifeng: false,
        clubId: '' },
     roomInfo: 
      { uuid: '1523712921193046275',
        id: '046275',
        numOfGames: 3,
        createTime: 1523712922,
        nextButton: 2,
        seats: [Object],
        conf: [Object],
        gameMgr: [Object] },
     gameIndex: 2,
     button: 2,
     currentIndex: 60,
     gameSeats: [ [Object], [Object], [Circular], [Object] ],
     turn: 1,
     chuPai: 20,
     state: 'playing',
     firstHupai: -1,
     actionList: 
      [ 2,
        1,
        10,
        3,
        2,
        4,
        3,
        1,
        10,
        0,
        2,
        14,
        0,
        1,
        25,
        1,
        2,
        17,
        1,
        1,
        19,
        2,
        2,
        7,
        2,
        1,
        0,
        3,
        2,
        25,
        3,
        1,
        13,
        0,
        2,
        5,
        0,
        1,
        19,
        1,
        2,
        20,
        1,
        1,
        20 ],
     hupaiList: [],
     chupaiCnt: 8,
     mahjongs: 
      [ 7,
        10,
        21,
        18,
        6,
        6,
        25,
        0,
        10,
        18,
        19,
        12,
        23,
        19,
        1,
        2,
        0,
        14,
        22,
        19,
        17,
        7,
        6,
        23,
        26,
        4,
        5,
        12,
        5,
        3,
        7,
        9,
        19,
        1,
        11,
        8,
        20,
        13,
        16,
        3,
        24,
        23,
        2,
        8,
        15,
        3,
        13,
        22,
        18,
        24,
        9,
        14,
        20,
        4,
        14,
        17,
        7,
        25,
        5,
        20,
        3,
        26,
        2,
        22,
        2,
        14,
        0,
        25,
        1,
        13,
        22,
        15,
        23,
        4,
        4,
        1,
        17,
        24,
        21,
        16,
        13,
        8,
        9,
        25,
        12,
        11,
        10,
        17,
        26,
        5,
        21,
        16,
        15,
        24,
        11,
        20,
        11,
        10,
        9,
        26,
        6,
        12,
        8,
        15,
        21,
        16,
        0,
        18 ],
     baseInfoJson: '{"type":"bymj","button":2,"index":2,"mahjongs":[7,10,21,18,6,6,25,0,10,18,19,12,23,19,1,2,0,14,22,19,17,7,6,23,26,4,5,12,5,3,7,9,19,1,11,8,20,13,16,3,24,23,2,8,15,3,13,22,18,24,9,14,20,4,14,17,7,25,5,20,3,26,2,22,2,14,0,25,1,13,22,15,23,4,4,1,17,24,21,16,13,8,9,25,12,11,10,17,26,5,21,16,15,24,11,20,11,10,9,26,6,12,8,15,21,16,0,18],"game_seats":[[21,25,19,1,22,6,5,7,11,16,2,13,9],[18,0,12,2,19,23,12,9,8,3,8,22,14],[7,6,10,23,0,17,26,5,19,20,24,15,18,20],[10,6,18,19,14,7,4,3,1,13,23,3,24]]}',
     fangpaoshumu: 0,
     tinging: false },
  seatIndex: 2,
  userId: 100381,
  holds: [ 20, 7, 5, 6, 7, 15, 17, 18, 19, 20, 23, 24, 26 ],
  folds: [ 10, 0 ],
  angangs: [],
  diangangs: [],
  wangangs: [],
  pengs: [],
  duoyu: [],
  countMap: 
   { '0': 0,
     '1': 0,
     '2': 0,
     '3': 0,
     '4': 0,
     '5': 1,
     '6': 1,
     '7': 2,
     '8': 0,
     '9': 0,
     '10': 0,
     '11': 0,
     '12': 0,
     '13': 0,
     '14': 0,
     '15': 1,
     '16': 0,
     '17': 1,
     '18': 1,
     '19': 1,
     '20': 2,
     '21': 0,
     '22': 0,
     '23': 1,
     '24': 1,
     '25': 0,
     '26': 1 },
  tingMap: {},
  pattern: '',
  canGang: false,
  gangPai: [],
  canPeng: true,
  canHu: false,
  canChuPai: false,
  canTing: false,
  tinged: false,
  guohu: false,
  hued: false,
  iszimo: false,
  dianpao: false,
  actions: [],
  score: 0,
  lastFangGangSeat: -1,
  numAnGang: 0,
  numMingGang: 0,
  gangfen: 0,
  hufen: 0 }
guo_result
false
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
[ 17, 5, 6, 7, 17, 18, 19, 20, 22, 23, 24, 25, 26, 24 ]
do game over!
roomid :046275
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
ye shu = 9
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523712921193046275',2,'{"type":"bymj","button":2,"index":2,"mahjongs":[7,10,21,18,6,6,25,0,10,18,19,12,23,19,1,2,0,14,22,19,17,7,6,23,26,4,5,12,5,3,7,9,19,1,11,8,20,13,16,3,24,23,2,8,15,3,13,22,18,24,9,14,20,4,14,17,7,25,5,20,3,26,2,22,2,14,0,25,1,13,22,15,23,4,4,1,17,24,21,16,13,8,9,25,12,11,10,17,26,5,21,16,15,24,11,20,11,10,9,26,6,12,8,15,21,16,0,18],"game_seats":[[21,25,19,1,22,6,5,7,11,16,2,13,9],[18,0,12,2,19,23,12,9,8,3,8,22,14],[7,6,10,23,0,17,26,5,19,20,24,15,18,20],[10,6,18,19,14,7,4,3,1,13,23,3,24]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[0,0,9,-9]' WHERE room_uuid = '1523712921193046275' AND game_index = 2
UPDATE t_games SET action_records = '[2,1,10,3,2,4,3,1,10,0,2,14,0,1,25,1,2,17,1,1,19,2,2,7,2,1,0,3,2,25,3,1,13,0,2,5,0,1,19,1,2,20,1,1,20,2,2,3,2,1,3,3,3,3,3,1,14,0,2,26,0,1,26,1,2,2,1,1,18,2,2,22,2,1,7,3,2,2,3,1,18,0,2,14,0,1,22,1,2,0,1,1,17,2,2,25,2,1,15,3,2,1,3,1,19,0,2,13,0,1,21,1,2,22,1,1,9,2,2,15,2,1,15,3,2,23,3,1,23,0,2,4,0,1,16,1,2,4,1,1,14,0,3,14,0,1,9,1,2,1,1,1,23,2,2,17,2,6,20,3,2,24,3,1,24,2,5,24]' WHERE room_uuid = '1523712921193046275' AND game_index = 2
UPDATE t_rooms SET num_of_turns = 3 WHERE id = "046275"
game_over_push
begin start==============046275
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
game_mopai_push
game_action_push
game_action_push
no need chupai.
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
gang=============100334       17
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
guo=================================100335
{ game: 
   { conf: 
      { type: 'bymj',
        baseScore: '1',
        isBaoTing: false,
        maxGames: 4,
        creator: 100335,
        paytype: 1,
        cheat: false,
        daifeng: false,
        clubId: '' },
     roomInfo: 
      { uuid: '1523712921193046275',
        id: '046275',
        numOfGames: 4,
        createTime: 1523712922,
        nextButton: 2,
        seats: [Object],
        conf: [Object],
        gameMgr: [Object] },
     gameIndex: 3,
     button: 2,
     currentIndex: 75,
     gameSeats: [ [Circular], [Object], [Object], [Object] ],
     turn: 3,
     chuPai: 13,
     state: 'playing',
     firstHupai: -1,
     actionList: 
      [ 2,
        1,
        21,
        3,
        2,
        3,
        3,
        1,
        17,
        1,
        3,
        17,
        1,
        1,
        0,
        2,
        3,
        0,
        2,
        1,
        11,
        3,
        2,
        25,
        3,
        1,
        10,
        0,
        2,
        12,
        0,
        1,
        1,
        1,
        2,
        24,
        1,
        1,
        8,
        2,
        2,
        20,
        2,
        1,
        20,
        3,
        2,
        23,
        3,
        1,
        1,
        0,
        2,
        14,
        0,
        1,
        4,
        1,
        2,
        8,
        1,
        1,
        8,
        2,
        2,
        2,
        2,
        1,
        25,
        3,
        3,
        25,
        3,
        1,
        5,
        0,
        2,
        6,
        0,
        1,
        6,
        1,
        2,
        17,
        1,
        4,
        17,
        1,
        2,
        18,
        1,
        1,
        8,
        2,
        2,
        22,
        2,
        1,
        22,
        3,
        2,
        14,
        3,
        1,
        14,
        0,
        2,
        9,
        0,
        1,
        25,
        1,
        2,
        20,
        1,
        1,
        26,
        2,
        2,
        16,
        2,
        1,
        26,
        3,
        2,
        5,
        3,
        1,
        5,
        0,
        2,
        11,
        0,
        1,
        23,
        1,
        2,
        24,
        1,
        1,
        9,
        2,
        2,
        23,
        2,
        1,
        23,
        3,
        2,
        13,
        3,
        1,
        13 ],
     hupaiList: [],
     chupaiCnt: 25,
     mahjongs: 
      [ 25,
        25,
        1,
        26,
        3,
        12,
        22,
        17,
        0,
        12,
        25,
        17,
        16,
        5,
        13,
        8,
        15,
        20,
        10,
        19,
        0,
        22,
        4,
        0,
        11,
        4,
        12,
        15,
        3,
        17,
        13,
        9,
        7,
        10,
        23,
        14,
        7,
        1,
        20,
        18,
        16,
        24,
        19,
        18,
        21,
        5,
        16,
        8,
        2,
        26,
        11,
        10,
        26,
        3,
        25,
        12,
        24,
        20,
        23,
        14,
        8,
        2,
        6,
        17,
        18,
        22,
        14,
        9,
        20,
        16,
        5,
        11,
        24,
        23,
        13,
        6,
        6,
        13,
        21,
        9,
        5,
        15,
        19,
        21,
        24,
        1,
        15,
        1,
        23,
        7,
        6,
        21,
        18,
        3,
        26,
        8,
        10,
        9,
        7,
        19,
        0,
        14,
        4,
        4,
        11,
        2,
        22,
        2 ],
     baseInfoJson: '{"type":"bymj","button":2,"index":3,"mahjongs":[25,25,1,26,3,12,22,17,0,12,25,17,16,5,13,8,15,20,10,19,0,22,4,0,11,4,12,15,3,17,13,9,7,10,23,14,7,1,20,18,16,24,19,18,21,5,16,8,2,26,11,10,26,3,25,12,24,20,23,14,8,2,6,17,18,22,14,9,20,16,5,11,24,23,13,6,6,13,21,9,5,15,19,21,24,1,15,1,23,7,6,21,18,3,26,8,10,9,7,19,0,14,4,4,11,2,22,2],"game_seats":[[1,22,25,13,10,4,12,13,23,20,19,16,11],[26,17,17,8,19,0,15,9,14,18,18,8,10],[25,3,0,16,15,0,11,3,7,7,16,21,2,26],[25,12,12,5,20,22,4,17,10,1,24,5,26]]}',
     fangpaoshumu: 0,
     tinging: false,
     qiangGangContext: null },
  seatIndex: 0,
  userId: 100335,
  holds: [ 12, 13, 11, 9, 10, 11, 12, 13, 14, 16, 19, 20, 22 ],
  folds: [ 1, 4, 6, 25, 23 ],
  angangs: [],
  diangangs: [],
  wangangs: [],
  pengs: [],
  duoyu: [],
  countMap: 
   { '0': 0,
     '1': 0,
     '2': 0,
     '3': 0,
     '4': 0,
     '5': 0,
     '6': 0,
     '7': 0,
     '8': 0,
     '9': 1,
     '10': 1,
     '11': 2,
     '12': 2,
     '13': 2,
     '14': 1,
     '15': 0,
     '16': 1,
     '17': 0,
     '18': 0,
     '19': 1,
     '20': 1,
     '21': 0,
     '22': 1,
     '23': 0,
     '24': 0,
     '25': 0,
     '26': 0 },
  tingMap: {},
  pattern: '',
  canGang: false,
  gangPai: [],
  canPeng: true,
  canHu: false,
  canChuPai: false,
  canTing: false,
  tinged: false,
  guohu: false,
  hued: false,
  iszimo: false,
  dianpao: false,
  actions: [],
  score: 0,
  lastFangGangSeat: -1,
  numAnGang: 0,
  numMingGang: 0,
  gangfen: 0,
  hufen: 0 }
guo_result
false
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
guo=================================100335
{ game: 
   { conf: 
      { type: 'bymj',
        baseScore: '1',
        isBaoTing: false,
        maxGames: 4,
        creator: 100335,
        paytype: 1,
        cheat: false,
        daifeng: false,
        clubId: '' },
     roomInfo: 
      { uuid: '1523712921193046275',
        id: '046275',
        numOfGames: 4,
        createTime: 1523712922,
        nextButton: 2,
        seats: [Object],
        conf: [Object],
        gameMgr: [Object] },
     gameIndex: 3,
     button: 2,
     currentIndex: 78,
     gameSeats: [ [Circular], [Object], [Object], [Object] ],
     turn: 2,
     chuPai: 13,
     state: 'playing',
     firstHupai: -1,
     actionList: 
      [ 2,
        1,
        21,
        3,
        2,
        3,
        3,
        1,
        17,
        1,
        3,
        17,
        1,
        1,
        0,
        2,
        3,
        0,
        2,
        1,
        11,
        3,
        2,
        25,
        3,
        1,
        10,
        0,
        2,
        12,
        0,
        1,
        1,
        1,
        2,
        24,
        1,
        1,
        8,
        2,
        2,
        20,
        2,
        1,
        20,
        3,
        2,
        23,
        3,
        1,
        1,
        0,
        2,
        14,
        0,
        1,
        4,
        1,
        2,
        8,
        1,
        1,
        8,
        2,
        2,
        2,
        2,
        1,
        25,
        3,
        3,
        25,
        3,
        1,
        5,
        0,
        2,
        6,
        0,
        1,
        6,
        1,
        2,
        17,
        1,
        4,
        17,
        1,
        2,
        18,
        1,
        1,
        8,
        2,
        2,
        22,
        2,
        1,
        22,
        3,
        2,
        14,
        3,
        1,
        14,
        0,
        2,
        9,
        0,
        1,
        25,
        1,
        2,
        20,
        1,
        1,
        26,
        2,
        2,
        16,
        2,
        1,
        26,
        3,
        2,
        5,
        3,
        1,
        5,
        0,
        2,
        11,
        0,
        1,
        23,
        1,
        2,
        24,
        1,
        1,
        9,
        2,
        2,
        23,
        2,
        1,
        23,
        3,
        2,
        13,
        3,
        1,
        13,
        0,
        2,
        6,
        0,
        1,
        22,
        1,
        2,
        6,
        1,
        1,
        6,
        2,
        2,
        13,
        2,
        1,
        13 ],
     hupaiList: [],
     chupaiCnt: 28,
     mahjongs: 
      [ 25,
        25,
        1,
        26,
        3,
        12,
        22,
        17,
        0,
        12,
        25,
        17,
        16,
        5,
        13,
        8,
        15,
        20,
        10,
        19,
        0,
        22,
        4,
        0,
        11,
        4,
        12,
        15,
        3,
        17,
        13,
        9,
        7,
        10,
        23,
        14,
        7,
        1,
        20,
        18,
        16,
        24,
        19,
        18,
        21,
        5,
        16,
        8,
        2,
        26,
        11,
        10,
        26,
        3,
        25,
        12,
        24,
        20,
        23,
        14,
        8,
        2,
        6,
        17,
        18,
        22,
        14,
        9,
        20,
        16,
        5,
        11,
        24,
        23,
        13,
        6,
        6,
        13,
        21,
        9,
        5,
        15,
        19,
        21,
        24,
        1,
        15,
        1,
        23,
        7,
        6,
        21,
        18,
        3,
        26,
        8,
        10,
        9,
        7,
        19,
        0,
        14,
        4,
        4,
        11,
        2,
        22,
        2 ],
     baseInfoJson: '{"type":"bymj","button":2,"index":3,"mahjongs":[25,25,1,26,3,12,22,17,0,12,25,17,16,5,13,8,15,20,10,19,0,22,4,0,11,4,12,15,3,17,13,9,7,10,23,14,7,1,20,18,16,24,19,18,21,5,16,8,2,26,11,10,26,3,25,12,24,20,23,14,8,2,6,17,18,22,14,9,20,16,5,11,24,23,13,6,6,13,21,9,5,15,19,21,24,1,15,1,23,7,6,21,18,3,26,8,10,9,7,19,0,14,4,4,11,2,22,2],"game_seats":[[1,22,25,13,10,4,12,13,23,20,19,16,11],[26,17,17,8,19,0,15,9,14,18,18,8,10],[25,3,0,16,15,0,11,3,7,7,16,21,2,26],[25,12,12,5,20,22,4,17,10,1,24,5,26]]}',
     fangpaoshumu: 0,
     tinging: false,
     qiangGangContext: null },
  seatIndex: 0,
  userId: 100335,
  holds: [ 11, 12, 13, 6, 9, 10, 11, 12, 13, 14, 16, 19, 20 ],
  folds: [ 1, 4, 6, 25, 23, 13, 22 ],
  angangs: [],
  diangangs: [],
  wangangs: [],
  pengs: [],
  duoyu: [],
  countMap: 
   { '0': 0,
     '1': 0,
     '2': 0,
     '3': 0,
     '4': 0,
     '5': 0,
     '6': 1,
     '7': 0,
     '8': 0,
     '9': 1,
     '10': 1,
     '11': 2,
     '12': 2,
     '13': 2,
     '14': 1,
     '15': 0,
     '16': 1,
     '17': 0,
     '18': 0,
     '19': 1,
     '20': 1,
     '21': 0,
     '22': 0,
     '23': 0,
     '24': 0,
     '25': 0,
     '26': 0 },
  tingMap: {},
  pattern: '',
  canGang: false,
  gangPai: [],
  canPeng: true,
  canHu: false,
  canChuPai: false,
  canTing: false,
  tinged: false,
  guohu: false,
  hued: false,
  iszimo: false,
  dianpao: false,
  actions: [],
  score: 0,
  lastFangGangSeat: -1,
  numAnGang: 0,
  numMingGang: 0,
  gangfen: 0,
  hufen: 0 }
guo_result
false
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
do game over!
roomid :046275
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
ye shu = 9
UPDATE t_rooms SET next_button = 3 WHERE id = "046275"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523712921193046275',3,'{"type":"bymj","button":2,"index":3,"mahjongs":[25,25,1,26,3,12,22,17,0,12,25,17,16,5,13,8,15,20,10,19,0,22,4,0,11,4,12,15,3,17,13,9,7,10,23,14,7,1,20,18,16,24,19,18,21,5,16,8,2,26,11,10,26,3,25,12,24,20,23,14,8,2,6,17,18,22,14,9,20,16,5,11,24,23,13,6,6,13,21,9,5,15,19,21,24,1,15,1,23,7,6,21,18,3,26,8,10,9,7,19,0,14,4,4,11,2,22,2],"game_seats":[[1,22,25,13,10,4,12,13,23,20,19,16,11],[26,17,17,8,19,0,15,9,14,18,18,8,10],[25,3,0,16,15,0,11,3,7,7,16,21,2,26],[25,12,12,5,20,22,4,17,10,1,24,5,26]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[-4,-4,-6,14]' WHERE room_uuid = '1523712921193046275' AND game_index = 3
UPDATE t_games SET action_records = '[2,1,21,3,2,3,3,1,17,1,3,17,1,1,0,2,3,0,2,1,11,3,2,25,3,1,10,0,2,12,0,1,1,1,2,24,1,1,8,2,2,20,2,1,20,3,2,23,3,1,1,0,2,14,0,1,4,1,2,8,1,1,8,2,2,2,2,1,25,3,3,25,3,1,5,0,2,6,0,1,6,1,2,17,1,4,17,1,2,18,1,1,8,2,2,22,2,1,22,3,2,14,3,1,14,0,2,9,0,1,25,1,2,20,1,1,26,2,2,16,2,1,26,3,2,5,3,1,5,0,2,11,0,1,23,1,2,24,1,1,9,2,2,23,2,1,23,3,2,13,3,1,13,0,2,6,0,1,22,1,2,6,1,1,6,2,2,13,2,1,13,3,2,21,3,6,26,0,2,9,0,1,6,1,2,5,1,1,10,2,2,15,2,1,15,3,2,19,3,5,19]' WHERE room_uuid = '1523712921193046275' AND game_index = 3
UPDATE t_rooms SET num_of_turns = 4 WHERE id = "046275"
game_over_push
SELECT history FROM t_users WHERE userid = "100335"
SELECT history FROM t_users WHERE userid = "100334"
SELECT history FROM t_users WHERE userid = "100381"
SELECT history FROM t_users WHERE userid = "100341"
UPDATE t_users SET roomid = null WHERE userid = "100335"
UPDATE t_users SET roomid = null WHERE userid = "100334"
UPDATE t_users SET roomid = null WHERE userid = "100381"
UPDATE t_users SET roomid = null WHERE userid = "100341"
DELETE FROM t_rooms WHERE id = '046275'
INSERT INTO t_games_archive(SELECT * FROM t_games WHERE room_uuid = '1523712921193046275')
2730
UPDATE t_users SET roomid = null, history = '[{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523678996348220864","id":"220864","time":1523678997,"seats":[{"userid":100334,"name":"576k5Li7","score":6},{"userid":100390,"name":"6K+g6YeK","score":-2},{"userid":100335,"name":"5pyI5YWJ","score":-4},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523683566003780700","id":"780700","time":1523683566,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":0},{"userid":100390,"name":"6K+g6YeK","score":0},{"userid":100334,"name":"576k5Li7","score":0},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523685120094387583","id":"387583","time":1523685121,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":10},{"userid":100390,"name":"6K+g6YeK","score":8},{"userid":100333,"name":"5byg6bqf5Y2O","score":4},{"userid":100334,"name":"576k5Li7","score":-22}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]},{"uuid":"1523710749099520898","id":"520898","time":1523710750,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-18},{"userid":100341,"name":"Kl5f6L6JX14q","score":4},{"userid":100334,"name":"576k5Li7","score":-12},{"userid":100381,"name":"5pif54Gr","score":26}]},{"uuid":"1523712347389672772","id":"672772","time":1523712348,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-23},{"userid":100381,"name":"5pif54Gr","score":35},{"userid":100334,"name":"576k5Li7","score":-21},{"userid":100341,"name":"Kl5f6L6JX14q","score":9}]},{"uuid":"1523712921193046275","id":"046275","time":1523712922,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":5},{"userid":100334,"name":"576k5Li7","score":3},{"userid":100381,"name":"5pif54Gr","score":-5},{"userid":100341,"name":"Kl5f6L6JX14q","score":-3}]}]' WHERE userid = "100335"
2730
UPDATE t_users SET roomid = null, history = '[{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523678996348220864","id":"220864","time":1523678997,"seats":[{"userid":100334,"name":"576k5Li7","score":6},{"userid":100390,"name":"6K+g6YeK","score":-2},{"userid":100335,"name":"5pyI5YWJ","score":-4},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523683566003780700","id":"780700","time":1523683566,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":0},{"userid":100390,"name":"6K+g6YeK","score":0},{"userid":100334,"name":"576k5Li7","score":0},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523685120094387583","id":"387583","time":1523685121,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":10},{"userid":100390,"name":"6K+g6YeK","score":8},{"userid":100333,"name":"5byg6bqf5Y2O","score":4},{"userid":100334,"name":"576k5Li7","score":-22}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]},{"uuid":"1523710749099520898","id":"520898","time":1523710750,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-18},{"userid":100341,"name":"Kl5f6L6JX14q","score":4},{"userid":100334,"name":"576k5Li7","score":-12},{"userid":100381,"name":"5pif54Gr","score":26}]},{"uuid":"1523712347389672772","id":"672772","time":1523712348,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-23},{"userid":100381,"name":"5pif54Gr","score":35},{"userid":100334,"name":"576k5Li7","score":-21},{"userid":100341,"name":"Kl5f6L6JX14q","score":9}]},{"uuid":"1523712921193046275","id":"046275","time":1523712922,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":5},{"userid":100334,"name":"576k5Li7","score":3},{"userid":100381,"name":"5pif54Gr","score":-5},{"userid":100341,"name":"Kl5f6L6JX14q","score":-3}]}]' WHERE userid = "100334"
1942
UPDATE t_users SET roomid = null, history = '[{"uuid":"1523627417627130382","id":"130382","time":1523627418,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-7},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-10},{"userid":100381,"name":"5pif54Gr","score":4},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":13}]},{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]},{"uuid":"1523710749099520898","id":"520898","time":1523710750,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-18},{"userid":100341,"name":"Kl5f6L6JX14q","score":4},{"userid":100334,"name":"576k5Li7","score":-12},{"userid":100381,"name":"5pif54Gr","score":26}]},{"uuid":"1523712347389672772","id":"672772","time":1523712348,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-23},{"userid":100381,"name":"5pif54Gr","score":35},{"userid":100334,"name":"576k5Li7","score":-21},{"userid":100341,"name":"Kl5f6L6JX14q","score":9}]},{"uuid":"1523712921193046275","id":"046275","time":1523712922,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":5},{"userid":100334,"name":"576k5Li7","score":3},{"userid":100381,"name":"5pif54Gr","score":-5},{"userid":100341,"name":"Kl5f6L6JX14q","score":-3}]}]' WHERE userid = "100381"
2837
UPDATE t_users SET roomid = null, history = '[{"uuid":"1522674632945516960","id":"516960","time":1522674633,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-38},{"userid":100355,"name":"6ZW/5a2Z6ZuA5Zyj","score":-39},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-63},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":140}]},{"uuid":"1522675431210706479","id":"706479","time":1522675432,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":0},{"userid":100355,"name":"6ZW/5a2Z6ZuA5Zyj","score":0},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":0},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":0}]},{"uuid":"1523627417627130382","id":"130382","time":1523627418,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-7},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-10},{"userid":100381,"name":"5pif54Gr","score":4},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":13}]},{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]},{"uuid":"1523710749099520898","id":"520898","time":1523710750,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-18},{"userid":100341,"name":"Kl5f6L6JX14q","score":4},{"userid":100334,"name":"576k5Li7","score":-12},{"userid":100381,"name":"5pif54Gr","score":26}]},{"uuid":"1523712347389672772","id":"672772","time":1523712348,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-23},{"userid":100381,"name":"5pif54Gr","score":35},{"userid":100334,"name":"576k5Li7","score":-21},{"userid":100341,"name":"Kl5f6L6JX14q","score":9}]},{"uuid":"1523712921193046275","id":"046275","time":1523712922,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":5},{"userid":100334,"name":"576k5Li7","score":3},{"userid":100381,"name":"5pif54Gr","score":-5},{"userid":100341,"name":"Kl5f6L6JX14q","score":-3}]}]' WHERE userid = "100341"
DELETE FROM t_games WHERE room_uuid = '1523712921193046275'
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1IFv55ZW5ynqJByk17VH9_s"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N75c3Lu8hC08SI3VoH1tpE"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
++++++++++++++++++++++++++++++++++++
{"x":35.624342,"y":110.896858}
UPDATE t_users SET location='{"x":35.624342,"y":110.896858}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
{ account: 'wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc',
  sign: 'ff2f9ddfc830c2c1ad6e0a9f19303583',
  conf: '{"xuanzejushu":0,"paytype":1,"difen":1,"cheat":1,"fenghaozi":1,"clubId":"","type":"kdd"}' }
conf is{"xuanzejushu":0,"paytype":1,"difen":1,"cheat":1,"fenghaozi":1,"clubId":"","type":"kdd"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100335"
++++++++++++++++++++++++++++++++++++
{"x":35.624372,"y":110.896837}
UPDATE t_users SET location='{"x":35.624372,"y":110.896837}' WHERE account='wx_omM_A1IFv55ZW5ynqJByk17VH9_s'
SELECT gems FROM t_users WHERE userid = 100381
UPDATE t_users SET gems = gems+10 WHERE userid = 100335
UPDATE t_users SET gems = gems -10 WHERE userid = 100381
SELECT gems FROM t_users WHERE account = "wx_omM_A1IFv55ZW5ynqJByk17VH9_s"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
++++++++++++++++++++++++++++++++++++
{"x":35.624371,"y":110.896848}
UPDATE t_users SET location='{"x":35.624371,"y":110.896848}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT gems FROM t_users WHERE userid = 100335
UPDATE t_users SET gems = gems+5 WHERE userid = 100334
UPDATE t_users SET gems = gems -5 WHERE userid = 100335
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
{ account: 'wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc',
  sign: 'ff2f9ddfc830c2c1ad6e0a9f19303583',
  conf: '{"xuanzejushu":0,"paytype":1,"difen":1,"cheat":1,"fenghaozi":0,"clubId":"","type":"kdd"}' }
conf is{"xuanzejushu":0,"paytype":1,"difen":1,"cheat":1,"fenghaozi":0,"clubId":"","type":"kdd"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100335"
club_id is
{ type: 'kdd',
  baseScore: 1,
  isBaoTing: true,
  maxGames: 4,
  creator: 100335,
  paytype: 1,
  cheat: false,
  fenghaozi: 1,
  clubId: '' }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523713730613974822','974822','{"type":"kdd","baseScore":1,"isBaoTing":true,"maxGames":4,"creator":100335,"paytype":1,"cheat":false,"fenghaozi":1,"clubId":""}','127.0.0.1',10000,1523713731,100335,1,'')
1523713730613974822
SELECT ip,port FROM t_rooms WHERE id = "974822"
{ userid: '100335',
  name: '月光',
  roomid: '974822',
  sign: 'fd033549c4c5273c63453a3f91931ade' }
fd033549c4c5273c63453a3f91931ade
SELECT gems FROM t_users WHERE userid = 100335
UPDATE t_rooms SET user_id0 = 100335,user_icon0 = "",user_name0 = "5pyI5YWJ" WHERE id = "974822"
{ token: '09b661a7066bdd07b711a504394dd3eb',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "974822" WHERE userid = "100335"
974822
09b661a7066bdd07b711a504394dd3eb
1523713730631
b68d39f755b2a4fd24bf1e0fbd8aec5d
++++++++++++++++++++++++++++++++++++
{"x":35.62424,"y":110.896887}
UPDATE t_users SET location='{"x":35.62424,"y":110.896887}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
++++++++++++++++++++++++++++++++++++
{"x":35.624367,"y":110.896819}
UPDATE t_users SET location='{"x":35.624367,"y":110.896819}' WHERE account='wx_omM_A1N75c3Lu8hC08SI3VoH1tpE'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1IFv55ZW5ynqJByk17VH9_s"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=974822 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "974822"
{ userid: '100381',
  name: '星火',
  roomid: '974822',
  sign: '7c13029db4cb73ccebc1eb1ee9565a64' }
7c13029db4cb73ccebc1eb1ee9565a64
SELECT gems FROM t_users WHERE userid = 100381
UPDATE t_rooms SET user_id1 = 100381,user_icon1 = "",user_name1 = "5pif54Gr" WHERE id = "974822"
{ token: 'fa4dc6959e8cf8878228c1579b9b00e8',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "974822" WHERE userid = "100381"
974822
fa4dc6959e8cf8878228c1579b9b00e8
1523713739047
5ce003cc171fb1ea7679e2145dad5018
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=974822 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "974822"
{ userid: '100334',
  name: '群主',
  roomid: '974822',
  sign: '376d95826d7aebb0e2f89c7c91f7e477' }
376d95826d7aebb0e2f89c7c91f7e477
SELECT gems FROM t_users WHERE userid = 100334
UPDATE t_rooms SET user_id2 = 100334,user_icon2 = "",user_name2 = "576k5Li7" WHERE id = "974822"
{ token: 'a2e59c6d66282e13debfa10c9ba87b02',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "974822" WHERE userid = "100334"
974822
a2e59c6d66282e13debfa10c9ba87b02
1523713739662
104da86a75f74fbac8af7ce1c9e26102
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N75c3Lu8hC08SI3VoH1tpE"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=974822 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "974822"
{ userid: '100341',
  name: '*^_辉_^*',
  roomid: '974822',
  sign: '315248b88c6fdfdbcda2e2a191e473d4' }
315248b88c6fdfdbcda2e2a191e473d4
SELECT gems FROM t_users WHERE userid = 100341
UPDATE t_rooms SET user_id3 = 100341,user_icon3 = "",user_name3 = "Kl5f6L6JX14q" WHERE id = "974822"
{ token: '1b09a3748519200e2c6353e691671656',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "974822" WHERE userid = "100341"
974822
1b09a3748519200e2c6353e691671656
1523713741312
2cef0c523ceb1fafaa0befd7dc41849d
begin start==============974822
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
[ 2, 11, 12, 13, 14, 15, 17, 23, 24, 25, 16, 1, 0, 17 ]
do game over!
roomid :974822
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
胡牌9条
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523713730613974822',0,'{"type":"kdd","button":0,"index":0,"mahjongs":[32,13,0,20,24,18,28,31,26,21,31,4,16,7,10,30,0,18,22,13,14,29,20,6,6,14,9,5,4,12,15,0,1,30,1,24,15,11,33,29,17,22,12,3,33,21,27,28,23,23,14,30,12,16,9,6,2,4,6,33,11,3,24,25,13,2,25,26,2,11,16,5,1,10,1,32,10,12,0,16,5,27,8,9,10,22,27,23,33,20,30,26,7,2,31,7,17,7,11,17,24,19,8,5,23,32,18,19,4,25,13,17,29,27,15,3,25,28,22,19,14,18,32,15,28,21,9,3,20,31,19,8,29,8,26,21],"jin":[],"game_seats":[[32,24,26,16,0,14,6,4,1,15,17,33,23,12],[13,18,21,7,18,29,14,12,30,11,22,21,23],[0,28,31,10,22,20,9,15,1,33,12,27,14],[20,31,4,30,13,6,5,0,24,29,3,28,30]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[27,-9,-9,-9]' WHERE room_uuid = '1523713730613974822' AND game_index = 0
UPDATE t_games SET action_records = '[0,1,33,1,2,16,1,1,7,2,2,9,2,1,33,3,2,6,3,1,31,0,2,2,0,1,32,1,2,4,1,1,4,2,2,6,2,1,31,3,2,33,3,1,33,0,2,11,0,1,26,1,2,3,1,1,3,2,2,24,2,1,28,3,2,25,3,1,28,0,2,13,0,1,4,1,2,2,1,1,30,3,3,30,3,1,13,0,2,25,0,6,6,1,2,26,1,1,2,2,2,2,2,1,20,3,2,11,3,1,11,0,2,16,0,1,16,1,2,5,1,1,29,2,2,1,2,1,1,3,2,10,3,1,10,0,2,1,0,1,1,1,2,32,1,1,32,2,2,10,2,1,12,3,2,12,3,1,12,0,2,0,0,1,0,1,2,16,1,1,26,2,2,5,2,1,27,3,2,27,3,1,27,0,2,8,0,1,8,1,2,9,1,1,9,2,3,9,2,1,22,3,2,10,3,1,10,2,3,10,2,1,24,3,2,22,3,1,0,0,2,27,0,1,27,1,2,23,1,1,5,2,2,33,2,1,33,3,2,20,3,1,29,0,2,30,0,1,30,1,2,26,1,1,26,2,2,7,2,6,14,3,2,2,3,1,2,0,2,31,0,1,31,1,2,7,1,1,7,2,2,17,2,1,17]' WHERE room_uuid = '1523713730613974822' AND game_index = 0
UPDATE t_rooms SET num_of_turns = 1 WHERE id = "974822"
UPDATE t_users SET gems = gems -1 WHERE userid = 100335
UPDATE t_users SET gems = gems -1 WHERE userid = 100381
UPDATE t_users SET gems = gems -1 WHERE userid = 100334
UPDATE t_users SET gems = gems -1 WHERE userid = 100341
game_over_push
begin start==============974822
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
guo=================================100381
guo_result
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
guo=================================100335
guo_result
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
[ 2, 17, 2, 10, 11, 12, 14, 15, 16, 17, 17 ]
do game over!
roomid :974822
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
胡牌9条
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523713730613974822',1,'{"type":"kdd","button":0,"index":1,"mahjongs":[2,22,16,10,18,9,23,33,31,22,16,15,11,29,11,14,7,14,31,2,28,21,26,6,16,27,6,5,17,25,17,5,19,20,6,7,3,8,4,32,12,12,26,24,11,24,18,1,2,25,5,13,25,32,7,4,3,13,8,22,21,10,12,4,0,24,0,17,29,15,4,9,31,13,30,10,26,13,25,26,29,15,23,14,29,28,3,32,24,9,28,21,19,23,14,1,17,16,27,19,20,11,8,0,9,33,31,22,30,0,5,3,2,28,20,33,20,10,6,32,21,15,19,1,7,27,30,1,33,27,12,18,8,18,30,23],"jin":[],"game_seats":[[2,18,31,11,7,28,16,17,19,3,12,11,2,25],[22,9,22,29,14,21,27,25,20,8,12,24,25],[16,23,16,11,31,26,6,17,6,4,26,18,5],[10,33,15,14,2,6,5,5,7,32,24,1,13]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[27,-9,-9,-9]' WHERE room_uuid = '1523713730613974822' AND game_index = 1
UPDATE t_games SET action_records = '[0,1,31,1,2,32,1,1,29,2,2,7,2,1,31,3,2,4,3,1,33,0,2,3,0,1,28,1,2,13,1,1,9,2,2,8,2,1,18,3,2,22,3,1,32,0,2,21,0,1,25,1,3,25,1,1,32,2,2,10,2,1,17,3,2,12,3,1,10,0,2,4,0,1,18,1,2,0,1,1,0,2,2,24,2,1,8,3,2,0,3,1,24,0,2,17,0,1,7,1,2,29,1,1,29,2,2,15,2,1,15,3,2,4,3,1,22,0,2,9,0,1,9,1,2,31,1,1,31,2,2,13,2,1,13,3,2,30,3,1,30,0,2,10,0,1,11,1,2,26,1,1,8,2,2,13,2,1,13,3,2,25,3,1,25,0,2,26,0,1,26,2,3,26,2,1,10,3,2,29,3,1,29,0,2,15,0,1,19,1,2,23,1,6,27,2,2,14,2,1,11,3,2,29,3,1,29,0,2,28,0,1,28,1,2,3,1,1,3,0,3,3,0,1,21,1,2,32,1,1,32,2,2,24,2,1,14,3,2,9,3,1,9,0,2,28,0,1,28,1,2,21,1,1,21,2,2,19,2,1,19,3,2,23,3,1,23,0,2,14,0,1,4,3,3,4,3,6,15,0,2,1,0,6,1,1,2,17,1,1,17]' WHERE room_uuid = '1523713730613974822' AND game_index = 1
UPDATE t_rooms SET num_of_turns = 2 WHERE id = "974822"
game_over_push
begin start==============974822
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
guo=================================100334
guo_result
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
gang=============100335       31
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
[ 8, 16, 23, 22, 16, 21, 6, 7 ]
do game over!
roomid :974822
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
胡牌8筒
UPDATE t_rooms SET next_button = 1 WHERE id = "974822"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523713730613974822',2,'{"type":"kdd","button":0,"index":2,"mahjongs":[30,23,8,32,31,0,18,19,3,26,19,20,17,16,30,9,1,20,14,28,18,22,12,15,32,26,23,5,30,16,0,1,31,9,4,26,13,0,14,27,26,2,20,27,10,27,18,21,9,5,13,29,5,21,1,29,7,8,3,10,8,24,6,30,15,19,12,25,11,12,29,27,1,24,15,15,6,19,24,25,22,13,2,31,22,33,18,16,16,33,14,11,32,31,28,4,32,3,22,17,4,20,9,25,2,10,21,11,11,23,6,7,33,28,13,8,7,33,10,17,17,12,24,29,3,14,21,23,28,4,25,2,0,6,5,7],"jin":[],"game_seats":[[30,31,3,17,1,18,32,30,31,13,26,10,9,5],[23,0,26,16,20,22,26,16,9,0,2,27,5],[8,18,19,30,14,12,23,0,4,14,20,18,13],[32,19,20,9,28,15,5,1,26,27,27,21,29]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[22,14,-18,-18]' WHERE room_uuid = '1523713730613974822' AND game_index = 2
UPDATE t_games SET action_records = '[0,1,32,1,2,21,1,1,27,3,3,27,3,1,9,0,2,1,0,1,18,2,3,18,2,1,0,1,3,0,1,1,9,2,2,29,2,1,29,3,2,7,3,1,1,0,3,1,0,1,26,1,3,26,1,1,2,2,2,8,2,1,4,3,2,3,3,1,29,0,2,10,0,1,9,1,2,8,1,1,5,2,2,24,2,1,30,0,3,30,0,1,13,1,2,6,1,6,20,2,2,30,2,1,14,3,2,15,3,1,32,0,2,19,0,1,19,1,2,12,1,1,12,2,2,25,2,1,30,3,2,11,3,1,28,0,2,12,0,1,17,1,2,29,1,1,29,2,2,27,2,1,20,3,2,1,3,1,11,0,2,24,0,1,24,1,2,15,1,1,15,3,3,15,3,1,26,0,2,15,0,1,15,1,2,6,1,1,6,2,2,19,2,1,27,3,2,24,3,1,24,0,2,25,0,1,25,1,2,22,1,1,22,2,2,13,2,6,13,3,2,2,3,6,5,0,2,31,0,1,12,1,2,22,1,1,22,2,2,33,2,1,33,3,2,18,3,1,18,0,2,16,0,1,16,1,2,16,1,1,16,2,2,33,2,1,33,3,2,14,3,1,14,0,2,11,0,1,11,1,2,32,1,1,32,2,2,31,2,1,31,0,4,31,0,2,28,0,1,28,1,2,4,1,1,4,2,2,32,2,1,32,3,2,3,3,1,3,0,2,22,0,1,22,1,2,17,1,1,17,2,2,4,2,1,4,3,2,20,3,1,20,0,2,9,0,1,9,1,2,25,1,1,25,2,2,2,2,1,2,3,2,10,3,1,10,0,3,10,0,6,3,1,2,21,1,1,21,2,2,11,2,1,11,3,2,11,3,1,11,0,2,23,0,1,23,1,2,6,1,1,6,2,2,7,2,1,7]' WHERE room_uuid = '1523713730613974822' AND game_index = 2
UPDATE t_rooms SET num_of_turns = 3 WHERE id = "974822"
game_over_push
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=974822 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "974822"
{ userid: '100335',
  name: '月光',
  roomid: '974822',
  sign: 'fd033549c4c5273c63453a3f91931ade' }
fd033549c4c5273c63453a3f91931ade
SELECT gems FROM t_users WHERE userid = 100335
{ token: '3d225bda6a7ba1b3730281357a22f74f',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "974822" WHERE userid = "100335"
974822
3d225bda6a7ba1b3730281357a22f74f
1523714568568
1ee3f52b78840702b8a0daddf1afb23b
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=974822 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "974822"
{ userid: '100334',
  name: '群主',
  roomid: '974822',
  sign: '376d95826d7aebb0e2f89c7c91f7e477' }
376d95826d7aebb0e2f89c7c91f7e477
SELECT gems FROM t_users WHERE userid = 100334
{ token: '674710181df7773667aa0dd72e7a02d2',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "974822" WHERE userid = "100334"
974822
674710181df7773667aa0dd72e7a02d2
1523714606544
2657a333fdb79adabc812457890c0590
begin start==============974822
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
gang=============100381       27
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
[ 28, 28, 6, 8, 11, 12, 13, 17, 28, 7, 17 ]
do game over!
roomid :974822
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
胡牌9条
UPDATE t_rooms SET next_button = 2 WHERE id = "974822"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523713730613974822',3,'{"type":"kdd","button":1,"index":3,"mahjongs":[4,24,12,0,18,17,5,3,27,28,31,1,19,18,14,18,4,24,23,14,13,14,33,11,23,25,15,17,0,33,1,18,27,30,19,9,20,28,2,3,16,31,25,2,12,28,21,10,33,11,7,15,1,12,12,24,0,32,30,26,13,7,19,10,6,6,8,26,19,5,31,29,10,23,33,26,22,20,4,0,30,32,22,27,8,29,24,14,2,30,17,7,15,1,25,10,13,27,2,3,32,32,21,7,4,9,29,21,9,29,20,21,16,25,17,20,11,16,5,13,15,23,9,22,22,8,16,8,6,28,11,26,6,31,3,5],"jin":[],"game_seats":[[0,3,1,18,14,11,17,18,9,3,2,10,15],[4,18,27,19,4,13,23,0,27,20,16,12,33,1],[24,17,28,18,24,14,25,33,30,28,31,28,11],[12,5,31,14,23,33,15,1,19,2,25,21,7]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[-19,21,17,-19]' WHERE room_uuid = '1523713730613974822' AND game_index = 3
UPDATE t_games SET action_records = '[1,1,33,2,2,12,2,1,30,3,2,12,3,1,33,0,2,24,0,1,17,1,2,0,1,1,16,2,2,32,2,1,31,3,2,30,3,1,30,0,2,26,0,1,26,1,2,13,1,1,1,2,2,7,2,1,32,3,2,19,3,1,31,0,2,10,0,1,10,1,2,6,1,1,23,2,2,6,2,1,33,3,2,8,3,1,8,0,2,26,0,1,26,1,2,19,1,1,19,3,3,19,3,1,21,0,2,5,0,1,24,2,3,24,2,1,25,3,2,31,3,1,25,0,2,29,0,1,29,1,2,10,1,1,10,2,2,23,2,1,23,3,2,33,3,1,23,0,2,26,0,1,26,1,2,22,1,1,22,2,2,20,2,1,14,3,2,4,3,1,33,0,2,0,0,1,0,1,3,0,1,1,12,3,3,12,3,1,31,0,2,30,0,1,30,1,2,32,1,1,32,2,2,22,2,1,18,0,3,18,0,6,5,1,2,27,1,6,4,2,2,8,2,1,20,3,2,29,3,1,29,0,2,24,0,1,24,1,2,14,1,1,14,2,2,2,2,1,2,3,2,30,3,1,30,0,2,17,0,1,17,1,2,7,1,1,7,2,2,15,2,1,22,3,2,1,3,1,2,0,2,25,0,1,25,1,2,10,1,1,10,2,2,13,2,6,15,3,2,27,3,1,27,1,4,27,1,2,2,1,1,2,2,2,3,2,1,3,3,2,32,3,1,32,0,2,32,0,1,32,1,2,21,1,1,21,2,2,7,2,1,7,3,2,4,3,1,4,0,2,9,0,1,9,1,2,29,1,1,29,2,2,21,2,1,21,3,2,9,3,1,9,0,2,29,0,1,29,1,2,20,1,1,20,2,2,21,2,1,21,3,2,16,3,6,4,0,2,25,0,1,25,1,2,17,1,1,17]' WHERE room_uuid = '1523713730613974822' AND game_index = 3
UPDATE t_rooms SET num_of_turns = 4 WHERE id = "974822"
game_over_push
SELECT history FROM t_users WHERE userid = "100335"
SELECT history FROM t_users WHERE userid = "100381"
SELECT history FROM t_users WHERE userid = "100334"
SELECT history FROM t_users WHERE userid = "100341"
UPDATE t_users SET roomid = null WHERE userid = "100335"
UPDATE t_users SET roomid = null WHERE userid = "100381"
UPDATE t_users SET roomid = null WHERE userid = "100334"
UPDATE t_users SET roomid = null WHERE userid = "100341"
DELETE FROM t_rooms WHERE id = '974822'
INSERT INTO t_games_archive(SELECT * FROM t_games WHERE room_uuid = '1523713730613974822')
2708
UPDATE t_users SET roomid = null, history = '[{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523678996348220864","id":"220864","time":1523678997,"seats":[{"userid":100334,"name":"576k5Li7","score":6},{"userid":100390,"name":"6K+g6YeK","score":-2},{"userid":100335,"name":"5pyI5YWJ","score":-4},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523683566003780700","id":"780700","time":1523683566,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":0},{"userid":100390,"name":"6K+g6YeK","score":0},{"userid":100334,"name":"576k5Li7","score":0},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523685120094387583","id":"387583","time":1523685121,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":10},{"userid":100390,"name":"6K+g6YeK","score":8},{"userid":100333,"name":"5byg6bqf5Y2O","score":4},{"userid":100334,"name":"576k5Li7","score":-22}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]},{"uuid":"1523710749099520898","id":"520898","time":1523710750,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-18},{"userid":100341,"name":"Kl5f6L6JX14q","score":4},{"userid":100334,"name":"576k5Li7","score":-12},{"userid":100381,"name":"5pif54Gr","score":26}]},{"uuid":"1523712347389672772","id":"672772","time":1523712348,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-23},{"userid":100381,"name":"5pif54Gr","score":35},{"userid":100334,"name":"576k5Li7","score":-21},{"userid":100341,"name":"Kl5f6L6JX14q","score":9}]},{"uuid":"1523712921193046275","id":"046275","time":1523712922,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":5},{"userid":100334,"name":"576k5Li7","score":3},{"userid":100381,"name":"5pif54Gr","score":-5},{"userid":100341,"name":"Kl5f6L6JX14q","score":-3}]},{"uuid":"1523713730613974822","id":"974822","time":1523713731,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":57},{"userid":100381,"name":"5pif54Gr","score":17},{"userid":100334,"name":"576k5Li7","score":-19},{"userid":100341,"name":"Kl5f6L6JX14q","score":-55}]}]' WHERE userid = "100335"
2205
UPDATE t_users SET roomid = null, history = '[{"uuid":"1523627417627130382","id":"130382","time":1523627418,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-7},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-10},{"userid":100381,"name":"5pif54Gr","score":4},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":13}]},{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]},{"uuid":"1523710749099520898","id":"520898","time":1523710750,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-18},{"userid":100341,"name":"Kl5f6L6JX14q","score":4},{"userid":100334,"name":"576k5Li7","score":-12},{"userid":100381,"name":"5pif54Gr","score":26}]},{"uuid":"1523712347389672772","id":"672772","time":1523712348,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-23},{"userid":100381,"name":"5pif54Gr","score":35},{"userid":100334,"name":"576k5Li7","score":-21},{"userid":100341,"name":"Kl5f6L6JX14q","score":9}]},{"uuid":"1523712921193046275","id":"046275","time":1523712922,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":5},{"userid":100334,"name":"576k5Li7","score":3},{"userid":100381,"name":"5pif54Gr","score":-5},{"userid":100341,"name":"Kl5f6L6JX14q","score":-3}]},{"uuid":"1523713730613974822","id":"974822","time":1523713731,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":57},{"userid":100381,"name":"5pif54Gr","score":17},{"userid":100334,"name":"576k5Li7","score":-19},{"userid":100341,"name":"Kl5f6L6JX14q","score":-55}]}]' WHERE userid = "100381"
2708
UPDATE t_users SET roomid = null, history = '[{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523678996348220864","id":"220864","time":1523678997,"seats":[{"userid":100334,"name":"576k5Li7","score":6},{"userid":100390,"name":"6K+g6YeK","score":-2},{"userid":100335,"name":"5pyI5YWJ","score":-4},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523683566003780700","id":"780700","time":1523683566,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":0},{"userid":100390,"name":"6K+g6YeK","score":0},{"userid":100334,"name":"576k5Li7","score":0},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523685120094387583","id":"387583","time":1523685121,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":10},{"userid":100390,"name":"6K+g6YeK","score":8},{"userid":100333,"name":"5byg6bqf5Y2O","score":4},{"userid":100334,"name":"576k5Li7","score":-22}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]},{"uuid":"1523710749099520898","id":"520898","time":1523710750,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-18},{"userid":100341,"name":"Kl5f6L6JX14q","score":4},{"userid":100334,"name":"576k5Li7","score":-12},{"userid":100381,"name":"5pif54Gr","score":26}]},{"uuid":"1523712347389672772","id":"672772","time":1523712348,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-23},{"userid":100381,"name":"5pif54Gr","score":35},{"userid":100334,"name":"576k5Li7","score":-21},{"userid":100341,"name":"Kl5f6L6JX14q","score":9}]},{"uuid":"1523712921193046275","id":"046275","time":1523712922,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":5},{"userid":100334,"name":"576k5Li7","score":3},{"userid":100381,"name":"5pif54Gr","score":-5},{"userid":100341,"name":"Kl5f6L6JX14q","score":-3}]},{"uuid":"1523713730613974822","id":"974822","time":1523713731,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":57},{"userid":100381,"name":"5pif54Gr","score":17},{"userid":100334,"name":"576k5Li7","score":-19},{"userid":100341,"name":"Kl5f6L6JX14q","score":-55}]}]' WHERE userid = "100334"
2791
UPDATE t_users SET roomid = null, history = '[{"uuid":"1522675431210706479","id":"706479","time":1522675432,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":0},{"userid":100355,"name":"6ZW/5a2Z6ZuA5Zyj","score":0},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":0},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":0}]},{"uuid":"1523627417627130382","id":"130382","time":1523627418,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-7},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-10},{"userid":100381,"name":"5pif54Gr","score":4},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":13}]},{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]},{"uuid":"1523710749099520898","id":"520898","time":1523710750,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-18},{"userid":100341,"name":"Kl5f6L6JX14q","score":4},{"userid":100334,"name":"576k5Li7","score":-12},{"userid":100381,"name":"5pif54Gr","score":26}]},{"uuid":"1523712347389672772","id":"672772","time":1523712348,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-23},{"userid":100381,"name":"5pif54Gr","score":35},{"userid":100334,"name":"576k5Li7","score":-21},{"userid":100341,"name":"Kl5f6L6JX14q","score":9}]},{"uuid":"1523712921193046275","id":"046275","time":1523712922,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":5},{"userid":100334,"name":"576k5Li7","score":3},{"userid":100381,"name":"5pif54Gr","score":-5},{"userid":100341,"name":"Kl5f6L6JX14q","score":-3}]},{"uuid":"1523713730613974822","id":"974822","time":1523713731,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":57},{"userid":100381,"name":"5pif54Gr","score":17},{"userid":100334,"name":"576k5Li7","score":-19},{"userid":100341,"name":"Kl5f6L6JX14q","score":-55}]}]' WHERE userid = "100341"
DELETE FROM t_games WHERE room_uuid = '1523713730613974822'
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N75c3Lu8hC08SI3VoH1tpE"
SELECT * FROM t_message WHERE type = "notice"
++++++++++++++++++++++++++++++++++++
{"x":35.624361,"y":110.896855}
UPDATE t_users SET location='{"x":35.624361,"y":110.896855}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
++++++++++++++++++++++++++++++++++++
{"x":35.624371,"y":110.896836}
UPDATE t_users SET location='{"x":35.624371,"y":110.896836}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1IFv55ZW5ynqJByk17VH9_s"
{ account: 'wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc',
  sign: 'ff2f9ddfc830c2c1ad6e0a9f19303583',
  conf: '{"xuanzejushu":0,"paytype":1,"difen":1,"cheat":1,"fenghaozi":1,"clubId":"","type":"kdd"}' }
conf is{"xuanzejushu":0,"paytype":1,"difen":1,"cheat":1,"fenghaozi":1,"clubId":"","type":"kdd"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100335"
club_id is
{ type: 'kdd',
  baseScore: 1,
  isBaoTing: true,
  maxGames: 4,
  creator: 100335,
  paytype: 1,
  cheat: false,
  fenghaozi: 2,
  clubId: '' }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523714856969534803','534803','{"type":"kdd","baseScore":1,"isBaoTing":true,"maxGames":4,"creator":100335,"paytype":1,"cheat":false,"fenghaozi":2,"clubId":""}','127.0.0.1',10000,1523714857,100335,1,'')
1523714856969534803
SELECT ip,port FROM t_rooms WHERE id = "534803"
{ userid: '100335',
  name: '月光',
  roomid: '534803',
  sign: '01f680e5f8a62df80ee10001a5ec1d37' }
01f680e5f8a62df80ee10001a5ec1d37
SELECT gems FROM t_users WHERE userid = 100335
UPDATE t_rooms SET user_id0 = 100335,user_icon0 = "",user_name0 = "5pyI5YWJ" WHERE id = "534803"
{ token: '6d5f4756609cad127ba04c8d5f6ca503',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "534803" WHERE userid = "100335"
534803
6d5f4756609cad127ba04c8d5f6ca503
1523714856983
bde2f1cf7b0e06b73bccdc33e36c5902
++++++++++++++++++++++++++++++++++++
{"x":35.624368,"y":110.896853}
UPDATE t_users SET location='{"x":35.624368,"y":110.896853}' WHERE account='wx_omM_A1IFv55ZW5ynqJByk17VH9_s'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N75c3Lu8hC08SI3VoH1tpE"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=534803 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "534803"
{ userid: '100341',
  name: '*^_辉_^*',
  roomid: '534803',
  sign: 'affa5f64093283311cce3d9953458918' }
affa5f64093283311cce3d9953458918
SELECT gems FROM t_users WHERE userid = 100341
UPDATE t_rooms SET user_id1 = 100341,user_icon1 = "",user_name1 = "Kl5f6L6JX14q" WHERE id = "534803"
{ token: 'b3f38330f2b3a92d955f29f5e4e65913',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "534803" WHERE userid = "100341"
534803
b3f38330f2b3a92d955f29f5e4e65913
1523714865806
9b17b3e2a86767e095b7f352222c651d
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1IFv55ZW5ynqJByk17VH9_s"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=534803 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "534803"
{ userid: '100381',
  name: '星火',
  roomid: '534803',
  sign: '0db14aaa359c284a1c5152aa90904698' }
0db14aaa359c284a1c5152aa90904698
SELECT gems FROM t_users WHERE userid = 100381
UPDATE t_rooms SET user_id2 = 100381,user_icon2 = "",user_name2 = "5pif54Gr" WHERE id = "534803"
{ token: '5b993042b04fe01a3f07e6b1523d46ad',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "534803" WHERE userid = "100381"
534803
5b993042b04fe01a3f07e6b1523d46ad
1523714867541
68466ee2273a31f02f0d78dea32996dd
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=534803 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "534803"
{ userid: '100334',
  name: '群主',
  roomid: '534803',
  sign: 'b1a7c71023e100e1fbff68707ebfb7de' }
b1a7c71023e100e1fbff68707ebfb7de
SELECT gems FROM t_users WHERE userid = 100334
UPDATE t_rooms SET user_id3 = 100334,user_icon3 = "",user_name3 = "576k5Li7" WHERE id = "534803"
{ token: '8b2d68a158355a5643222608958cc909',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "534803" WHERE userid = "100334"
534803
8b2d68a158355a5643222608958cc909
1523714868421
2764d4b2eb7204cf4430762938a4830b
begin start==============534803
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
[ 28, 26, 13, 14, 15, 21, 22, 23, 26, 28, 28 ]
do game over!
roomid :534803
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
胡牌西风
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523714856969534803',0,'{"type":"kdd","button":0,"index":0,"mahjongs":[1,24,8,24,32,27,27,19,30,23,6,32,2,23,5,12,7,22,5,23,22,18,10,16,27,14,26,7,22,7,25,32,9,15,33,26,19,21,25,11,13,20,6,16,30,3,20,18,26,17,30,5,14,15,3,25,30,17,33,15,1,17,21,9,3,25,4,28,19,31,11,28,9,29,31,11,18,15,13,21,14,17,33,11,10,13,33,23,2,20,31,7,10,14,12,26,31,10,28,29,24,2,29,6,20,28,1,13,12,18,5,4,32,2,16,8,9,0,4,12,21,3,29,4,6,0,8,0,0,1,16,22,24,27,8,19],"jin":[29],"game_seats":[[1,32,30,2,7,22,27,22,9,19,13,30,26,14],[24,27,23,23,22,18,14,7,15,21,20,3,17],[8,27,6,5,5,10,26,25,33,25,6,20,30],[24,19,32,12,23,16,7,32,26,11,16,18,5]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[30,0,0,-30]' WHERE room_uuid = '1523714856969534803' AND game_index = 0
UPDATE t_games SET action_records = '[0,1,27,1,2,15,1,1,27,2,2,3,2,1,33,3,2,25,3,1,11,0,2,30,0,1,30,1,2,17,1,1,3,2,2,33,2,1,30,0,3,30,0,1,32,3,3,32,3,1,12,0,2,15,0,1,9,1,2,1,1,1,1,2,2,17,2,1,33,3,2,21,3,1,18,0,2,9,0,1,9,1,2,3,1,1,7,2,2,25,2,1,10,3,2,4,3,1,4,0,2,28,0,1,7,1,2,19,1,1,3,2,2,31,2,1,20,3,2,11,3,1,11,0,2,28,0,1,19,1,2,9,1,1,9,2,2,29,2,1,31,3,2,31,3,1,31,0,2,11,0,1,11,1,2,18,1,1,23,2,2,15,2,1,27,3,2,13,3,1,13,0,2,21,0,1,1,1,2,14,1,1,14,2,2,17,2,1,3,3,2,33,3,1,33,0,2,11,0,1,2,1,2,10,1,1,10,2,2,13,2,1,8,3,2,33,3,1,33,0,2,23,0,1,11,1,2,2,1,1,2,2,2,20,2,1,20,3,2,31,3,1,31,0,2,7,0,1,22,1,2,10,1,1,10,2,2,14,2,6,26,3,2,12,3,1,12,0,2,26,0,6,7,1,2,31,1,1,31,2,2,10,2,1,10,3,2,28,3,1,28]' WHERE room_uuid = '1523714856969534803' AND game_index = 0
UPDATE t_rooms SET num_of_turns = 1 WHERE id = "534803"
UPDATE t_users SET gems = gems -1 WHERE userid = 100335
UPDATE t_users SET gems = gems -1 WHERE userid = 100341
UPDATE t_users SET gems = gems -1 WHERE userid = 100381
UPDATE t_users SET gems = gems -1 WHERE userid = 100334
game_over_push
begin start==============534803
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
do game over!
roomid :534803
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
胡牌8万
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523714856969534803',1,'{"type":"kdd","button":0,"index":1,"mahjongs":[4,1,6,25,0,16,26,28,24,30,22,19,23,11,27,17,18,18,6,22,15,14,16,30,4,29,32,7,12,16,9,8,12,6,10,17,30,25,4,5,7,13,11,3,11,2,20,28,11,7,10,30,21,19,33,27,5,31,8,27,31,24,32,32,0,19,5,17,2,20,13,26,25,8,10,5,29,0,18,22,3,1,2,16,23,10,21,3,18,4,28,20,12,29,9,20,23,31,26,0,24,33,1,9,3,15,2,9,17,22,6,33,13,28,23,24,21,27,25,12,19,15,33,8,29,13,1,14,21,15,14,26,14,32,31,7],"jin":[29],"game_seats":[[4,0,24,23,18,15,4,12,12,30,7,11,11,21],[1,16,30,11,18,14,29,16,6,25,13,2,7],[6,26,22,27,6,16,32,9,10,4,11,20,10],[25,28,19,17,22,30,7,8,17,5,3,28,30]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[48,-16,-16,-16]' WHERE room_uuid = '1523714856969534803' AND game_index = 1
UPDATE t_games SET action_records = '[0,1,30,3,3,30,3,1,19,0,2,19,0,1,0,1,2,33,1,1,30,2,2,27,2,1,32,3,2,5,3,1,22,0,2,31,0,1,7,1,2,8,1,1,18,2,2,27,2,1,4,0,3,4,0,1,31,1,2,31,1,1,31,2,2,24,2,1,16,1,3,16,1,1,11,0,3,11,0,1,18,1,2,32,1,1,32,2,2,32,2,1,10,3,2,0,3,1,0,0,2,19,0,1,15,1,2,5,1,1,25,2,2,17,2,1,32,3,2,2,3,1,25,0,2,20,0,6,19,1,2,13,1,1,33,2,2,26,2,1,17,3,3,17,3,1,2,0,2,25,0,5,25]' WHERE room_uuid = '1523714856969534803' AND game_index = 1
UPDATE t_rooms SET num_of_turns = 2 WHERE id = "534803"
game_over_push
begin start==============534803
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
game_mopai_push
game_action_push
game_action_push
guo=================================100381
guo_result
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
guo=================================100381
guo_result
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
guo=================================100334
guo_result
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
guo=================================100334
guo_result
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
[ 4, 4, 15, 17, 16 ]
do game over!
roomid :534803
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
胡牌8条
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523714856969534803',2,'{"type":"kdd","button":0,"index":2,"mahjongs":[31,15,31,28,5,26,19,17,15,16,2,17,17,27,26,33,12,21,20,5,12,1,29,22,9,26,9,9,14,31,0,31,18,5,7,11,27,3,18,28,21,15,30,16,5,11,22,25,2,22,18,19,14,18,32,10,4,30,28,30,33,22,23,26,23,8,29,4,8,1,32,24,10,6,4,27,25,25,27,23,20,14,7,21,12,32,32,19,2,2,10,17,24,16,3,24,30,0,4,29,19,33,6,3,3,20,33,13,24,23,7,12,13,11,1,11,29,0,8,7,25,15,21,9,20,13,10,28,6,0,1,8,6,14,16,13],"jin":[28],"game_seats":[[31,5,15,17,12,12,9,14,18,27,21,5,2,14],[15,26,16,27,21,1,26,31,5,3,15,11,22],[31,19,2,26,20,29,9,0,7,18,30,22,18],[28,17,17,33,5,22,9,31,11,28,16,25,19]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[24,-8,-8,-8]' WHERE room_uuid = '1523714856969534803' AND game_index = 2
UPDATE t_games SET action_records = '[0,1,31,1,2,18,1,1,18,2,2,32,2,1,9,3,2,10,3,1,31,0,2,4,0,1,27,1,2,30,1,1,31,2,2,28,2,1,31,3,2,30,3,1,30,0,2,33,0,1,18,1,2,22,1,1,30,2,2,23,2,1,18,3,2,26,3,1,33,0,2,23,0,1,33,1,2,8,1,1,27,2,2,29,2,1,30,3,2,4,3,1,19,0,2,8,0,1,9,1,2,1,1,1,11,2,2,32,2,1,7,3,2,24,3,1,22,1,3,22,1,1,21,2,2,10,2,1,10,3,2,6,3,6,16,0,2,4,0,1,21,1,2,27,1,1,27,2,2,25,2,1,2,3,2,25,3,1,25,0,2,27,0,1,27,1,2,23,1,1,3,2,2,20,2,1,0,3,2,14,3,1,14,0,3,14,0,1,23,1,2,7,1,1,5,0,3,5,0,1,8,1,2,21,1,1,21,2,2,12,2,1,12,0,3,12,0,6,2,1,2,32,1,1,32,2,3,32,2,6,20,3,2,32,3,1,32,0,2,19,0,1,19,1,2,2,1,1,2,2,2,2,2,1,2,3,2,10,3,1,10,0,2,17,0,1,17,1,2,24,1,1,1,2,2,16,2,1,16]' WHERE room_uuid = '1523714856969534803' AND game_index = 2
UPDATE t_rooms SET num_of_turns = 3 WHERE id = "534803"
game_over_push
begin start==============534803
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
2462
game_mopai_push
game_action_push
guo=================================100334
guo_result
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
[ 24, 31, 12, 13, 14, 16, 17, 23, 24, 31, 15 ]
do game over!
roomid :534803
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
胡牌7条
UPDATE t_rooms SET next_button = 1 WHERE id = "534803"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523714856969534803',3,'{"type":"kdd","button":0,"index":3,"mahjongs":[16,14,32,1,15,7,30,24,21,1,4,8,16,21,12,11,13,19,26,25,2,19,10,29,7,1,31,19,6,5,13,8,32,3,29,17,10,27,24,8,33,21,26,20,20,7,18,31,32,7,24,4,5,28,14,13,1,15,16,20,15,6,31,17,28,33,26,9,30,13,23,20,28,14,17,12,28,15,11,9,19,29,12,12,2,23,3,25,22,32,26,27,11,29,31,18,25,6,22,33,0,23,30,18,4,5,6,4,14,8,11,0,3,30,10,2,33,0,9,18,10,27,0,2,22,24,5,3,22,9,16,25,27,17,21,23],"jin":[31],"game_seats":[[16,15,21,16,13,2,7,6,32,10,33,20,32,5],[14,7,1,21,19,19,1,5,3,27,21,7,7],[32,30,4,12,26,10,31,13,29,24,26,18,24],[1,24,8,11,25,29,19,8,17,8,20,31,4]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[-7,-7,21,-7]' WHERE room_uuid = '1523714856969534803' AND game_index = 3
UPDATE t_games SET action_records = '[0,1,33,1,2,28,1,1,27,2,2,14,2,1,30,3,2,13,3,1,29,0,2,1,0,1,10,1,2,15,1,1,28,2,2,16,2,1,29,3,2,20,3,1,11,0,2,15,0,1,13,1,2,6,1,1,3,2,2,31,2,1,18,3,2,17,3,1,1,1,3,1,1,1,19,2,2,28,2,1,28,3,2,33,3,1,33,0,2,26,0,1,26,2,3,26,2,1,10,3,2,9,3,1,9,0,2,30,0,1,30,1,2,13,1,6,19,2,2,23,2,1,4,3,2,20,3,1,19,0,2,28,0,1,28,1,2,14,1,1,14,2,2,17,2,6,32,3,2,12,3,1,4,0,2,28,0,1,28,1,2,15,1,1,15]' WHERE room_uuid = '1523714856969534803' AND game_index = 3
UPDATE t_rooms SET num_of_turns = 4 WHERE id = "534803"
game_over_push
SELECT history FROM t_users WHERE userid = "100335"
SELECT history FROM t_users WHERE userid = "100341"
SELECT history FROM t_users WHERE userid = "100381"
SELECT history FROM t_users WHERE userid = "100334"
UPDATE t_users SET roomid = null WHERE userid = "100335"
UPDATE t_users SET roomid = null WHERE userid = "100341"
UPDATE t_users SET roomid = null WHERE userid = "100381"
UPDATE t_users SET roomid = null WHERE userid = "100334"
DELETE FROM t_rooms WHERE id = '534803'
INSERT INTO t_games_archive(SELECT * FROM t_games WHERE room_uuid = '1523714856969534803')
2691
UPDATE t_users SET roomid = null, history = '[{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523678996348220864","id":"220864","time":1523678997,"seats":[{"userid":100334,"name":"576k5Li7","score":6},{"userid":100390,"name":"6K+g6YeK","score":-2},{"userid":100335,"name":"5pyI5YWJ","score":-4},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523683566003780700","id":"780700","time":1523683566,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":0},{"userid":100390,"name":"6K+g6YeK","score":0},{"userid":100334,"name":"576k5Li7","score":0},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523685120094387583","id":"387583","time":1523685121,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":10},{"userid":100390,"name":"6K+g6YeK","score":8},{"userid":100333,"name":"5byg6bqf5Y2O","score":4},{"userid":100334,"name":"576k5Li7","score":-22}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]},{"uuid":"1523710749099520898","id":"520898","time":1523710750,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-18},{"userid":100341,"name":"Kl5f6L6JX14q","score":4},{"userid":100334,"name":"576k5Li7","score":-12},{"userid":100381,"name":"5pif54Gr","score":26}]},{"uuid":"1523712347389672772","id":"672772","time":1523712348,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-23},{"userid":100381,"name":"5pif54Gr","score":35},{"userid":100334,"name":"576k5Li7","score":-21},{"userid":100341,"name":"Kl5f6L6JX14q","score":9}]},{"uuid":"1523712921193046275","id":"046275","time":1523712922,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":5},{"userid":100334,"name":"576k5Li7","score":3},{"userid":100381,"name":"5pif54Gr","score":-5},{"userid":100341,"name":"Kl5f6L6JX14q","score":-3}]},{"uuid":"1523713730613974822","id":"974822","time":1523713731,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":57},{"userid":100381,"name":"5pif54Gr","score":17},{"userid":100334,"name":"576k5Li7","score":-19},{"userid":100341,"name":"Kl5f6L6JX14q","score":-55}]},{"uuid":"1523714856969534803","id":"534803","time":1523714857,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":95},{"userid":100341,"name":"Kl5f6L6JX14q","score":-31},{"userid":100381,"name":"5pif54Gr","score":-3},{"userid":100334,"name":"576k5Li7","score":-61}]}]' WHERE userid = "100335"
2761
UPDATE t_users SET roomid = null, history = '[{"uuid":"1523627417627130382","id":"130382","time":1523627418,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-7},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-10},{"userid":100381,"name":"5pif54Gr","score":4},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":13}]},{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]},{"uuid":"1523710749099520898","id":"520898","time":1523710750,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-18},{"userid":100341,"name":"Kl5f6L6JX14q","score":4},{"userid":100334,"name":"576k5Li7","score":-12},{"userid":100381,"name":"5pif54Gr","score":26}]},{"uuid":"1523712347389672772","id":"672772","time":1523712348,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-23},{"userid":100381,"name":"5pif54Gr","score":35},{"userid":100334,"name":"576k5Li7","score":-21},{"userid":100341,"name":"Kl5f6L6JX14q","score":9}]},{"uuid":"1523712921193046275","id":"046275","time":1523712922,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":5},{"userid":100334,"name":"576k5Li7","score":3},{"userid":100381,"name":"5pif54Gr","score":-5},{"userid":100341,"name":"Kl5f6L6JX14q","score":-3}]},{"uuid":"1523713730613974822","id":"974822","time":1523713731,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":57},{"userid":100381,"name":"5pif54Gr","score":17},{"userid":100334,"name":"576k5Li7","score":-19},{"userid":100341,"name":"Kl5f6L6JX14q","score":-55}]},{"uuid":"1523714856969534803","id":"534803","time":1523714857,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":95},{"userid":100341,"name":"Kl5f6L6JX14q","score":-31},{"userid":100381,"name":"5pif54Gr","score":-3},{"userid":100334,"name":"576k5Li7","score":-61}]}]' WHERE userid = "100341"
2472
UPDATE t_users SET roomid = null, history = '[{"uuid":"1523627417627130382","id":"130382","time":1523627418,"seats":[{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-7},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-10},{"userid":100381,"name":"5pif54Gr","score":4},{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":13}]},{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]},{"uuid":"1523710749099520898","id":"520898","time":1523710750,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-18},{"userid":100341,"name":"Kl5f6L6JX14q","score":4},{"userid":100334,"name":"576k5Li7","score":-12},{"userid":100381,"name":"5pif54Gr","score":26}]},{"uuid":"1523712347389672772","id":"672772","time":1523712348,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-23},{"userid":100381,"name":"5pif54Gr","score":35},{"userid":100334,"name":"576k5Li7","score":-21},{"userid":100341,"name":"Kl5f6L6JX14q","score":9}]},{"uuid":"1523712921193046275","id":"046275","time":1523712922,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":5},{"userid":100334,"name":"576k5Li7","score":3},{"userid":100381,"name":"5pif54Gr","score":-5},{"userid":100341,"name":"Kl5f6L6JX14q","score":-3}]},{"uuid":"1523713730613974822","id":"974822","time":1523713731,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":57},{"userid":100381,"name":"5pif54Gr","score":17},{"userid":100334,"name":"576k5Li7","score":-19},{"userid":100341,"name":"Kl5f6L6JX14q","score":-55}]},{"uuid":"1523714856969534803","id":"534803","time":1523714857,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":95},{"userid":100341,"name":"Kl5f6L6JX14q","score":-31},{"userid":100381,"name":"5pif54Gr","score":-3},{"userid":100334,"name":"576k5Li7","score":-61}]}]' WHERE userid = "100381"
2691
UPDATE t_users SET roomid = null, history = '[{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523678996348220864","id":"220864","time":1523678997,"seats":[{"userid":100334,"name":"576k5Li7","score":6},{"userid":100390,"name":"6K+g6YeK","score":-2},{"userid":100335,"name":"5pyI5YWJ","score":-4},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523683566003780700","id":"780700","time":1523683566,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":0},{"userid":100390,"name":"6K+g6YeK","score":0},{"userid":100334,"name":"576k5Li7","score":0},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523685120094387583","id":"387583","time":1523685121,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":10},{"userid":100390,"name":"6K+g6YeK","score":8},{"userid":100333,"name":"5byg6bqf5Y2O","score":4},{"userid":100334,"name":"576k5Li7","score":-22}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]},{"uuid":"1523710749099520898","id":"520898","time":1523710750,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-18},{"userid":100341,"name":"Kl5f6L6JX14q","score":4},{"userid":100334,"name":"576k5Li7","score":-12},{"userid":100381,"name":"5pif54Gr","score":26}]},{"uuid":"1523712347389672772","id":"672772","time":1523712348,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-23},{"userid":100381,"name":"5pif54Gr","score":35},{"userid":100334,"name":"576k5Li7","score":-21},{"userid":100341,"name":"Kl5f6L6JX14q","score":9}]},{"uuid":"1523712921193046275","id":"046275","time":1523712922,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":5},{"userid":100334,"name":"576k5Li7","score":3},{"userid":100381,"name":"5pif54Gr","score":-5},{"userid":100341,"name":"Kl5f6L6JX14q","score":-3}]},{"uuid":"1523713730613974822","id":"974822","time":1523713731,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":57},{"userid":100381,"name":"5pif54Gr","score":17},{"userid":100334,"name":"576k5Li7","score":-19},{"userid":100341,"name":"Kl5f6L6JX14q","score":-55}]},{"uuid":"1523714856969534803","id":"534803","time":1523714857,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":95},{"userid":100341,"name":"Kl5f6L6JX14q","score":-31},{"userid":100381,"name":"5pif54Gr","score":-3},{"userid":100334,"name":"576k5Li7","score":-61}]}]' WHERE userid = "100334"
DELETE FROM t_games WHERE room_uuid = '1523714856969534803'
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N75c3Lu8hC08SI3VoH1tpE"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1IFv55ZW5ynqJByk17VH9_s"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
++++++++++++++++++++++++++++++++++++
{"x":35.624372,"y":110.896857}
UPDATE t_users SET location='{"x":35.624372,"y":110.896857}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
++++++++++++++++++++++++++++++++++++
{"x":35.62437,"y":110.896785}
UPDATE t_users SET location='{"x":35.62437,"y":110.896785}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
++++++++++++++++++++++++++++++++++++
{"x":35.624369,"y":110.896858}
UPDATE t_users SET location='{"x":35.624369,"y":110.896858}' WHERE account='wx_omM_A1IFv55ZW5ynqJByk17VH9_s'
{ account: 'wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc',
  sign: 'ff2f9ddfc830c2c1ad6e0a9f19303583',
  conf: '{"xuanzejushu":0,"paytype":1,"difen":1,"cheat":1,"fenghaozi":2,"clubId":"","type":"kdd"}' }
conf is{"xuanzejushu":0,"paytype":1,"difen":1,"cheat":1,"fenghaozi":2,"clubId":"","type":"kdd"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100335"
club_id is
{ type: 'kdd',
  baseScore: 1,
  isBaoTing: true,
  maxGames: 4,
  creator: 100335,
  paytype: 1,
  cheat: false,
  fenghaozi: 3,
  clubId: '' }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523715416503318095','318095','{"type":"kdd","baseScore":1,"isBaoTing":true,"maxGames":4,"creator":100335,"paytype":1,"cheat":false,"fenghaozi":3,"clubId":""}','127.0.0.1',10000,1523715417,100335,1,'')
1523715416503318095
SELECT ip,port FROM t_rooms WHERE id = "318095"
{ userid: '100335',
  name: '月光',
  roomid: '318095',
  sign: '76eafec3229b621b0ef7609e87df13ac' }
76eafec3229b621b0ef7609e87df13ac
SELECT gems FROM t_users WHERE userid = 100335
UPDATE t_rooms SET user_id0 = 100335,user_icon0 = "",user_name0 = "5pyI5YWJ" WHERE id = "318095"
{ token: 'b794d30d06dcd4336b9755b6b360a8a6',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "318095" WHERE userid = "100335"
318095
b794d30d06dcd4336b9755b6b360a8a6
1523715416514
7c7ad2d2b2a1b23b586235fc9c956cc2
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N75c3Lu8hC08SI3VoH1tpE"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=318095 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "318095"
{ userid: '100341',
  name: '*^_辉_^*',
  roomid: '318095',
  sign: 'bd090107cb7ef20211e72136f34ee99e' }
bd090107cb7ef20211e72136f34ee99e
SELECT gems FROM t_users WHERE userid = 100341
UPDATE t_rooms SET user_id1 = 100341,user_icon1 = "",user_name1 = "Kl5f6L6JX14q" WHERE id = "318095"
{ token: '1ba7808388fa6eacdaaf6acbdcc54ae7',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "318095" WHERE userid = "100341"
318095
1ba7808388fa6eacdaaf6acbdcc54ae7
1523715422808
2937d5010382744f1085ce93c6ffca8f
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1IFv55ZW5ynqJByk17VH9_s"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=318095 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "318095"
{ userid: '100381',
  name: '星火',
  roomid: '318095',
  sign: 'b16f944eb4e5e4e90bcf2666b158e7a5' }
b16f944eb4e5e4e90bcf2666b158e7a5
SELECT gems FROM t_users WHERE userid = 100381
UPDATE t_rooms SET user_id2 = 100381,user_icon2 = "",user_name2 = "5pif54Gr" WHERE id = "318095"
{ token: '0a05707e97f57bb329dd5ce730f046a6',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "318095" WHERE userid = "100381"
318095
0a05707e97f57bb329dd5ce730f046a6
1523715424011
16320a607212d21be772a2a45888edd3
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=318095 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "318095"
{ userid: '100334',
  name: '群主',
  roomid: '318095',
  sign: '1fd06376e41fe78ab8fcbc53cb37cbc4' }
1fd06376e41fe78ab8fcbc53cb37cbc4
SELECT gems FROM t_users WHERE userid = 100334
UPDATE t_rooms SET user_id3 = 100334,user_icon3 = "",user_name3 = "576k5Li7" WHERE id = "318095"
{ token: '679e56d1ca599d365939bb2042839502',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "318095" WHERE userid = "100334"
318095
679e56d1ca599d365939bb2042839502
1523715425629
d005de363d085c56ef942ed77bacbbd6
begin start==============318095
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
game_mopai_push
game_action_push
guo=================================100381
guo_result
game_mopai_push
game_action_push
game_action_push
[ 6, 27, 6, 17, 27, 28, 29, 29 ]
do game over!
roomid :318095
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
胡牌南风
UPDATE t_rooms SET next_button = 1 WHERE id = "318095"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523715416503318095',0,'{"type":"kdd","button":0,"index":0,"mahjongs":[20,6,28,30,31,9,23,12,16,1,17,30,26,14,5,24,9,1,33,22,11,33,23,30,26,27,20,29,28,6,3,23,6,31,11,1,15,27,19,31,14,4,18,26,7,29,2,14,33,28,4,9,24,17,6,21,10,8,29,33,23,7,10,2,29,11,24,26,8,24,11,1,13,7,25,3,22,25,12,32,27,21,0,15,19,14,18,18,32,5,25,27,21,20,4,8,2,10,16,0,9,31,13,20,25,12,10,21,5,28,13,16,0,3,22,17,3,15,17,0,32,18,13,15,8,16,12,7,32,2,5,30,4,22,19,19],"jin":[6],"game_seats":[[20,31,16,26,9,11,26,28,6,15,14,7,33,24],[6,9,1,14,1,33,27,6,31,27,4,29,28],[28,23,17,5,33,23,20,3,11,19,18,2,4],[30,12,30,24,22,30,29,23,1,31,26,14,9]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[0,30,0,-30]' WHERE room_uuid = '1523715416503318095' AND game_index = 0
UPDATE t_games SET action_records = '[0,1,31,1,2,17,1,1,9,2,2,6,2,1,11,3,2,21,3,1,1,1,3,1,1,1,4,2,2,10,2,1,10,3,2,8,3,1,31,0,2,29,0,1,29,1,2,33,1,1,31,2,2,23,2,1,33,1,3,33,1,6,14,2,2,7,2,1,7,3,2,10,3,1,29]' WHERE room_uuid = '1523715416503318095' AND game_index = 0
UPDATE t_rooms SET num_of_turns = 1 WHERE id = "318095"
UPDATE t_users SET gems = gems -1 WHERE userid = 100335
UPDATE t_users SET gems = gems -1 WHERE userid = 100341
UPDATE t_users SET gems = gems -1 WHERE userid = 100381
UPDATE t_users SET gems = gems -1 WHERE userid = 100334
game_over_push
begin start==============318095
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
guo=================================100341
guo_result
game_action_push
game_action_push
game_mopai_push
game_action_push
guo=================================100341
guo_result
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
guo=================================100341
guo_result
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
[ 14, 17, 25, 28, 31, 22, 14, 17, 22, 25, 26, 28, 31, 26 ]
do game over!
roomid :318095
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
胡牌9万
UPDATE t_rooms SET next_button = 2 WHERE id = "318095"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523715416503318095',1,'{"type":"kdd","button":1,"index":1,"mahjongs":[7,1,27,7,1,20,20,15,33,25,8,32,6,17,2,6,8,31,23,0,5,14,19,12,18,31,21,28,15,25,4,13,22,18,24,10,29,31,15,3,10,26,26,1,9,17,30,21,21,14,12,14,3,22,16,0,30,27,13,10,16,28,23,24,3,32,29,25,11,30,33,23,4,28,16,29,2,22,13,9,19,18,21,7,4,11,6,27,11,20,17,5,30,19,15,32,6,0,18,24,27,11,7,28,9,25,5,1,16,2,33,26,14,0,4,8,13,22,32,24,3,5,20,26,12,29,17,19,12,31,33,23,10,2,9,8],"jin":[15],"game_seats":[[7,15,32,6,0,12,28,13,10,3,1,21,14],[7,1,33,6,8,5,18,15,22,29,10,9,21,3],[1,20,25,17,31,14,31,25,18,31,26,17,14],[27,20,8,2,23,19,21,4,24,15,26,30,12]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[0,0,27,-27]' WHERE room_uuid = '1523715416503318095' AND game_index = 1
UPDATE t_games SET action_records = '[1,1,29,2,2,22,2,1,1,3,2,16,3,1,16,0,2,0,0,1,28,1,2,30,1,1,18,2,2,27,2,1,27,3,2,13,3,1,30,0,2,10,0,1,32,1,2,16,1,1,30,2,2,28,2,1,18,3,2,23,3,1,27,0,2,24,0,1,21,1,2,3,1,1,16,2,2,32,2,1,20,3,2,29,3,1,29,0,2,25,0,1,3,1,3,3,1,1,1,2,2,11,2,1,11,3,2,30,3,1,30,0,2,33,0,1,1,1,2,23,1,1,10,0,3,10,0,6,33,1,2,4,1,1,9,2,2,28,2,1,32,3,2,16,3,1,16,0,2,29,0,1,29,1,2,2,1,1,2,2,2,22,2,6,31,3,2,13,3,1,26]' WHERE room_uuid = '1523715416503318095' AND game_index = 1
UPDATE t_rooms SET num_of_turns = 2 WHERE id = "318095"
game_over_push
begin start==============318095
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
guo=================================100335
guo_result
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
game_action_push
guo=================================100381
guo_result
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
guo=================================100334
guo_result
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
guo=================================100334
guo_result
game_action_push
game_action_push
guo=================================100335
guo_result
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
guo=================================100334
guo_result
game_mopai_push
game_action_push
guo=================================100335
guo_result
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
guo=================================100335
guo_result
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
guo=================================100334
guo_result
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
do game over!
roomid :318095
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
胡牌7筒
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523715416503318095',2,'{"type":"kdd","button":2,"index":2,"mahjongs":[5,30,19,17,30,17,20,11,29,13,4,5,23,11,33,29,18,31,11,19,8,9,16,12,15,19,6,20,24,22,17,33,14,23,3,24,4,21,21,20,25,2,13,32,13,12,22,27,24,30,11,31,4,32,7,8,32,12,33,5,8,2,6,28,14,3,16,31,25,29,33,25,4,2,10,10,24,16,16,25,1,15,27,1,22,26,27,1,21,0,10,8,30,7,10,26,20,27,0,31,5,15,0,7,29,26,6,23,9,2,0,6,18,3,18,15,28,32,17,21,9,7,26,12,23,14,19,18,3,28,14,1,13,22,28,9],"jin":[11],"game_seats":[[19,20,4,33,11,16,6,17,3,21,13,22,11],[17,11,5,29,19,12,20,33,24,20,32,27,31],[5,30,29,23,18,8,15,24,14,4,25,13,24,4],[30,17,13,11,31,9,19,22,23,21,2,12,30]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[-14,-14,42,-14]' WHERE room_uuid = '1523715416503318095' AND game_index = 2
UPDATE t_games SET action_records = '[2,1,30,3,3,30,3,1,31,0,2,32,0,1,33,1,2,7,1,1,31,2,2,8,2,1,18,3,2,32,3,1,2,0,2,12,0,1,32,1,2,33,1,1,32,2,2,5,2,1,24,3,2,8,3,1,32,0,2,2,0,1,11,1,2,6,1,1,29,2,2,28,2,1,29,3,2,14,3,1,8,2,3,8,2,1,5,3,2,3,3,1,9,0,2,16,0,1,6,1,2,31,1,1,31,2,2,25,2,1,13,3,2,29,3,1,17,0,2,33,0,1,17,1,2,25,1,1,27,2,2,4,2,1,25,3,2,2,3,1,29,0,2,10,0,1,10,1,2,10,1,1,10,2,2,24,2,1,28,3,2,16,3,1,16,0,3,16,0,1,33,1,3,33,1,1,17,2,2,16,2,6,24,3,2,25,3,1,25,0,2,1,0,1,13,1,2,15,1,1,15,2,2,27,2,1,27,3,2,1,3,6,19,0,2,22,0,1,11,1,2,26,1,6,19,2,2,27,2,1,27,3,2,1,3,1,1,0,2,21,0,1,12,1,2,0,1,1,0,2,2,10,2,1,10,3,2,8,3,1,8,0,2,30,0,1,30,1,2,7,1,1,7,2,2,10,2,1,10,3,2,26,3,1,26,0,2,20,0,1,1,1,2,27,1,1,27,2,2,0,2,1,0,3,2,31,3,1,31,0,2,5,0,6,19,1,2,15,1,1,15,2,2,0,2,1,0,3,2,7,3,1,7,0,2,29,0,1,29,1,2,26,1,1,26,2,2,6,2,5,6]' WHERE room_uuid = '1523715416503318095' AND game_index = 2
UPDATE t_rooms SET num_of_turns = 3 WHERE id = "318095"
game_over_push
begin start==============318095
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_action_push
begin end=================
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_action_push
gang=============100381       11
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
guo=================================100341
guo_result
game_action_push
gang=============100334       1
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
game_mopai_push
game_action_push
do game over!
roomid :318095
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
胡牌7万
UPDATE t_rooms SET next_button = 3 WHERE id = "318095"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1523715416503318095',3,'{"type":"kdd","button":2,"index":3,"mahjongs":[14,12,27,27,27,13,22,25,11,1,26,24,0,9,5,18,29,28,5,10,4,17,2,4,14,2,14,31,6,32,23,1,9,30,16,30,21,29,0,3,18,23,17,6,31,2,3,25,8,16,30,19,15,1,14,28,32,6,33,24,26,1,4,31,32,27,19,7,11,8,13,12,6,20,0,23,15,22,8,33,10,22,26,7,11,15,20,11,23,22,20,3,26,21,31,13,9,2,17,33,28,5,24,19,30,24,0,25,10,5,10,16,13,16,29,21,19,8,12,15,4,28,7,18,21,32,18,20,33,7,9,12,17,3,25,29],"jin":[24],"game_seats":[[27,22,26,5,5,2,14,23,16,0,17,3,30],[27,25,24,18,10,4,31,1,30,3,6,25,19],[14,27,11,0,29,4,14,6,9,21,18,31,8,15],[12,13,1,9,28,17,2,32,30,29,23,2,16]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[-19,37,-7,-11]' WHERE room_uuid = '1523715416503318095' AND game_index = 3
UPDATE t_games SET action_records = '[2,1,31,3,2,1,3,1,30,0,2,14,0,1,30,1,2,28,1,1,30,2,2,32,2,1,18,3,2,6,3,1,28,0,2,33,0,1,27,1,2,24,1,1,28,2,2,26,2,1,27,3,2,1,3,1,32,0,2,4,0,1,33,1,2,31,1,1,27,2,2,32,2,1,0,3,2,27,3,1,27,0,2,19,0,1,0,1,2,7,1,1,10,2,2,11,2,1,21,3,2,8,3,1,29,0,2,13,0,1,19,1,2,12,1,1,12,2,2,6,2,1,29,3,2,20,3,1,20,0,2,0,0,1,0,1,2,23,1,1,23,2,2,15,2,1,4,3,2,22,3,1,9,0,2,8,0,1,26,1,2,33,1,1,18,2,2,10,2,1,9,3,2,22,3,1,12,0,2,26,0,1,26,1,2,7,1,1,19,2,2,11,2,1,10,3,2,15,3,1,13,0,2,20,0,1,20,1,2,11,1,1,11,2,4,11,2,2,23,2,1,23,3,2,22,3,6,23,0,2,20,0,1,20,1,2,3,1,1,1,3,4,1,3,2,26,3,1,26,0,2,21,0,1,8,1,2,31,1,6,4,2,2,13,2,1,26,3,2,9,3,1,9,0,2,2,0,1,2,1,2,17,1,1,17,2,2,33,2,1,8,3,2,28,3,1,28,0,2,5,0,6,13,1,2,24,1,5,24]' WHERE room_uuid = '1523715416503318095' AND game_index = 3
UPDATE t_rooms SET num_of_turns = 4 WHERE id = "318095"
game_over_push
SELECT history FROM t_users WHERE userid = "100335"
SELECT history FROM t_users WHERE userid = "100341"
SELECT history FROM t_users WHERE userid = "100381"
SELECT history FROM t_users WHERE userid = "100334"
UPDATE t_users SET roomid = null WHERE userid = "100335"
UPDATE t_users SET roomid = null WHERE userid = "100341"
UPDATE t_users SET roomid = null WHERE userid = "100381"
UPDATE t_users SET roomid = null WHERE userid = "100334"
DELETE FROM t_rooms WHERE id = '318095'
INSERT INTO t_games_archive(SELECT * FROM t_games WHERE room_uuid = '1523715416503318095')
2673
UPDATE t_users SET roomid = null, history = '[{"uuid":"1523678996348220864","id":"220864","time":1523678997,"seats":[{"userid":100334,"name":"576k5Li7","score":6},{"userid":100390,"name":"6K+g6YeK","score":-2},{"userid":100335,"name":"5pyI5YWJ","score":-4},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523683566003780700","id":"780700","time":1523683566,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":0},{"userid":100390,"name":"6K+g6YeK","score":0},{"userid":100334,"name":"576k5Li7","score":0},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523685120094387583","id":"387583","time":1523685121,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":10},{"userid":100390,"name":"6K+g6YeK","score":8},{"userid":100333,"name":"5byg6bqf5Y2O","score":4},{"userid":100334,"name":"576k5Li7","score":-22}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]},{"uuid":"1523710749099520898","id":"520898","time":1523710750,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-18},{"userid":100341,"name":"Kl5f6L6JX14q","score":4},{"userid":100334,"name":"576k5Li7","score":-12},{"userid":100381,"name":"5pif54Gr","score":26}]},{"uuid":"1523712347389672772","id":"672772","time":1523712348,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-23},{"userid":100381,"name":"5pif54Gr","score":35},{"userid":100334,"name":"576k5Li7","score":-21},{"userid":100341,"name":"Kl5f6L6JX14q","score":9}]},{"uuid":"1523712921193046275","id":"046275","time":1523712922,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":5},{"userid":100334,"name":"576k5Li7","score":3},{"userid":100381,"name":"5pif54Gr","score":-5},{"userid":100341,"name":"Kl5f6L6JX14q","score":-3}]},{"uuid":"1523713730613974822","id":"974822","time":1523713731,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":57},{"userid":100381,"name":"5pif54Gr","score":17},{"userid":100334,"name":"576k5Li7","score":-19},{"userid":100341,"name":"Kl5f6L6JX14q","score":-55}]},{"uuid":"1523714856969534803","id":"534803","time":1523714857,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":95},{"userid":100341,"name":"Kl5f6L6JX14q","score":-31},{"userid":100381,"name":"5pif54Gr","score":-3},{"userid":100334,"name":"576k5Li7","score":-61}]},{"uuid":"1523715416503318095","id":"318095","time":1523715417,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-33},{"userid":100341,"name":"Kl5f6L6JX14q","score":53},{"userid":100381,"name":"5pif54Gr","score":62},{"userid":100334,"name":"576k5Li7","score":-82}]}]' WHERE userid = "100335"
2739
UPDATE t_users SET roomid = null, history = '[{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]},{"uuid":"1523710749099520898","id":"520898","time":1523710750,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-18},{"userid":100341,"name":"Kl5f6L6JX14q","score":4},{"userid":100334,"name":"576k5Li7","score":-12},{"userid":100381,"name":"5pif54Gr","score":26}]},{"uuid":"1523712347389672772","id":"672772","time":1523712348,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-23},{"userid":100381,"name":"5pif54Gr","score":35},{"userid":100334,"name":"576k5Li7","score":-21},{"userid":100341,"name":"Kl5f6L6JX14q","score":9}]},{"uuid":"1523712921193046275","id":"046275","time":1523712922,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":5},{"userid":100334,"name":"576k5Li7","score":3},{"userid":100381,"name":"5pif54Gr","score":-5},{"userid":100341,"name":"Kl5f6L6JX14q","score":-3}]},{"uuid":"1523713730613974822","id":"974822","time":1523713731,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":57},{"userid":100381,"name":"5pif54Gr","score":17},{"userid":100334,"name":"576k5Li7","score":-19},{"userid":100341,"name":"Kl5f6L6JX14q","score":-55}]},{"uuid":"1523714856969534803","id":"534803","time":1523714857,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":95},{"userid":100341,"name":"Kl5f6L6JX14q","score":-31},{"userid":100381,"name":"5pif54Gr","score":-3},{"userid":100334,"name":"576k5Li7","score":-61}]},{"uuid":"1523715416503318095","id":"318095","time":1523715417,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-33},{"userid":100341,"name":"Kl5f6L6JX14q","score":53},{"userid":100381,"name":"5pif54Gr","score":62},{"userid":100334,"name":"576k5Li7","score":-82}]}]' WHERE userid = "100341"
2739
UPDATE t_users SET roomid = null, history = '[{"uuid":"1523628288669008894","id":"008894","time":1523628289,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-4},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":-2},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":8},{"userid":100381,"name":"5pif54Gr","score":-2}]},{"uuid":"1523629419328952027","id":"952027","time":1523629420,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":12},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":9},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-17},{"userid":100381,"name":"5pif54Gr","score":-4}]},{"uuid":"1523630777557007661","id":"007661","time":1523630778,"seats":[{"userid":100335,"name":"5Lic6Ziz6LWM5Zyj","score":-25},{"userid":100341,"name":"56uv5pyo5LiN6L6T","score":71},{"userid":100334,"name":"5aSP5L6v6Ieq5pG4","score":-23},{"userid":100381,"name":"5pif54Gr","score":-23}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]},{"uuid":"1523710749099520898","id":"520898","time":1523710750,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-18},{"userid":100341,"name":"Kl5f6L6JX14q","score":4},{"userid":100334,"name":"576k5Li7","score":-12},{"userid":100381,"name":"5pif54Gr","score":26}]},{"uuid":"1523712347389672772","id":"672772","time":1523712348,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-23},{"userid":100381,"name":"5pif54Gr","score":35},{"userid":100334,"name":"576k5Li7","score":-21},{"userid":100341,"name":"Kl5f6L6JX14q","score":9}]},{"uuid":"1523712921193046275","id":"046275","time":1523712922,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":5},{"userid":100334,"name":"576k5Li7","score":3},{"userid":100381,"name":"5pif54Gr","score":-5},{"userid":100341,"name":"Kl5f6L6JX14q","score":-3}]},{"uuid":"1523713730613974822","id":"974822","time":1523713731,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":57},{"userid":100381,"name":"5pif54Gr","score":17},{"userid":100334,"name":"576k5Li7","score":-19},{"userid":100341,"name":"Kl5f6L6JX14q","score":-55}]},{"uuid":"1523714856969534803","id":"534803","time":1523714857,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":95},{"userid":100341,"name":"Kl5f6L6JX14q","score":-31},{"userid":100381,"name":"5pif54Gr","score":-3},{"userid":100334,"name":"576k5Li7","score":-61}]},{"uuid":"1523715416503318095","id":"318095","time":1523715417,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-33},{"userid":100341,"name":"Kl5f6L6JX14q","score":53},{"userid":100381,"name":"5pif54Gr","score":62},{"userid":100334,"name":"576k5Li7","score":-82}]}]' WHERE userid = "100381"
2673
UPDATE t_users SET roomid = null, history = '[{"uuid":"1523678996348220864","id":"220864","time":1523678997,"seats":[{"userid":100334,"name":"576k5Li7","score":6},{"userid":100390,"name":"6K+g6YeK","score":-2},{"userid":100335,"name":"5pyI5YWJ","score":-4},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523683566003780700","id":"780700","time":1523683566,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":0},{"userid":100390,"name":"6K+g6YeK","score":0},{"userid":100334,"name":"576k5Li7","score":0},{"userid":100333,"name":"5byg6bqf5Y2O","score":0}]},{"uuid":"1523685120094387583","id":"387583","time":1523685121,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":10},{"userid":100390,"name":"6K+g6YeK","score":8},{"userid":100333,"name":"5byg6bqf5Y2O","score":4},{"userid":100334,"name":"576k5Li7","score":-22}]},{"uuid":"1523709705632602342","id":"602342","time":1523709706,"seats":[{"userid":100381,"name":"5pif54Gr","score":24},{"userid":100334,"name":"576k5Li7","score":-18},{"userid":100335,"name":"5pyI5YWJ","score":16},{"userid":100341,"name":"Kl5f6L6JX14q","score":-22}]},{"uuid":"1523710749099520898","id":"520898","time":1523710750,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-18},{"userid":100341,"name":"Kl5f6L6JX14q","score":4},{"userid":100334,"name":"576k5Li7","score":-12},{"userid":100381,"name":"5pif54Gr","score":26}]},{"uuid":"1523712347389672772","id":"672772","time":1523712348,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-23},{"userid":100381,"name":"5pif54Gr","score":35},{"userid":100334,"name":"576k5Li7","score":-21},{"userid":100341,"name":"Kl5f6L6JX14q","score":9}]},{"uuid":"1523712921193046275","id":"046275","time":1523712922,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":5},{"userid":100334,"name":"576k5Li7","score":3},{"userid":100381,"name":"5pif54Gr","score":-5},{"userid":100341,"name":"Kl5f6L6JX14q","score":-3}]},{"uuid":"1523713730613974822","id":"974822","time":1523713731,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":57},{"userid":100381,"name":"5pif54Gr","score":17},{"userid":100334,"name":"576k5Li7","score":-19},{"userid":100341,"name":"Kl5f6L6JX14q","score":-55}]},{"uuid":"1523714856969534803","id":"534803","time":1523714857,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":95},{"userid":100341,"name":"Kl5f6L6JX14q","score":-31},{"userid":100381,"name":"5pif54Gr","score":-3},{"userid":100334,"name":"576k5Li7","score":-61}]},{"uuid":"1523715416503318095","id":"318095","time":1523715417,"seats":[{"userid":100335,"name":"5pyI5YWJ","score":-33},{"userid":100341,"name":"Kl5f6L6JX14q","score":53},{"userid":100381,"name":"5pif54Gr","score":62},{"userid":100334,"name":"576k5Li7","score":-82}]}]' WHERE userid = "100334"
DELETE FROM t_games WHERE room_uuid = '1523715416503318095'
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N75c3Lu8hC08SI3VoH1tpE"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT name,sex,headimg FROM t_users WHERE userid=100333
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT last FROM t_users WHERE userid=100333
UPDATE t_users SET last='Sun Apr 15 2018 09:27:23 GMT+0800 (CST)' WHERE userid=100333
UPDATE t_users SET gems = gems+1 WHERE userid = 100333
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1HC7RtdGuKXt299y5w77Jnc"
SELECT name,sex,headimg FROM t_users WHERE userid=100330
SELECT gems FROM t_users WHERE account = "wx_omM_A1HC7RtdGuKXt299y5w77Jnc"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT last FROM t_users WHERE userid=100330
UPDATE t_users SET last='Sun Apr 15 2018 09:27:37 GMT+0800 (CST)' WHERE userid=100330
UPDATE t_users SET gems = gems+1 WHERE userid = 100330
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT gems FROM t_users WHERE account = "wx_omM_A1HC7RtdGuKXt299y5w77Jnc"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT history FROM t_users WHERE userid = "100333"
789
SELECT game_index,create_time,result FROM t_games_archive WHERE room_uuid = "1523678996348220864"
[ RowDataPacket {
    game_index: 0,
    create_time: 1523679351,
    result: '[-5,13,-4,-4]' },
  RowDataPacket { game_index: 1, create_time: 1523680220, result: '[7,0,0,-7]' },
  RowDataPacket { game_index: 2, create_time: 1523680496, result: '[4,0,0,-4]' },
  RowDataPacket {
    game_index: 3,
    create_time: 1523680717,
    result: '[0,-15,0,15]' } ]
SELECT base_info,action_records FROM t_games_archive WHERE room_uuid = "1523678996348220864" AND game_index = 1
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT name,sex,headimg FROM t_users WHERE userid=100333
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT * FROM t_message WHERE type = "notice"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100333)  
++++++++++++++++++++++++++++++++++++
{"x":37.957951,"y":112.54676}
UPDATE t_users SET location='{"x":37.957951,"y":112.54676}' WHERE account='wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
{ account: 'wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg',
  sign: '427f1401a72892b226dc107a524c9467',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":111191,"type":"sjmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":111191,"type":"sjmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100333"
club_id is111191
{ type: 'sjmj',
  baseScore: 0.5,
  jinfen: 1,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100333,
  paytype: 0,
  cheat: false,
  clubId: 111191 }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523757332763309528','309528','{"type":"sjmj","baseScore":0.5,"jinfen":1,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100333,"paytype":0,"cheat":false,"clubId":111191}','127.0.0.1',10000,1523757333,100333,4,'111191')
1523757332763309528
SELECT ip,port FROM t_rooms WHERE id = "309528"
{ userid: '100333',
  name: '张麟华',
  roomid: '309528',
  sign: '04551b4b7a1359c053daac8d8d301f28' }
04551b4b7a1359c053daac8d8d301f28
SELECT gems FROM t_users WHERE userid = 100333
UPDATE t_rooms SET user_id0 = 100333,user_icon0 = "",user_name0 = "5byg6bqf5Y2O" WHERE id = "309528"
{ token: 'bcce7f46e3a3779c43505c84cf23de08',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "309528" WHERE userid = "100333"
309528
bcce7f46e3a3779c43505c84cf23de08
1523757332780
76b9dce192435f9e0619e8b86a6d0aec
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100333)  
++++++++++++++++++++++++++++++++++++
{"x":37.957951,"y":112.54676}
UPDATE t_users SET location='{"x":37.957951,"y":112.54676}' WHERE account='wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111193 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111193 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111193 )
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111194 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111194 )
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111193 )
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111193 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111194 )
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111193 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111193 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_789"
SELECT gems FROM t_users WHERE account = "guest_789"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100359)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
INSERT INTO  t_relation (user_id,club_id) VALUES( 100359 , 111193 ) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100359)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111193 
DELETE  FROM  t_relation WHERE (user_id=100359 AND club_id= 111193) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100359)  
INSERT INTO  t_relation (user_id,club_id) VALUES( 100358 , 111139 ) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
INSERT INTO  t_relation (user_id,club_id) VALUES( 100358 , 111142 ) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111193 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111142 
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111193 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
DELETE  FROM  t_relation WHERE (user_id=100358 AND club_id= 111139) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111194 
DELETE  FROM  t_relation WHERE (user_id=100358 AND club_id= 111194) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111193 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111193 )
INSERT INTO  t_relation (user_id,club_id) VALUES( 100358 , 111139 ) 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111193 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111193 )
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111142 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111193 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111193 )
DELETE  FROM  t_club WHERE ( club_id= 111193 ) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111195 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111195 )
DELETE  FROM  t_club WHERE ( club_id= 111195 ) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111197 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111197 )
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111197 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111197 )
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111197 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111197 )
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111197 )
DELETE  FROM  t_club WHERE ( club_id= 111197 ) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111142 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111198 )
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111198 )
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111198 )
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111198 )
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111195 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111196 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111196 )
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111196 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111198 )
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT name,sex,headimg FROM t_users WHERE userid=100334
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
++++++++++++++++++++++++++++++++++++
{"x":35.624307,"y":110.896785}
UPDATE t_users SET location='{"x":35.624307,"y":110.896785}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100334)  
++++++++++++++++++++++++++++++++++++
{"x":35.624307,"y":110.896785}
UPDATE t_users SET location='{"x":35.624307,"y":110.896785}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
DELETE  FROM  t_relation WHERE (user_id=100334 AND club_id= 111191) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100334)  
2,null
++++++++++++++++++++++++++++++++++++
{"x":35.62437,"y":110.896988}
UPDATE t_users SET location='{"x":35.62437,"y":110.896988}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
INSERT INTO  t_relation (user_id,club_id) VALUES( 100334 , 111191 ) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100334)  
++++++++++++++++++++++++++++++++++++
{"x":35.624372,"y":110.896993}
UPDATE t_users SET location='{"x":35.624372,"y":110.896993}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=309528 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "309528"
{ userid: '100334',
  name: '群主',
  roomid: '309528',
  sign: '29f5df98020e642330974d3549136512' }
29f5df98020e642330974d3549136512
SELECT gems FROM t_users WHERE userid = 100334
UPDATE t_rooms SET user_id1 = 100334,user_icon1 = "",user_name1 = "576k5Li7" WHERE id = "309528"
{ token: 'bf220c6fe8ec8f24f26c680af5a4087c',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "309528" WHERE userid = "100334"
309528
bf220c6fe8ec8f24f26c680af5a4087c
1523766629644
a8e2c727dbe61c00b4a74cf686c1a173
SELECT name,sex,headimg FROM t_users WHERE userid=100333
UPDATE t_rooms SET user_id1 = 0,user_icon1 = "",user_name1 = "" WHERE id = "309528"
UPDATE t_users SET roomid = null WHERE userid = "100334"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100334)  
++++++++++++++++++++++++++++++++++++
{"x":35.624372,"y":110.896993}
UPDATE t_users SET location='{"x":35.624372,"y":110.896993}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100334)  
++++++++++++++++++++++++++++++++++++
{"x":35.624328,"y":110.896831}
UPDATE t_users SET location='{"x":35.624328,"y":110.896831}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
++++++++++++++++++++++++++++++++++++
{"x":35.624372,"y":110.896782}
UPDATE t_users SET location='{"x":35.624372,"y":110.896782}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
{ account: 'wx_omM_A1EAhZ8maByl3fRKpMyAO2qo',
  sign: '38f00e0423bfdce4b03e4166b588f50b',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100334"
++++++++++++++++++++++++++++++++++++
{"x":35.624372,"y":110.896782}
UPDATE t_users SET location='{"x":35.624372,"y":110.896782}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
{ account: 'wx_omM_A1EAhZ8maByl3fRKpMyAO2qo',
  sign: '38f00e0423bfdce4b03e4166b588f50b',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":1,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":1,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100334"
club_id is
{ type: 'sjmj',
  baseScore: 0.5,
  jinfen: 1,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100334,
  paytype: 1,
  cheat: false,
  clubId: '' }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523766729130246450','246450','{"type":"sjmj","baseScore":0.5,"jinfen":1,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100334,"paytype":1,"cheat":false,"clubId":""}','127.0.0.1',10000,1523766730,100334,1,'')
1523766729130246450
SELECT ip,port FROM t_rooms WHERE id = "246450"
{ userid: '100334',
  name: '群主',
  roomid: '246450',
  sign: '2f60ea9c3a77b021be5139eae6629a4d' }
2f60ea9c3a77b021be5139eae6629a4d
SELECT gems FROM t_users WHERE userid = 100334
UPDATE t_rooms SET user_id0 = 100334,user_icon0 = "",user_name0 = "576k5Li7" WHERE id = "246450"
{ token: 'a70fa081058afc8b4a21a72ce6e2e14a',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "246450" WHERE userid = "100334"
246450
a70fa081058afc8b4a21a72ce6e2e14a
1523766729143
3221b6024622eb6141ad52d2746a8f48
UPDATE t_rooms SET user_id0 = 0,user_icon0 = "",user_name0 = "" WHERE id = "246450"
UPDATE t_users SET roomid = null WHERE userid = "100334"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE creator = "100334"
++++++++++++++++++++++++++++++++++++
{"x":35.624372,"y":110.896782}
UPDATE t_users SET location='{"x":35.624372,"y":110.896782}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
++++++++++++++++++++++++++++++++++++
{"x":35.624372,"y":110.896782}
UPDATE t_users SET location='{"x":35.624372,"y":110.896782}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
{ account: 'wx_omM_A1EAhZ8maByl3fRKpMyAO2qo',
  sign: '38f00e0423bfdce4b03e4166b588f50b',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":1,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":1,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100334"
club_id is
{ type: 'sjmj',
  baseScore: 0.5,
  jinfen: 1,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100334,
  paytype: 1,
  cheat: false,
  clubId: '' }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523766755352556907','556907','{"type":"sjmj","baseScore":0.5,"jinfen":1,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100334,"paytype":1,"cheat":false,"clubId":""}','127.0.0.1',10000,1523766756,100334,1,'')
1523766755352556907
SELECT ip,port FROM t_rooms WHERE id = "556907"
{ userid: '100334',
  name: '群主',
  roomid: '556907',
  sign: 'ad27f3b784747a48224b31cd05cf888c' }
ad27f3b784747a48224b31cd05cf888c
SELECT gems FROM t_users WHERE userid = 100334
UPDATE t_rooms SET user_id0 = 100334,user_icon0 = "",user_name0 = "576k5Li7" WHERE id = "556907"
{ token: '2c0697cab705dd1ee6ae326df52c9ec3',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "556907" WHERE userid = "100334"
556907
2c0697cab705dd1ee6ae326df52c9ec3
1523766755363
fd9086797199b0ef6e0506d4a1d77eb3
100334			100334
UPDATE t_users SET roomid = null WHERE userid = "100334"
DELETE FROM t_rooms WHERE id = '556907'
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE creator = "100334"
++++++++++++++++++++++++++++++++++++
{"x":35.624372,"y":110.896782}
UPDATE t_users SET location='{"x":35.624372,"y":110.896782}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=246450 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "246450"
{ userid: '100334',
  name: '群主',
  roomid: '246450',
  sign: '2f60ea9c3a77b021be5139eae6629a4d' }
2f60ea9c3a77b021be5139eae6629a4d
SELECT gems FROM t_users WHERE userid = 100334
UPDATE t_rooms SET user_id0 = 100334,user_icon0 = "",user_name0 = "576k5Li7" WHERE id = "246450"
{ token: '9716fe355536bd585b24351f779840d3',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "246450" WHERE userid = "100334"
246450
9716fe355536bd585b24351f779840d3
1523766775071
8822799de41c4b9a2aed412443b4b26e
100334			100334
UPDATE t_users SET roomid = null WHERE userid = "100334"
DELETE FROM t_rooms WHERE id = '246450'
SELECT gems FROM t_users WHERE account = "wx_omM_A1EAhZ8maByl3fRKpMyAO2qo"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111196 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111198 )
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111198 )
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111196 
DELETE  FROM  t_club WHERE ( club_id= 111196 ) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111199 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111199 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111199 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
SELECT name,sex,headimg FROM t_users WHERE userid=100384
SELECT gems FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
SELECT name,sex,headimg FROM t_users WHERE userid=100384
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
SELECT * FROM t_message WHERE type = "notice"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100384)  
2,null
++++++++++++++++++++++++++++++++++++
{"x":37.949874,"y":112.546019}
UPDATE t_users SET location='{"x":37.949874,"y":112.546019}' WHERE account='wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc'
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100384)  
2,null
++++++++++++++++++++++++++++++++++++
{"x":37.949874,"y":112.546019}
UPDATE t_users SET location='{"x":37.949874,"y":112.546019}' WHERE account='wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc'
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100384)  
++++++++++++++++++++++++++++++++++++
{"x":37.949874,"y":112.546019}
UPDATE t_users SET location='{"x":37.949874,"y":112.546019}' WHERE account='wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111200 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111200 )
DELETE  FROM  t_club WHERE ( club_id= 111200 ) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100384)  
2,null
++++++++++++++++++++++++++++++++++++
{"x":37.949874,"y":112.546019}
UPDATE t_users SET location='{"x":37.949874,"y":112.546019}' WHERE account='wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc'
SELECT last FROM t_users WHERE userid=100384
UPDATE t_users SET last='Sun Apr 15 2018 15:02:58 GMT+0800 (CST)' WHERE userid=100384
UPDATE t_users SET gems = gems+1 WHERE userid = 100384
SELECT gems FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111199 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
SELECT name,sex,headimg FROM t_users WHERE userid=100384
SELECT gems FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100384)  
2,null
++++++++++++++++++++++++++++++++++++
{"x":37.949874,"y":112.546019}
UPDATE t_users SET location='{"x":37.949874,"y":112.546019}' WHERE account='wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc'
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100384)  
2,null
++++++++++++++++++++++++++++++++++++
{"x":37.949874,"y":112.546019}
UPDATE t_users SET location='{"x":37.949874,"y":112.546019}' WHERE account='wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc'
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100384)  
++++++++++++++++++++++++++++++++++++
{"x":37.949874,"y":112.546019}
UPDATE t_users SET location='{"x":37.949874,"y":112.546019}' WHERE account='wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc'
++++++++++++++++++++++++++++++++++++
{"x":37.949874,"y":112.546019}
UPDATE t_users SET location='{"x":37.949874,"y":112.546019}' WHERE account='wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc'
{ account: 'wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc',
  sign: '359d9a262af87fe17370e65c5e2114fb',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
SELECT gems FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100384"
club_id is
{ type: 'sjmj',
  baseScore: 0.5,
  jinfen: 1,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100384,
  paytype: 0,
  cheat: false,
  clubId: '' }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523776012332886476','886476','{"type":"sjmj","baseScore":0.5,"jinfen":1,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100384,"paytype":0,"cheat":false,"clubId":""}','127.0.0.1',10000,1523776013,100384,4,'')
1523776012332886476
SELECT ip,port FROM t_rooms WHERE id = "886476"
{ userid: '100384',
  name: '好名字',
  roomid: '886476',
  sign: '9817ba6877869553461b2b72712b4b1f' }
9817ba6877869553461b2b72712b4b1f
SELECT gems FROM t_users WHERE userid = 100384
UPDATE t_rooms SET user_id0 = 100384,user_icon0 = "",user_name0 = "5aW95ZCN5a2X" WHERE id = "886476"
{ token: '148d17a314abe57566cc52555e432db5',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "886476" WHERE userid = "100384"
886476
148d17a314abe57566cc52555e432db5
1523776012343
07034a2100aaf0c5636721d86cbdf809
UPDATE t_rooms SET user_id0 = 0,user_icon0 = "",user_name0 = "" WHERE id = "886476"
UPDATE t_users SET roomid = null WHERE userid = "100384"
SELECT gems FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
SELECT name,sex,headimg FROM t_users WHERE userid=100384
SELECT gems FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
++++++++++++++++++++++++++++++++++++
{"x":37.949874,"y":112.546019}
UPDATE t_users SET location='{"x":37.949874,"y":112.546019}' WHERE account='wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111199 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111199 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111199 )
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111199 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111199 )
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111199 )
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111199 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111199 )
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111199 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111199 )
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111199 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111199 )
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111199 )
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_789"
SELECT gems FROM t_users WHERE account = "guest_789"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100359)  
INSERT INTO  t_relation (user_id,club_id) VALUES( 100359 , 111199 ) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100359)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111199 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111199 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111199 )
DELETE  FROM  t_relation WHERE (user_id=100359 AND club_id= 111199) 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111199 )
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100359)  
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_789"
SELECT * FROM t_message WHERE type = "notice"
INSERT INTO  t_relation (user_id,club_id) VALUES( 100359 , 111199 ) 
DELETE  FROM  t_relation WHERE (user_id=100359 AND club_id= 111199) 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111154 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111142 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
{ account: 'guest_789',
  sign: 'deaadeda3ea0378c18467325cfdee6f9',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":111139,"type":"sjmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":111139,"type":"sjmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_789"
SELECT gems FROM t_users WHERE account = "guest_789"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100359"
SELECT gems FROM t_users WHERE account = "guest_789"
SELECT last FROM t_users WHERE userid=100359
UPDATE t_users SET last='Sun Apr 15 2018 15:33:15 GMT+0800 (CST)' WHERE userid=100359
UPDATE t_users SET gems = gems+1 WHERE userid = 100359
SELECT gems FROM t_users WHERE account = "guest_789"
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE creator = "100359"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_789"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=044680 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "044680"
{ userid: '100359',
  name: '东阳自摸',
  roomid: '044680',
  sign: 'a75ac3550311fdb55b1d8c22b8ae5e84' }
a75ac3550311fdb55b1d8c22b8ae5e84
SELECT gems FROM t_users WHERE userid = 100359
SELECT * FROM t_rooms WHERE id = "044680"
{ token: '092b7bbf8a6fa2dd4e4d0d4d041b084d',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "044680" WHERE userid = "100359"
044680
092b7bbf8a6fa2dd4e4d0d4d041b084d
1523777611279
054a5deedae488447806ed16524fb9e5
100359			100359
UPDATE t_users SET roomid = null WHERE userid = "100359"
DELETE FROM t_rooms WHERE id = '044680'
SELECT gems FROM t_users WHERE account = "guest_789"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100359)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111154 
{ account: 'guest_789',
  sign: 'deaadeda3ea0378c18467325cfdee6f9',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":111154,"type":"sjmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":111154,"type":"sjmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_789"
SELECT gems FROM t_users WHERE account = "guest_789"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100359"
club_id is111154
{ type: 'sjmj',
  baseScore: 0.5,
  jinfen: 1,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100359,
  paytype: 0,
  cheat: false,
  clubId: 111154 }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523777624930204571','204571','{"type":"sjmj","baseScore":0.5,"jinfen":1,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100359,"paytype":0,"cheat":false,"clubId":111154}','127.0.0.1',10000,1523777625,100359,4,'111154')
1523777624930204571
SELECT ip,port FROM t_rooms WHERE id = "204571"
{ userid: '100359',
  name: '东阳自摸',
  roomid: '204571',
  sign: 'cc53eb305dd0e299f187e538cb2701cf' }
cc53eb305dd0e299f187e538cb2701cf
SELECT gems FROM t_users WHERE userid = 100359
UPDATE t_rooms SET user_id0 = 100359,user_icon0 = "",user_name0 = "5Lic6Ziz6Ieq5pG4" WHERE id = "204571"
{ token: '044c7946c30fe084c2aafad1526665c7',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "204571" WHERE userid = "100359"
204571
044c7946c30fe084c2aafad1526665c7
1523777624942
8be4aa378a6d148869c6552d2ec44589
SELECT gems FROM t_users WHERE account = "guest_789"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100359)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111154 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111154 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111142 
SELECT last FROM t_users WHERE userid=100359
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111154 )
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE creator = "100359"
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111154 )
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_789"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=044680 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "044680"
SELECT * FROM t_message WHERE type = "notice"
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111154 )
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111154 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111199 )
INSERT INTO  t_relation (user_id,club_id) VALUES( 100359 , 111199 ) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100359)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
INSERT INTO  t_relation (user_id,club_id) VALUES( 100359 , 111198 ) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100359)  
INSERT INTO  t_relation (user_id,club_id) VALUES( 100359 , 111189 ) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100359)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111189 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111189 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111199 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111199 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111199 )
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1523676061557.00"
东阳有钱
SELECT userid FROM t_users WHERE account = "guest_1523676061557.00"
INSERT INTO t_users(account,name,coins,gems,sex,headimg,blacklist,location) VALUES('guest_1523676061557.00','5Lic6Ziz5pyJ6ZKx',1000,21,0,null,'[]','{"x":0.0,"y":0.0}')
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1523676061557.00"
SELECT name,sex,headimg FROM t_users WHERE userid=100391
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "guest_1523676061557.00"
SELECT last FROM t_users WHERE userid=100391
UPDATE t_users SET last='2018-04-15T07:45:44.728Z' WHERE userid=100391
UPDATE t_users SET gems = gems+1 WHERE userid = 100391
SELECT last FROM t_users WHERE userid=100391
SELECT gems FROM t_users WHERE account = "guest_1523676061557.00"
SELECT gems FROM t_users WHERE account = "guest_1523676061557.00"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111198 )
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111198 )
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111199 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111199 )
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111199 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
{ account: 'guest_1522655129133',
  sign: 'ab4db854a4a4d4660c7f56fb680eecae',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":111198,"type":"sjmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":111198,"type":"sjmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100358"
club_id is111198
{ type: 'sjmj',
  baseScore: 0.5,
  jinfen: 1,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100358,
  paytype: 0,
  cheat: false,
  clubId: 111198 }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523778833936252759','252759','{"type":"sjmj","baseScore":0.5,"jinfen":1,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100358,"paytype":0,"cheat":false,"clubId":111198}','127.0.0.1',10000,1523778834,100358,4,'111198')
1523778833936252759
SELECT ip,port FROM t_rooms WHERE id = "252759"
{ userid: '100358',
  name: '端木有钱',
  roomid: '252759',
  sign: '8b674249a68e6ba3ba42282aa9b452e8' }
8b674249a68e6ba3ba42282aa9b452e8
SELECT gems FROM t_users WHERE userid = 100358
UPDATE t_rooms SET user_id0 = 100358,user_icon0 = "",user_name0 = "56uv5pyo5pyJ6ZKx" WHERE id = "252759"
{ token: 'f08ba434bd1ab50c3392d64ba219c11f',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "252759" WHERE userid = "100358"
252759
f08ba434bd1ab50c3392d64ba219c11f
1523778833947
235b6722ee02e2a1955fbf3209e23ee0
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=252759 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "252759"
{ userid: '100358',
  name: '端木有钱',
  roomid: '252759',
  sign: '8b674249a68e6ba3ba42282aa9b452e8' }
8b674249a68e6ba3ba42282aa9b452e8
SELECT gems FROM t_users WHERE userid = 100358
{ token: 'd7ef7dace15e1e800dd289872cd6c5ac',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "252759" WHERE userid = "100358"
252759
d7ef7dace15e1e800dd289872cd6c5ac
1523779906725
e9230128e0b795ed3d8e4b37dfcb6a77
100358			100358
UPDATE t_users SET roomid = null WHERE userid = "100358"
DELETE FROM t_rooms WHERE id = '252759'
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111199 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111199 )
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111199 )
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111199 )
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=252759 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "252759"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111142 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111199 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111199 )
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_789"
SELECT gems FROM t_users WHERE account = "guest_789"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_789"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=204571 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "204571"
{ userid: '100359',
  name: '东阳自摸',
  roomid: '204571',
  sign: 'cc53eb305dd0e299f187e538cb2701cf' }
cc53eb305dd0e299f187e538cb2701cf
SELECT gems FROM t_users WHERE userid = 100359
{ token: '88c0c3baeb3034134d0fe51dd2e76930',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "204571" WHERE userid = "100359"
204571
88c0c3baeb3034134d0fe51dd2e76930
1523780994264
e7a70d93dc11312cf0fc9a8cf0c1af8b
100359			100359
UPDATE t_users SET roomid = null WHERE userid = "100359"
DELETE FROM t_rooms WHERE id = '204571'
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "guest_789"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100359)  
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100359)  
INSERT INTO  t_relation (user_id,club_id) VALUES( 100358 , 111202 ) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_789"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=204571 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "204571"
Android
SELECT userid FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
UPDATE t_users SET name="5aW95ZCN5a2X",headimg="http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLXkMPlPdXzdQ3fqGLe9XmMvZDGXnOaqQic6oMFtJ6TsVfBheVpxFABIMiaaicKFZIz8W0nzFzqChVcg/132",sex=2 WHERE account="wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
SELECT name,sex,headimg FROM t_users WHERE userid=100384
SELECT gems FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
SELECT name,sex,headimg FROM t_users WHERE userid=100384
SELECT gems FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100384)  
++++++++++++++++++++++++++++++++++++
{"x":37.949874,"y":112.546019}
UPDATE t_users SET location='{"x":37.949874,"y":112.546019}' WHERE account='wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT name,sex,headimg FROM t_users WHERE userid=100335
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100335)  
++++++++++++++++++++++++++++++++++++
{"x":35.553226,"y":110.946677}
UPDATE t_users SET location='{"x":35.553226,"y":110.946677}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111191 )
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111191 )
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100334)  
++++++++++++++++++++++++++++++++++++
{"x":35.624372,"y":110.896818}
UPDATE t_users SET location='{"x":35.624372,"y":110.896818}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT name,sex,headimg FROM t_users WHERE userid=100335
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100335)  
++++++++++++++++++++++++++++++++++++
{"x":35.624371,"y":110.896837}
UPDATE t_users SET location='{"x":35.624371,"y":110.896837}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100334)  
++++++++++++++++++++++++++++++++++++
{"x":35.624371,"y":110.89676}
UPDATE t_users SET location='{"x":35.624371,"y":110.89676}' WHERE account='wx_omM_A1EAhZ8maByl3fRKpMyAO2qo'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111191 )
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100335)  
++++++++++++++++++++++++++++++++++++
{"x":35.624371,"y":110.896788}
UPDATE t_users SET location='{"x":35.624371,"y":110.896788}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100335)  
++++++++++++++++++++++++++++++++++++
{"x":35.624372,"y":110.896826}
UPDATE t_users SET location='{"x":35.624372,"y":110.896826}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=309528 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "309528"
{ userid: '100335',
  name: '月光',
  roomid: '309528',
  sign: '5bc6db91ad8c4cb7a8ee23f2ce0411ef' }
5bc6db91ad8c4cb7a8ee23f2ce0411ef
SELECT gems FROM t_users WHERE userid = 100335
UPDATE t_rooms SET user_id1 = 100335,user_icon1 = "",user_name1 = "5pyI5YWJ" WHERE id = "309528"
{ token: 'bd0af538071e42bc33dc46dd1da09618',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "309528" WHERE userid = "100335"
309528
bd0af538071e42bc33dc46dd1da09618
1523791185416
c72e93c091e9d885a86291f21681179a
SELECT name,sex,headimg FROM t_users WHERE userid=100333
1
4
1
4
1
4
1
4
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100335)  
++++++++++++++++++++++++++++++++++++
{"x":35.62437,"y":110.89684}
UPDATE t_users SET location='{"x":35.62437,"y":110.89684}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111203 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100335)  
++++++++++++++++++++++++++++++++++++
{"x":35.624371,"y":110.896819}
UPDATE t_users SET location='{"x":35.624371,"y":110.896819}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111203 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=309528 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "309528"
{ userid: '100335',
  name: '月光',
  roomid: '309528',
  sign: '5bc6db91ad8c4cb7a8ee23f2ce0411ef' }
5bc6db91ad8c4cb7a8ee23f2ce0411ef
SELECT gems FROM t_users WHERE userid = 100335
{ token: '171f179245793593b059d736e78821e6',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "309528" WHERE userid = "100335"
309528
171f179245793593b059d736e78821e6
1523791377558
9aabb7e75ea2d363ed8ac9928b9b9329
1
4
UPDATE t_rooms SET user_id1 = 0,user_icon1 = "",user_name1 = "" WHERE id = "309528"
UPDATE t_users SET roomid = null WHERE userid = "100335"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
++++++++++++++++++++++++++++++++++++
{"x":35.62452935112847,"y":110.89689697265625}
UPDATE t_users SET location='{"x":35.62452935112847,"y":110.89689697265625}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
{ account: 'wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc',
  sign: 'ff2f9ddfc830c2c1ad6e0a9f19303583',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100335"
++++++++++++++++++++++++++++++++++++
{"x":35.624371,"y":110.896819}
UPDATE t_users SET location='{"x":35.624371,"y":110.896819}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
{ account: 'wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc',
  sign: 'ff2f9ddfc830c2c1ad6e0a9f19303583',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":1,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":1,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100335"
club_id is
{ type: 'sjmj',
  baseScore: 0.5,
  jinfen: 1,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100335,
  paytype: 1,
  cheat: false,
  clubId: '' }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523791406230943533','943533','{"type":"sjmj","baseScore":0.5,"jinfen":1,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100335,"paytype":1,"cheat":false,"clubId":""}','127.0.0.1',10000,1523791407,100335,1,'')
1523791406230943533
SELECT ip,port FROM t_rooms WHERE id = "943533"
{ userid: '100335',
  name: '月光',
  roomid: '943533',
  sign: 'e65c008f3e3c93ff555582b709377115' }
e65c008f3e3c93ff555582b709377115
SELECT gems FROM t_users WHERE userid = 100335
UPDATE t_rooms SET user_id0 = 100335,user_icon0 = "",user_name0 = "5pyI5YWJ" WHERE id = "943533"
{ token: 'ce6cb8da912b6e077650ef552c10af60',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "943533" WHERE userid = "100335"
943533
ce6cb8da912b6e077650ef552c10af60
1523791406244
f623dbf2eb8c148e64b0da1675e42fde
UPDATE t_rooms SET user_id0 = 0,user_icon0 = "",user_name0 = "" WHERE id = "943533"
UPDATE t_users SET roomid = null WHERE userid = "100335"
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE creator = "100335"
++++++++++++++++++++++++++++++++++++
{"x":35.624372,"y":110.896783}
UPDATE t_users SET location='{"x":35.624372,"y":110.896783}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=943533 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "943533"
{ userid: '100335',
  name: '月光',
  roomid: '943533',
  sign: 'e65c008f3e3c93ff555582b709377115' }
e65c008f3e3c93ff555582b709377115
SELECT gems FROM t_users WHERE userid = 100335
UPDATE t_rooms SET user_id0 = 100335,user_icon0 = "",user_name0 = "5pyI5YWJ" WHERE id = "943533"
{ token: '3aabcb37b25b6fb241c4ee9d767d9312',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "943533" WHERE userid = "100335"
943533
3aabcb37b25b6fb241c4ee9d767d9312
1523791444974
de607219cf1084eca2a8b46c8e7638b0
100335			100335
UPDATE t_users SET roomid = null WHERE userid = "100335"
DELETE FROM t_rooms WHERE id = '943533'
SELECT gems FROM t_users WHERE account = "wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1HC7RtdGuKXt299y5w77Jnc"
SELECT name,sex,headimg FROM t_users WHERE userid=100330
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1HC7RtdGuKXt299y5w77Jnc"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100335)  
++++++++++++++++++++++++++++++++++++
{"x":35.624369,"y":110.896831}
UPDATE t_users SET location='{"x":35.624369,"y":110.896831}' WHERE account='wx_omM_A1N0hlWW6aD7qVBOFGxjuQdc'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1HC7RtdGuKXt299y5w77Jnc"
SELECT gems FROM t_users WHERE account = "wx_omM_A1HC7RtdGuKXt299y5w77Jnc"
SELECT name,sex,headimg FROM t_users WHERE userid=100330
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111191 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100330)  
++++++++++++++++++++++++++++++++++++
{"x":37.959426,"y":112.543888}
UPDATE t_users SET location='{"x":37.959426,"y":112.543888}' WHERE account='wx_omM_A1HC7RtdGuKXt299y5w77Jnc'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111182 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111182 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111182 
SELECT gems FROM t_users WHERE account = "wx_omM_A1HC7RtdGuKXt299y5w77Jnc"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT name,sex,headimg FROM t_users WHERE userid=100333
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=309528 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "309528"
{ userid: '100333',
  name: '张麟华',
  roomid: '309528',
  sign: '04551b4b7a1359c053daac8d8d301f28' }
04551b4b7a1359c053daac8d8d301f28
SELECT gems FROM t_users WHERE userid = 100333
{ token: 'e6a5ae57017e5f86f181a34963943599',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "309528" WHERE userid = "100333"
309528
e6a5ae57017e5f86f181a34963943599
1523792213293
2615f02190bb8ff4fa8cb8ceddca7f73
UPDATE t_rooms SET user_id0 = 0,user_icon0 = "",user_name0 = "" WHERE id = "309528"
UPDATE t_users SET roomid = null WHERE userid = "100333"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
SELECT gems FROM t_users WHERE account = "wx_omM_A1DVa_dWW5mvbCaAxNPkAzeg"
++++++++++++++++++++++++++++++++++++
{"x":37.957951,"y":112.546758}
UPDATE t_users SET location='{"x":37.957951,"y":112.546758}' WHERE account='wx_omM_A1HC7RtdGuKXt299y5w77Jnc'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1HC7RtdGuKXt299y5w77Jnc"
SELECT name,sex,headimg FROM t_users WHERE userid=100330
SELECT gems FROM t_users WHERE account = "wx_omM_A1HC7RtdGuKXt299y5w77Jnc"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1HC7RtdGuKXt299y5w77Jnc"
SELECT gems FROM t_users WHERE account = "wx_omM_A1HC7RtdGuKXt299y5w77Jnc"
SELECT name,sex,headimg FROM t_users WHERE userid=100330
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1HC7RtdGuKXt299y5w77Jnc"
SELECT gems FROM t_users WHERE account = "wx_omM_A1HC7RtdGuKXt299y5w77Jnc"
SELECT name,sex,headimg FROM t_users WHERE userid=100330
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
++++++++++++++++++++++++++++++++++++
{"x":37.957952,"y":112.546758}
UPDATE t_users SET location='{"x":37.957952,"y":112.546758}' WHERE account='wx_omM_A1HC7RtdGuKXt299y5w77Jnc'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1HC7RtdGuKXt299y5w77Jnc"
SELECT name,sex,headimg FROM t_users WHERE userid=100330
SELECT gems FROM t_users WHERE account = "wx_omM_A1HC7RtdGuKXt299y5w77Jnc"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100330)  
++++++++++++++++++++++++++++++++++++
{"x":37.957964,"y":112.546771}
UPDATE t_users SET location='{"x":37.957964,"y":112.546771}' WHERE account='wx_omM_A1HC7RtdGuKXt299y5w77Jnc'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111182 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111182 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111182 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111142 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111199 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
SELECT name,sex,headimg FROM t_users WHERE userid=100384
SELECT gems FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111199 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111199 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1HC7RtdGuKXt299y5w77Jnc"
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111199 )
SELECT name,sex,headimg FROM t_users WHERE userid=100330
SELECT gems FROM t_users WHERE account = "wx_omM_A1HC7RtdGuKXt299y5w77Jnc"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111199 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111199 
DELETE  FROM  t_club WHERE ( club_id= 111199 ) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111202 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111198 )
DELETE  FROM  t_relation WHERE (user_id=100359 AND club_id= 111198) 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111198 )
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111202 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111202 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111202 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111202 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111142 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111202 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111142 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111202 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111198 )
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111198 )
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111198 )
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111204 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111202 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111204 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111204 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111202 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111204 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111204 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1HC7RtdGuKXt299y5w77Jnc"
SELECT name,sex,headimg FROM t_users WHERE userid=100330
SELECT gems FROM t_users WHERE account = "wx_omM_A1HC7RtdGuKXt299y5w77Jnc"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111204 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111202 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111202 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111204 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100330)  
++++++++++++++++++++++++++++++++++++
{"x":37.957952,"y":112.546759}
UPDATE t_users SET location='{"x":37.957952,"y":112.546759}' WHERE account='wx_omM_A1HC7RtdGuKXt299y5w77Jnc'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111182 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111204 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111204 )
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
SELECT name,sex,headimg FROM t_users WHERE userid=100384
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
SELECT gems FROM t_users WHERE account = "wx_omM_A1Du_pjU0PRQVSlG6OzmaSBc"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111205 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111205 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111204 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111204 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111204 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111206 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "wx_omM_A1HC7RtdGuKXt299y5w77Jnc"
SELECT name,sex,headimg FROM t_users WHERE userid=100330
SELECT gems FROM t_users WHERE account = "wx_omM_A1HC7RtdGuKXt299y5w77Jnc"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111205 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100356)  
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100356)  
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111205 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111205 )
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111205 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111204 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111204 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111205 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111202 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111205 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111206 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111205 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111205 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111202 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111142 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111208 
DELETE  FROM  t_club WHERE ( club_id= 111208 ) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111206 
DELETE  FROM  t_club WHERE ( club_id= 111206 ) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111205 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111202 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111204 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111204 )
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111204 )
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111204 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111204 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111142 
DELETE  FROM  t_relation WHERE (user_id=100358 AND club_id= 111142) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111207 
DELETE  FROM  t_club WHERE ( club_id= 111207 ) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111198 
DELETE  FROM  t_club WHERE ( club_id= 111198 ) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111205 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111205 )
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111205 )
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111205 )
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111205 )
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111207 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111205 )
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111205 )
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE creator = "100330"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100330)  
++++++++++++++++++++++++++++++++++++
{"x":37.957736,"y":112.547487}
UPDATE t_users SET location='{"x":37.957736,"y":112.547487}' WHERE account='wx_omM_A1HC7RtdGuKXt299y5w77Jnc'
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111182 
DELETE  FROM  t_relation WHERE (user_id=100330 AND club_id= 111182) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100330)  
2,null
++++++++++++++++++++++++++++++++++++
{"x":37.957736,"y":112.547487}
UPDATE t_users SET location='{"x":37.957736,"y":112.547487}' WHERE account='wx_omM_A1HC7RtdGuKXt299y5w77Jnc'
++++++++++++++++++++++++++++++++++++
{"x":37.957736,"y":112.547487}
UPDATE t_users SET location='{"x":37.957736,"y":112.547487}' WHERE account='wx_omM_A1HC7RtdGuKXt299y5w77Jnc'
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100330)  
2,null
++++++++++++++++++++++++++++++++++++
{"x":37.957736,"y":112.547487}
UPDATE t_users SET location='{"x":37.957736,"y":112.547487}' WHERE account='wx_omM_A1HC7RtdGuKXt299y5w77Jnc'
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111204 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111202 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111205 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111205 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111205 
SELECT userid,name FROM t_users WHERE userid in ( SELECT user_id FROM t_relation  WHERE club_id= 111205 )
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111205 
DELETE  FROM  t_club WHERE ( club_id= 111205 ) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111204 
DELETE  FROM  t_club WHERE ( club_id= 111204 ) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111202 
DELETE  FROM  t_relation WHERE (user_id=100358 AND club_id= 111202) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111139 
DELETE  FROM  t_relation WHERE (user_id=100358 AND club_id= 111139) 
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
2,null
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1522655129133"
SELECT gems FROM t_users WHERE account = "guest_1522655129133"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
2,null
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100358)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111209 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111209 
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_789"
SELECT gems FROM t_users WHERE account = "guest_789"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100359)  
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111189 
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE club_id = 111189 
account server is listening on 9000
dealer api is listening on localhost:12581
client service is listening on port 9001
room service is listening on localhost:9002
game server is listening on localhost:9003
game server is listening on 10000
game server registered.
	id:192.168.1.110:10000
	addr:127.0.0.1
	http port:9003
	socket clientport:10000
192.168.1.110:10000
ad3e2b05dc4b27afa121dd24c460a674
invalid parameters
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=847500 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "847500"
{ userid: '100356',
  name: '东郭有钱',
  roomid: '847500',
  sign: '5ff8c3d98fbbb48f7cd54070a96e3021' }
5ff8c3d98fbbb48f7cd54070a96e3021
SELECT gems FROM t_users WHERE userid = 100356
SELECT * FROM t_rooms WHERE id = "847500"
{ token: 'd843485a0ccb614af86bf334e9addb78',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "847500" WHERE userid = "100356"
847500
d843485a0ccb614af86bf334e9addb78
1523965808094
abfbdf50d75233cfe8a80823a9766e08
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT gems FROM t_users WHERE account = "guest_2"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=847500 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "847500"
{ userid: '100367',
  name: '南宫赌圣',
  roomid: '847500',
  sign: '2f9e76cf05602961d66d7d0ad1250929' }
2f9e76cf05602961d66d7d0ad1250929
SELECT gems FROM t_users WHERE userid = 100367
距离0
{ errcode: 998, errmsg: 'you are not in' }
you are not in
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_4"
SELECT gems FROM t_users WHERE account = "guest_4"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_4"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=847500 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "847500"
{ userid: '100360',
  name: '夏侯赌侠',
  roomid: '847500',
  sign: '6899d9cc8866328721ee62f6a0c1891b' }
6899d9cc8866328721ee62f6a0c1891b
SELECT gems FROM t_users WHERE userid = 100360
距离0
{ errcode: 998, errmsg: 'you are not in' }
you are not in
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_6"
SELECT gems FROM t_users WHERE account = "guest_6"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_6"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=847500 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "847500"
{ userid: '100368',
  name: '皇甫自摸',
  roomid: '847500',
  sign: '4bc5dd52e3498dfe7ad18dbf3404a21f' }
4bc5dd52e3498dfe7ad18dbf3404a21f
SELECT gems FROM t_users WHERE userid = 100368
距离0
{ errcode: 998, errmsg: 'you are not in' }
you are not in
100356			100356
UPDATE t_users SET roomid = null WHERE userid = "100356"
DELETE FROM t_rooms WHERE id = '847500'
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
{ account: 'guest_1516885718529',
  sign: 'f093e905b3cd9f17002df63c2e99536a',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100356"
club_id is
{ type: 'sjmj',
  baseScore: 0.5,
  jinfen: 1,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100356,
  paytype: 0,
  cheat: false,
  clubId: '' }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523966137629383510','383510','{"type":"sjmj","baseScore":0.5,"jinfen":1,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100356,"paytype":0,"cheat":false,"clubId":""}','127.0.0.1',10000,1523966138,100356,4,'')
1523966137629383510
SELECT ip,port FROM t_rooms WHERE id = "383510"
{ userid: '100356',
  name: '东郭有钱',
  roomid: '383510',
  sign: 'd78f438dcb70c567e1f31e02a3cdb0ff' }
d78f438dcb70c567e1f31e02a3cdb0ff
SELECT gems FROM t_users WHERE userid = 100356
UPDATE t_rooms SET user_id0 = 100356,user_icon0 = "",user_name0 = "5Lic6YOt5pyJ6ZKx" WHERE id = "383510"
{ token: '1003828e0663740e17f0bebe4aa08de4',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "383510" WHERE userid = "100356"
383510
1003828e0663740e17f0bebe4aa08de4
1523966137871
3b44c2d643681f7d01d48b6cc478a3f5
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT gems FROM t_users WHERE account = "guest_2"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=383510 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "383510"
{ userid: '100367',
  name: '南宫赌圣',
  roomid: '383510',
  sign: 'f0fe19df379d811daf13861ed63c808a' }
f0fe19df379d811daf13861ed63c808a
SELECT gems FROM t_users WHERE userid = 100367
UPDATE t_rooms SET user_id1 = 100367,user_icon1 = "",user_name1 = "5Y2X5a6r6LWM5Zyj" WHERE id = "383510"
{ token: 'd1e1165274f4c77b39cdea2aeb68d5ba',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "383510" WHERE userid = "100367"
383510
d1e1165274f4c77b39cdea2aeb68d5ba
1523966148629
4e77b4f1842a8e2f937de03f2727d458
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_4"
SELECT gems FROM t_users WHERE account = "guest_4"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_4"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=383510 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "383510"
{ userid: '100360',
  name: '夏侯赌侠',
  roomid: '383510',
  sign: '33c8fe0c9dd11af05d7265723e597d00' }
33c8fe0c9dd11af05d7265723e597d00
SELECT gems FROM t_users WHERE userid = 100360
UPDATE t_rooms SET user_id2 = 100360,user_icon2 = "",user_name2 = "5aSP5L6v6LWM5L6g" WHERE id = "383510"
{ token: '5b6d35fb61980eba516bccebfce90ffc',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "383510" WHERE userid = "100360"
383510
5b6d35fb61980eba516bccebfce90ffc
1523966154946
5f3502de3b3baac7a2b1f5bd8045e172
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_6"
SELECT gems FROM t_users WHERE account = "guest_6"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_6"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=383510 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "383510"
{ userid: '100368',
  name: '皇甫自摸',
  roomid: '383510',
  sign: '9a41d90bc52823fa24da4ee5b0075028' }
9a41d90bc52823fa24da4ee5b0075028
SELECT gems FROM t_users WHERE userid = 100368
UPDATE t_rooms SET user_id3 = 100368,user_icon3 = "",user_name3 = "55qH55Sr6Ieq5pG4" WHERE id = "383510"
{ token: 'b9173db3ce6091c78cff1d830774d8c4',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "383510" WHERE userid = "100368"
383510
b9173db3ce6091c78cff1d830774d8c4
1523966161599
744c4440815c60e854bc51582c29d570
begin start==============383510
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 19
game_action_push
begin end=================
1
5
6
do game over!
roomid :383510
roomInfo:[object Object]
forceEnd :true
UPDATE t_rooms SET next_button = 1 WHERE id = "383510"
game_over_push
UPDATE t_users SET roomid = null WHERE userid = "100356"
UPDATE t_users SET roomid = null WHERE userid = "100367"
UPDATE t_users SET roomid = null WHERE userid = "100360"
UPDATE t_users SET roomid = null WHERE userid = "100368"
DELETE FROM t_rooms WHERE id = '383510'
INSERT INTO t_games_archive(SELECT * FROM t_games WHERE room_uuid = '1523966137629383510')
DELETE FROM t_games WHERE room_uuid = '1523966137629383510'
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
{ account: 'guest_1516885718529',
  sign: 'f093e905b3cd9f17002df63c2e99536a',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100356"
club_id is
{ type: 'sjmj',
  baseScore: 0.5,
  jinfen: 1,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100356,
  paytype: 0,
  cheat: false,
  clubId: '' }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523966300079583002','583002','{"type":"sjmj","baseScore":0.5,"jinfen":1,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100356,"paytype":0,"cheat":false,"clubId":""}','127.0.0.1',10000,1523966301,100356,4,'')
1523966300079583002
SELECT ip,port FROM t_rooms WHERE id = "583002"
{ userid: '100356',
  name: '东郭有钱',
  roomid: '583002',
  sign: '5269019a1671a7b2be3c31c1747f9474' }
5269019a1671a7b2be3c31c1747f9474
SELECT gems FROM t_users WHERE userid = 100356
UPDATE t_rooms SET user_id0 = 100356,user_icon0 = "",user_name0 = "5Lic6YOt5pyJ6ZKx" WHERE id = "583002"
{ token: '2e116f163e08bff663116bcecd90492c',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "583002" WHERE userid = "100356"
583002
2e116f163e08bff663116bcecd90492c
1523966300265
4630f1eaf1bb0454d0173c05e6fc56a5
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=583002 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "583002"
{ userid: '100356',
  name: '东郭有钱',
  roomid: '583002',
  sign: '5269019a1671a7b2be3c31c1747f9474' }
5269019a1671a7b2be3c31c1747f9474
SELECT gems FROM t_users WHERE userid = 100356
{ token: '02fe9cee16fbc1024cd9220f37c14e60',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "583002" WHERE userid = "100356"
583002
02fe9cee16fbc1024cd9220f37c14e60
1523966489342
80f5642a6327eb3ad5ff030ac2e72dd2
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=583002
/Users/bin_mac/Documents/workplace/HengShengYuLe/server/node_modules/mysql/lib/protocol/Parser.js:78
        throw err; // Rethrow non-MySQL errors
        ^

TypeError: Cannot read property 'user_id0' of undefined
    at /Users/bin_mac/Documents/workplace/HengShengYuLe/server/hall_server/client_service.js:373:29
    at /Users/bin_mac/Documents/workplace/HengShengYuLe/server/utils/db.js:431:17
    at Query._callback (/Users/bin_mac/Documents/workplace/HengShengYuLe/server/utils/db.js:19:17)
    at Query.Sequence.end (/Users/bin_mac/Documents/workplace/HengShengYuLe/server/node_modules/mysql/lib/protocol/sequences/Sequence.js:85:24)
    at Query._handleFinalResultPacket (/Users/bin_mac/Documents/workplace/HengShengYuLe/server/node_modules/mysql/lib/protocol/sequences/Query.js:144:8)
    at Query.EofPacket (/Users/bin_mac/Documents/workplace/HengShengYuLe/server/node_modules/mysql/lib/protocol/sequences/Query.js:128:8)
    at Protocol._parsePacket (/Users/bin_mac/Documents/workplace/HengShengYuLe/server/node_modules/mysql/lib/protocol/Protocol.js:280:23)
    at Parser.write (/Users/bin_mac/Documents/workplace/HengShengYuLe/server/node_modules/mysql/lib/protocol/Parser.js:74:12)
    at Protocol.write (/Users/bin_mac/Documents/workplace/HengShengYuLe/server/node_modules/mysql/lib/protocol/Protocol.js:39:16)
    at Socket.<anonymous> (/Users/bin_mac/Documents/workplace/HengShengYuLe/server/node_modules/mysql/lib/Connection.js:109:28)
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
client service is listening on port 9001
room service is listening on localhost:9002
game server is listening on localhost:9003
account server is listening on 9000
dealer api is listening on localhost:12581
game server is listening on 10000
game server registered.
	id:192.168.1.110:10000
	addr:127.0.0.1
	http port:9003
	socket clientport:10000
192.168.1.110:10000
ad3e2b05dc4b27afa121dd24c460a674
invalid parameters
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=583002 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "583002"
{ userid: '100356',
  name: '东郭有钱',
  roomid: '583002',
  sign: '5269019a1671a7b2be3c31c1747f9474' }
5269019a1671a7b2be3c31c1747f9474
SELECT gems FROM t_users WHERE userid = 100356
SELECT * FROM t_rooms WHERE id = "583002"
{ token: 'a8bf8c26bea0e4ecc019e73ffca25de9',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "583002" WHERE userid = "100356"
583002
a8bf8c26bea0e4ecc019e73ffca25de9
1523966570392
a98fc3c1a253f3ca13fbeaf0ea0ffcb5
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT gems FROM t_users WHERE account = "guest_2"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=583002 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "583002"
{ userid: '100356',
  name: '东郭有钱',
  roomid: '583002',
  sign: '5269019a1671a7b2be3c31c1747f9474' }
5269019a1671a7b2be3c31c1747f9474
SELECT gems FROM t_users WHERE userid = 100356
{ token: '2f05af84af5904e1268d138180df28ac',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "583002" WHERE userid = "100356"
583002
2f05af84af5904e1268d138180df28ac
1523966613067
589ddeba71bf69f0ded3ad19628ef94c
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=583002 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "583002"
{ userid: '100367',
  name: '南宫赌圣',
  roomid: '583002',
  sign: 'f3c6143385ac3af732638f571c1cf42f' }
f3c6143385ac3af732638f571c1cf42f
SELECT gems FROM t_users WHERE userid = 100367
UPDATE t_rooms SET user_id1 = 100367,user_icon1 = "",user_name1 = "5Y2X5a6r6LWM5Zyj" WHERE id = "583002"
{ token: '109f257a338d88ae071ba4d77c1b9468',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "583002" WHERE userid = "100367"
583002
109f257a338d88ae071ba4d77c1b9468
1523966619852
f3d49855828880bc13d14f51f3d9f69d
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_4"
SELECT gems FROM t_users WHERE account = "guest_4"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_4"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=583002 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "583002"
{ userid: '100360',
  name: '夏侯赌侠',
  roomid: '583002',
  sign: '94f48336c5a8be3fe94bc317fd1bd810' }
94f48336c5a8be3fe94bc317fd1bd810
SELECT gems FROM t_users WHERE userid = 100360
UPDATE t_rooms SET user_id2 = 100360,user_icon2 = "",user_name2 = "5aSP5L6v6LWM5L6g" WHERE id = "583002"
{ token: '503eabc7ff16bd38181640e318a4faca',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "583002" WHERE userid = "100360"
583002
503eabc7ff16bd38181640e318a4faca
1523966628731
631cc8d7ea85bbbd362353ee77b2d88d
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_6"
SELECT gems FROM t_users WHERE account = "guest_6"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_6"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=583002 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "583002"
{ userid: '100368',
  name: '皇甫自摸',
  roomid: '583002',
  sign: 'e620560ec586b26cb0f452e1148e103d' }
e620560ec586b26cb0f452e1148e103d
SELECT gems FROM t_users WHERE userid = 100368
UPDATE t_rooms SET user_id3 = 100368,user_icon3 = "",user_name3 = "55qH55Sr6Ieq5pG4" WHERE id = "583002"
{ token: '8c7b127ec3812b474ca6102eeb1a9eed',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "583002" WHERE userid = "100368"
583002
8c7b127ec3812b474ca6102eeb1a9eed
1523966635181
e1e5d83a72dcf17ab62ec72de5e8b5ea
begin start==============583002
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 5
game_action_push
begin end=================
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=583002
/Users/bin_mac/Documents/workplace/HengShengYuLe/server/node_modules/mysql/lib/protocol/Parser.js:78
        throw err; // Rethrow non-MySQL errors
        ^

TypeError: Cannot read property 'user_id0' of undefined
    at /Users/bin_mac/Documents/workplace/HengShengYuLe/server/hall_server/client_service.js:373:29
    at /Users/bin_mac/Documents/workplace/HengShengYuLe/server/utils/db.js:431:17
    at Query._callback (/Users/bin_mac/Documents/workplace/HengShengYuLe/server/utils/db.js:19:17)
    at Query.Sequence.end (/Users/bin_mac/Documents/workplace/HengShengYuLe/server/node_modules/mysql/lib/protocol/sequences/Sequence.js:85:24)
    at Query._handleFinalResultPacket (/Users/bin_mac/Documents/workplace/HengShengYuLe/server/node_modules/mysql/lib/protocol/sequences/Query.js:144:8)
    at Query.EofPacket (/Users/bin_mac/Documents/workplace/HengShengYuLe/server/node_modules/mysql/lib/protocol/sequences/Query.js:128:8)
    at Protocol._parsePacket (/Users/bin_mac/Documents/workplace/HengShengYuLe/server/node_modules/mysql/lib/protocol/Protocol.js:280:23)
    at Parser.write (/Users/bin_mac/Documents/workplace/HengShengYuLe/server/node_modules/mysql/lib/protocol/Parser.js:74:12)
    at Protocol.write (/Users/bin_mac/Documents/workplace/HengShengYuLe/server/node_modules/mysql/lib/protocol/Protocol.js:39:16)
    at Socket.<anonymous> (/Users/bin_mac/Documents/workplace/HengShengYuLe/server/node_modules/mysql/lib/Connection.js:109:28)
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
1
5
6
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
do game over!
roomid :583002
roomInfo:[object Object]
forceEnd :true
UPDATE t_rooms SET next_button = 1 WHERE id = "583002"
game_over_push
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
UPDATE t_users SET roomid = null WHERE userid = "100356"
UPDATE t_users SET roomid = null WHERE userid = "100367"
UPDATE t_users SET roomid = null WHERE userid = "100360"
UPDATE t_users SET roomid = null WHERE userid = "100368"
DELETE FROM t_rooms WHERE id = '583002'
INSERT INTO t_games_archive(SELECT * FROM t_games WHERE room_uuid = '1523966300079583002')
DELETE FROM t_games WHERE room_uuid = '1523966300079583002'
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
account server is listening on 9000
dealer api is listening on localhost:12581
game server is listening on localhost:9003
game server is listening on 10000
192.168.1.110:10000
ad3e2b05dc4b27afa121dd24c460a674
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100356"
club_id is
{ type: 'sjmj',
  baseScore: 0.5,
  jinfen: 1,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100356,
  paytype: 0,
  cheat: false,
  clubId: '' }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523966991842923874','923874','{"type":"sjmj","baseScore":0.5,"jinfen":1,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100356,"paytype":0,"cheat":false,"clubId":""}','127.0.0.1',10000,1523966992,100356,4,'')
1523966991842923874
{ userid: '100356',
  name: '东郭有钱',
  roomid: '923874',
  sign: 'c5a58d8ccdd190a31830926e57db78df' }
c5a58d8ccdd190a31830926e57db78df
SELECT gems FROM t_users WHERE userid = 100356
UPDATE t_rooms SET user_id0 = 100356,user_icon0 = "",user_name0 = "5Lic6YOt5pyJ6ZKx" WHERE id = "923874"
923874
14bee32e2588f4cdd7d639d2b8255923
1523966992084
e40ec126733beab57e6c94373251cae1
{ userid: '100367',
  name: '南宫赌圣',
  roomid: '923874',
  sign: '813c5406ab9f55f7c10a2154d78551ed' }
813c5406ab9f55f7c10a2154d78551ed
SELECT gems FROM t_users WHERE userid = 100367
UPDATE t_rooms SET user_id1 = 100367,user_icon1 = "",user_name1 = "5Y2X5a6r6LWM5Zyj" WHERE id = "923874"
923874
ef83b0845a4ea8e6ddc117a3634197bc
1523967020484
532060c758050f4b5fcb5cb1fb1c3d0d
{ userid: '100360',
  name: '夏侯赌侠',
  roomid: '923874',
  sign: '19a279f6fe9cd249d118282702c43a4d' }
19a279f6fe9cd249d118282702c43a4d
SELECT gems FROM t_users WHERE userid = 100360
UPDATE t_rooms SET user_id2 = 100360,user_icon2 = "",user_name2 = "5aSP5L6v6LWM5L6g" WHERE id = "923874"
923874
3ec8bae5aeed443f31d9933d9503bfdf
1523967027370
7956ccc0e54287a6c821d5c07a449750
{ userid: '100368',
  name: '皇甫自摸',
  roomid: '923874',
  sign: '06f4ecdced0020cc4248c2f21a6a0522' }
06f4ecdced0020cc4248c2f21a6a0522
SELECT gems FROM t_users WHERE userid = 100368
UPDATE t_rooms SET user_id3 = 100368,user_icon3 = "",user_name3 = "55qH55Sr6Ieq5pG4" WHERE id = "923874"
923874
f3003928abf207db75ea0e5adf753d8d
1523967033762
86bfb8b50cf0a4e3a46d2f0ea8887b30
begin start==============923874
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 11
game_action_push
begin end=================
problem with request: read ECONNRESET
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
1
5
6
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
do game over!
roomid :923874
roomInfo:[object Object]
forceEnd :true
UPDATE t_rooms SET next_button = 1 WHERE id = "923874"
game_over_push
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
UPDATE t_users SET roomid = null WHERE userid = "100356"
UPDATE t_users SET roomid = null WHERE userid = "100367"
UPDATE t_users SET roomid = null WHERE userid = "100360"
UPDATE t_users SET roomid = null WHERE userid = "100368"
DELETE FROM t_rooms WHERE id = '923874'
INSERT INTO t_games_archive(SELECT * FROM t_games WHERE room_uuid = '1523966991842923874')
DELETE FROM t_games WHERE room_uuid = '1523966991842923874'
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
problem with request: connect ECONNREFUSED 127.0.0.1:9002
account server is listening on 9000
dealer api is listening on localhost:12581
client service is listening on port 9001
room service is listening on localhost:9002
game server is listening on localhost:9003
game server is listening on 10000
game server registered.
	id:192.168.1.110:10000
	addr:127.0.0.1
	http port:9003
	socket clientport:10000
192.168.1.110:10000
ad3e2b05dc4b27afa121dd24c460a674
invalid parameters
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_6"
SELECT gems FROM t_users WHERE account = "guest_6"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_4"
SELECT gems FROM t_users WHERE account = "guest_4"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT t_club.club_id,club_creator,club_name,name,COUNT(user_id) as counter from t_relation,t_club,t_users where t_relation.club_id=t_club.club_id AND t_club.club_creator=t_users.userid GROUP BY club_id HAVING club_id in(select club_id  from t_relation where user_id=100356)  
{ account: 'guest_1516885718529',
  sign: 'f093e905b3cd9f17002df63c2e99536a',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100356"
club_id is
{ type: 'sjmj',
  baseScore: 0.5,
  jinfen: 1,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100356,
  paytype: 0,
  cheat: false,
  clubId: '' }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523967367321215749','215749','{"type":"sjmj","baseScore":0.5,"jinfen":1,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100356,"paytype":0,"cheat":false,"clubId":""}','127.0.0.1',10000,1523967368,100356,4,'')
1523967367321215749
SELECT ip,port FROM t_rooms WHERE id = "215749"
{ userid: '100356',
  name: '东郭有钱',
  roomid: '215749',
  sign: '7026af3fa058c5e00582cfae04f239e4' }
7026af3fa058c5e00582cfae04f239e4
SELECT gems FROM t_users WHERE userid = 100356
UPDATE t_rooms SET user_id0 = 100356,user_icon0 = "",user_name0 = "5Lic6YOt5pyJ6ZKx" WHERE id = "215749"
{ token: '65ad6a3e321c75ac492fc3dfda3fa402',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "215749" WHERE userid = "100356"
215749
65ad6a3e321c75ac492fc3dfda3fa402
1523967367961
0e2e63298ecda02b1cec3719016ba51d
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT gems FROM t_users WHERE account = "guest_2"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=215749 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "215749"
{ userid: '100367',
  name: '南宫赌圣',
  roomid: '215749',
  sign: '4d19ed5c10e83336b7ccc141ec5f1136' }
4d19ed5c10e83336b7ccc141ec5f1136
SELECT gems FROM t_users WHERE userid = 100367
UPDATE t_rooms SET user_id1 = 100367,user_icon1 = "",user_name1 = "5Y2X5a6r6LWM5Zyj" WHERE id = "215749"
{ token: 'ac92b42d69d25b73848503c28127e280',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "215749" WHERE userid = "100367"
215749
ac92b42d69d25b73848503c28127e280
1523967378164
f63fd58d825c3c761617c99a5aa86c95
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_4"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=215749 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "215749"
{ userid: '100360',
  name: '夏侯赌侠',
  roomid: '215749',
  sign: 'c51b2fb5aeb9118f5a35fdfe08f01b94' }
c51b2fb5aeb9118f5a35fdfe08f01b94
SELECT gems FROM t_users WHERE userid = 100360
UPDATE t_rooms SET user_id2 = 100360,user_icon2 = "",user_name2 = "5aSP5L6v6LWM5L6g" WHERE id = "215749"
{ token: '4488e48be1d4b9ac9b540fa412ef026f',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "215749" WHERE userid = "100360"
215749
4488e48be1d4b9ac9b540fa412ef026f
1523967382577
6f0c57a546901c5513633a66dc50318f
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_6"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=215749 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "215749"
{ userid: '100368',
  name: '皇甫自摸',
  roomid: '215749',
  sign: '1aaa73868d79ec6b4ec4891ef501aa29' }
1aaa73868d79ec6b4ec4891ef501aa29
SELECT gems FROM t_users WHERE userid = 100368
UPDATE t_rooms SET user_id3 = 100368,user_icon3 = "",user_name3 = "55qH55Sr6Ieq5pG4" WHERE id = "215749"
{ token: '9a6bf406d1455d824c80d14600cb5e07',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "215749" WHERE userid = "100368"
215749
9a6bf406d1455d824c80d14600cb5e07
1523967387104
a72e32fb501f9299d2150ad1e67db6d8
begin start==============215749
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 21
game_action_push
begin end=================
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=215749
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
account server is listening on 9000
game server is listening on localhost:9003
dealer api is listening on localhost:12581
client service is listening on port 9001
room service is listening on localhost:9002
game server is listening on 10000
game server registered.
	id:192.168.1.110:10000
	addr:127.0.0.1
	http port:9003
	socket clientport:10000
192.168.1.110:10000
ad3e2b05dc4b27afa121dd24c460a674
invalid parameters
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_4"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=215749 AND t_rooms.creator=t_users.userid
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=215749 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "215749"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=215749 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "215749"
{ userid: '100367',
  name: '南宫赌圣',
  roomid: '215749',
  sign: '4d19ed5c10e83336b7ccc141ec5f1136' }
4d19ed5c10e83336b7ccc141ec5f1136
SELECT gems FROM t_users WHERE userid = 100367
SELECT ip,port FROM t_rooms WHERE id = "215749"
{ userid: '100356',
  name: '东郭有钱',
  roomid: '215749',
  sign: '7026af3fa058c5e00582cfae04f239e4' }
7026af3fa058c5e00582cfae04f239e4
SELECT gems FROM t_users WHERE userid = 100356
{ userid: '100360',
  name: '夏侯赌侠',
  roomid: '215749',
  sign: 'c51b2fb5aeb9118f5a35fdfe08f01b94' }
c51b2fb5aeb9118f5a35fdfe08f01b94
SELECT gems FROM t_users WHERE userid = 100360
SELECT * FROM t_rooms WHERE id = "215749"
{ token: '2928c508675c3528a19be65858ab1fec',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "215749" WHERE userid = "100367"
{ token: '8627c500165215db645468ebe445067c',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "215749" WHERE userid = "100360"
{ token: 'd9e4b26900c680254b4c15a2286ec86c',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "215749" WHERE userid = "100356"
215749
8627c500165215db645468ebe445067c
1523967510029
23f043a3e46a218a473a4c7a315d51cc
215749
d9e4b26900c680254b4c15a2286ec86c
1523967510027
5594fe2c35177268a93b380fff974e6a
215749
2928c508675c3528a19be65858ab1fec
1523967510038
6c7b664959cee2c8c3bf81034d4e0f82
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_6"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=215749 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "215749"
{ userid: '100368',
  name: '皇甫自摸',
  roomid: '215749',
  sign: '1aaa73868d79ec6b4ec4891ef501aa29' }
1aaa73868d79ec6b4ec4891ef501aa29
SELECT gems FROM t_users WHERE userid = 100368
{ token: '726599bb69153feb40f277413796160c',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "215749" WHERE userid = "100368"
215749
726599bb69153feb40f277413796160c
1523967511730
369d120b9a0d243e6b356ac05a991b4f
begin start==============215749
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 20
game_action_push
begin end=================
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_4"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=215749 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "215749"
{ userid: '100356',
  name: '东郭有钱',
  roomid: '215749',
  sign: '7026af3fa058c5e00582cfae04f239e4' }
7026af3fa058c5e00582cfae04f239e4
SELECT gems FROM t_users WHERE userid = 100356
{ token: '745f47ce0f9de9e8da68340968cfad72',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "215749" WHERE userid = "100356"
SELECT gems FROM t_users WHERE account = "guest_4"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
215749
745f47ce0f9de9e8da68340968cfad72
1523967565131
b867bd1ea17dbce292c43414eb605d96
game_sync_push
game_action_push
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=215749
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=215749 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "215749"
{ userid: '100356',
  name: '东郭有钱',
  roomid: '215749',
  sign: '7026af3fa058c5e00582cfae04f239e4' }
7026af3fa058c5e00582cfae04f239e4
SELECT gems FROM t_users WHERE userid = 100356
{ token: 'e47065682165a0be047c39381c67e56a',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "215749" WHERE userid = "100356"
215749
e47065682165a0be047c39381c67e56a
1523967739871
d98a40737d87f0bbaa64f76ec16aad2e
game_sync_push
game_action_push
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=215749
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=215749 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "215749"
{ userid: '100356',
  name: '东郭有钱',
  roomid: '215749',
  sign: '7026af3fa058c5e00582cfae04f239e4' }
7026af3fa058c5e00582cfae04f239e4
SELECT gems FROM t_users WHERE userid = 100356
{ token: 'f6e560687f7f2785740e6dd8d65aeb04',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "215749" WHERE userid = "100356"
215749
f6e560687f7f2785740e6dd8d65aeb04
1523967939456
c428cbeb11099d75cb90e61be2c98e34
game_sync_push
game_action_push
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=215749
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=215749 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "215749"
{ userid: '100356',
  name: '东郭有钱',
  roomid: '215749',
  sign: '7026af3fa058c5e00582cfae04f239e4' }
7026af3fa058c5e00582cfae04f239e4
SELECT gems FROM t_users WHERE userid = 100356
{ token: '1c3b2cb31afdd1e0642b7d7d69d248e2',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "215749" WHERE userid = "100356"
215749
1c3b2cb31afdd1e0642b7d7d69d248e2
1523968120034
4b8892c347c93b7088f7cee2b83388fd
game_sync_push
game_action_push
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=215749
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=215749 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "215749"
{ userid: '100356',
  name: '东郭有钱',
  roomid: '215749',
  sign: '7026af3fa058c5e00582cfae04f239e4' }
7026af3fa058c5e00582cfae04f239e4
SELECT gems FROM t_users WHERE userid = 100356
{ token: '88bfe02a81a6bf9d8c77e31b07084acc',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "215749" WHERE userid = "100356"
215749
88bfe02a81a6bf9d8c77e31b07084acc
1523968240186
5790af1e605a8dc83eb244c2b567ede9
game_sync_push
game_action_push
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=215749
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=215749 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "215749"
{ userid: '100356',
  name: '东郭有钱',
  roomid: '215749',
  sign: '7026af3fa058c5e00582cfae04f239e4' }
7026af3fa058c5e00582cfae04f239e4
SELECT gems FROM t_users WHERE userid = 100356
{ token: 'd284a1cfebba2ca49dfc2754b42b8405',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "215749" WHERE userid = "100356"
215749
d284a1cfebba2ca49dfc2754b42b8405
1523968318490
ad6a0994e22ea892ad1b47aebe42c1b4
game_sync_push
game_action_push
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=215749
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
game server is listening on localhost:9003
account server is listening on 9000
dealer api is listening on localhost:12581
client service is listening on port 9001
room service is listening on localhost:9002
game server is listening on 10000
game server registered.
	id:192.168.1.110:10000
	addr:127.0.0.1
	http port:9003
	socket clientport:10000
192.168.1.110:10000
ad3e2b05dc4b27afa121dd24c460a674
invalid parameters
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=215749 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "215749"
{ userid: '100356',
  name: '东郭有钱',
  roomid: '215749',
  sign: '7026af3fa058c5e00582cfae04f239e4' }
7026af3fa058c5e00582cfae04f239e4
SELECT gems FROM t_users WHERE userid = 100356
SELECT * FROM t_rooms WHERE id = "215749"
{ token: '9c0e5862efc06274620ba354f8e9e15f',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "215749" WHERE userid = "100356"
215749
9c0e5862efc06274620ba354f8e9e15f
1523968487245
98ea4d237d1c9991661920a79651c1f6
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=215749
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=215749 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "215749"
{ userid: '100356',
  name: '东郭有钱',
  roomid: '215749',
  sign: '7026af3fa058c5e00582cfae04f239e4' }
7026af3fa058c5e00582cfae04f239e4
SELECT gems FROM t_users WHERE userid = 100356
{ token: '77362c3b78a98a486ab2822d143f44eb',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "215749" WHERE userid = "100356"
215749
77362c3b78a98a486ab2822d143f44eb
1523968556903
c9ecdc32a95b602f86a7fdac34815c15
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=215749
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
client service is listening on port 9001
room service is listening on localhost:9002
account server is listening on 9000
dealer api is listening on localhost:12581
game server is listening on localhost:9003
game server is listening on 10000
game server registered.
	id:192.168.1.110:10000
	addr:127.0.0.1
	http port:9003
	socket clientport:10000
192.168.1.110:10000
ad3e2b05dc4b27afa121dd24c460a674
invalid parameters
game server is listening on localhost:9003
client service is listening on port 9001
account server is listening on 9000
room service is listening on localhost:9002
dealer api is listening on localhost:12581
game server is listening on 10000
game server registered.
	id:10.1.1.108:10000
	addr:127.0.0.1
	http port:9003
	socket clientport:10000
10.1.1.108:10000
ce0404c09e0b1b5734ae76563dec000c
invalid parameters
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=215749 AND t_rooms.creator=t_users.userid
SELECT * FROM t_message WHERE type = "fkgm"
SELECT ip,port FROM t_rooms WHERE id = "215749"
{ userid: '100356',
  name: '东郭有钱',
  roomid: '215749',
  sign: '7026af3fa058c5e00582cfae04f239e4' }
7026af3fa058c5e00582cfae04f239e4
SELECT gems FROM t_users WHERE userid = 100356
SELECT * FROM t_rooms WHERE id = "215749"
{ token: '4de9e061dc69fc6b6cacdcd389ca7ac5',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "215749" WHERE userid = "100356"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
215749
4de9e061dc69fc6b6cacdcd389ca7ac5
1523969113098
a367cebdb06b433aeba3bd817db1efb0
SELECT gems FROM t_users WHERE account = "guest_2"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_4"
SELECT gems FROM t_users WHERE account = "guest_4"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_6"
SELECT gems FROM t_users WHERE account = "guest_6"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_6"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=215749 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "215749"
{ userid: '100368',
  name: '皇甫自摸',
  roomid: '215749',
  sign: '1aaa73868d79ec6b4ec4891ef501aa29' }
1aaa73868d79ec6b4ec4891ef501aa29
SELECT gems FROM t_users WHERE userid = 100368
{ token: '3fcb20b4bfb0a2aef88df1d9c5b15c7d',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "215749" WHERE userid = "100368"
215749
3fcb20b4bfb0a2aef88df1d9c5b15c7d
1523969118092
b12b3b6a42d7a4e58ad02d8773fd58b5
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=215749 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "215749"
{ userid: '100367',
  name: '南宫赌圣',
  roomid: '215749',
  sign: '4d19ed5c10e83336b7ccc141ec5f1136' }
4d19ed5c10e83336b7ccc141ec5f1136
SELECT gems FROM t_users WHERE userid = 100367
{ token: 'da2bde3271a85b5ea4200678900e2bca',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "215749" WHERE userid = "100367"
215749
da2bde3271a85b5ea4200678900e2bca
1523969121238
4a60d26468aa7ddecbbee8ebcf45c4d9
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_4"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=215749 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "215749"
{ userid: '100360',
  name: '夏侯赌侠',
  roomid: '215749',
  sign: 'c51b2fb5aeb9118f5a35fdfe08f01b94' }
c51b2fb5aeb9118f5a35fdfe08f01b94
SELECT gems FROM t_users WHERE userid = 100360
{ token: '33d1f6a540328cc080b2b67ff68da3f1',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "215749" WHERE userid = "100360"
215749
33d1f6a540328cc080b2b67ff68da3f1
1523969124106
d3b0f936700f9fdbf9c89f4e492e9e24
begin start==============215749
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 15
game_action_push
begin end=================
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=215749
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
account server is listening on 9000
dealer api is listening on localhost:12581
client service is listening on port 9001
room service is listening on localhost:9002
game server is listening on localhost:9003
game server is listening on 10000
game server registered.
	id:10.1.1.108:10000
	addr:127.0.0.1
	http port:9003
	socket clientport:10000
10.1.1.108:10000
ce0404c09e0b1b5734ae76563dec000c
invalid parameters
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=215749 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "215749"
{ userid: '100356',
  name: '东郭有钱',
  roomid: '215749',
  sign: '7026af3fa058c5e00582cfae04f239e4' }
7026af3fa058c5e00582cfae04f239e4
SELECT gems FROM t_users WHERE userid = 100356
SELECT * FROM t_rooms WHERE id = "215749"
{ token: '719943d7464f6c2f7695046bd5daa42e',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "215749" WHERE userid = "100356"
215749
719943d7464f6c2f7695046bd5daa42e
1523969490134
2bed3faa00c2e4102f017dfa087cb2d6
100356			100356
UPDATE t_users SET roomid = null WHERE userid = "100356"
UPDATE t_users SET roomid = null WHERE userid = "100367"
UPDATE t_users SET roomid = null WHERE userid = "100360"
UPDATE t_users SET roomid = null WHERE userid = "100368"
DELETE FROM t_rooms WHERE id = '215749'
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT * FROM t_message WHERE type = "notice"
{ account: 'guest_1516885718529',
  sign: 'c120c2b75bc7cc2a46d3a89867f11fa9',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100356"
club_id is
{ type: 'sjmj',
  baseScore: 0.5,
  jinfen: 1,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100356,
  paytype: 0,
  cheat: false,
  clubId: '' }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523969497211376960','376960','{"type":"sjmj","baseScore":0.5,"jinfen":1,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100356,"paytype":0,"cheat":false,"clubId":""}','127.0.0.1',10000,1523969498,100356,4,'')
1523969497211376960
SELECT ip,port FROM t_rooms WHERE id = "376960"
{ userid: '100356',
  name: '东郭有钱',
  roomid: '376960',
  sign: '1051fa9804a1d6acfe9d3d1cf39f2e58' }
1051fa9804a1d6acfe9d3d1cf39f2e58
SELECT gems FROM t_users WHERE userid = 100356
UPDATE t_rooms SET user_id0 = 100356,user_icon0 = "",user_name0 = "5Lic6YOt5pyJ6ZKx" WHERE id = "376960"
{ token: '1d6e7b424e4addc1c5de3ed6ffd467b6',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "376960" WHERE userid = "100356"
376960
1d6e7b424e4addc1c5de3ed6ffd467b6
1523969497607
2802a9cdfa82f4fe4c4309d4bf507d04
100356			100356
UPDATE t_users SET roomid = null WHERE userid = "100356"
DELETE FROM t_rooms WHERE id = '376960'
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
{ account: 'guest_1516885718529',
  sign: 'c120c2b75bc7cc2a46d3a89867f11fa9',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":0,"clubId":"","type":"sjmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":0,"clubId":"","type":"sjmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100356"
club_id is
{ type: 'sjmj',
  baseScore: 0.5,
  jinfen: 1,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100356,
  paytype: 0,
  cheat: true,
  clubId: '' }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1523969505715876487','876487','{"type":"sjmj","baseScore":0.5,"jinfen":1,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100356,"paytype":0,"cheat":true,"clubId":""}','127.0.0.1',10000,1523969506,100356,4,'')
1523969505715876487
SELECT ip,port FROM t_rooms WHERE id = "876487"
{ userid: '100356',
  name: '东郭有钱',
  roomid: '876487',
  sign: '7191db03913391472d67518c666dda33' }
7191db03913391472d67518c666dda33
SELECT gems FROM t_users WHERE userid = 100356
UPDATE t_rooms SET user_id0 = 100356,user_icon0 = "",user_name0 = "5Lic6YOt5pyJ6ZKx" WHERE id = "876487"
{ token: '6dbae237bd98bdecb982a2f3f4f51b46',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "876487" WHERE userid = "100356"
876487
6dbae237bd98bdecb982a2f3f4f51b46
1523969505962
9544acc893315afa9ca2779b7616457e
100356			100356
UPDATE t_users SET roomid = null WHERE userid = "100356"
DELETE FROM t_rooms WHERE id = '876487'
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT id,base_info,user_id0,user_id1,user_id2,user_id3,user_id3 FROM t_rooms WHERE creator = "100356"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=411577 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "411577"
{ userid: '100356',
  name: '东郭有钱',
  roomid: '411577',
  sign: 'f98f1a52d0b6e8ebe596f3eedbac7040' }
f98f1a52d0b6e8ebe596f3eedbac7040
SELECT gems FROM t_users WHERE userid = 100356
SELECT * FROM t_rooms WHERE id = "411577"
{ token: '908022c092bfda19d17df60dad60487b',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "411577" WHERE userid = "100356"
411577
908022c092bfda19d17df60dad60487b
1523969623930
7cba41f6bdffe8d14961d1e9e7d89284
100356			100356
UPDATE t_users SET roomid = null WHERE userid = "100356"
DELETE FROM t_rooms WHERE id = '411577'
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
account server is listening on 9000
dealer api is listening on localhost:12581
client service is listening on port 9001
room service is listening on localhost:9002
game server registered.
	id:10.1.1.108:10000
	addr:127.0.0.1
	http port:9003
	socket clientport:10000
invalid parameters
{ account: 'guest_1516885718529',
  sign: 'c120c2b75bc7cc2a46d3a89867f11fa9',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":0,"clubId":"","type":"sjmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":0,"clubId":"","type":"sjmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT ip,port FROM t_rooms WHERE id = "041845"
{ token: 'a8c7787e4400284882819dcbbbf2fbc1',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "041845" WHERE userid = "100356"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT gems FROM t_users WHERE account = "guest_2"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=041845 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "041845"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=041845 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "041845"
{ token: '7c97f0481951d38eda31f98d7085e6fe',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "041845" WHERE userid = "100356"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=041845 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "041845"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=041845 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "041845"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=041845 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "041845"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=041845 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "041845"
problem with request: socket hang up
{ Error: socket hang up
    at createHangUpError (_http_client.js:335:15)
    at Socket.socketOnEnd (_http_client.js:428:23)
    at Socket.emit (events.js:132:15)
    at endReadableNT (_stream_readable.js:1101:12)
    at process._tickCallback (internal/process/next_tick.js:114:19) code: 'ECONNRESET' }
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=041845 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "041845"
problem with request: socket hang up
{ Error: socket hang up
    at createHangUpError (_http_client.js:335:15)
    at Socket.socketOnEnd (_http_client.js:428:23)
    at Socket.emit (events.js:132:15)
    at endReadableNT (_stream_readable.js:1101:12)
    at process._tickCallback (internal/process/next_tick.js:114:19) code: 'ECONNRESET' }
problem with request: socket hang up
{ Error: socket hang up
    at createHangUpError (_http_client.js:335:15)
    at Socket.socketOnEnd (_http_client.js:428:23)
    at Socket.emit (events.js:132:15)
    at endReadableNT (_stream_readable.js:1101:12)
    at process._tickCallback (internal/process/next_tick.js:114:19) code: 'ECONNRESET' }
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=041845 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "041845"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=041845 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "041845"
{ token: '7b856285ca0e9d80e03d315fb365184b',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "041845" WHERE userid = "100356"
problem with request: socket hang up
{ Error: socket hang up
    at createHangUpError (_http_client.js:335:15)
    at Socket.socketOnEnd (_http_client.js:428:23)
    at Socket.emit (events.js:132:15)
    at endReadableNT (_stream_readable.js:1101:12)
    at process._tickCallback (internal/process/next_tick.js:114:19) code: 'ECONNRESET' }
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=041845 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "041845"
problem with request: socket hang up
{ Error: socket hang up
    at createHangUpError (_http_client.js:335:15)
    at Socket.socketOnEnd (_http_client.js:428:23)
    at Socket.emit (events.js:132:15)
    at endReadableNT (_stream_readable.js:1101:12)
    at process._tickCallback (internal/process/next_tick.js:114:19) code: 'ECONNRESET' }
problem with request: socket hang up
{ Error: socket hang up
    at createHangUpError (_http_client.js:335:15)
    at Socket.socketOnEnd (_http_client.js:428:23)
    at Socket.emit (events.js:132:15)
    at endReadableNT (_stream_readable.js:1101:12)
    at process._tickCallback (internal/process/next_tick.js:114:19) code: 'ECONNRESET' }
problem with request: socket hang up
{ Error: socket hang up
    at createHangUpError (_http_client.js:335:15)
    at Socket.socketOnEnd (_http_client.js:428:23)
    at Socket.emit (events.js:132:15)
    at endReadableNT (_stream_readable.js:1101:12)
    at process._tickCallback (internal/process/next_tick.js:114:19) code: 'ECONNRESET' }
problem with request: socket hang up
{ Error: socket hang up
    at createHangUpError (_http_client.js:335:15)
    at Socket.socketOnEnd (_http_client.js:428:23)
    at Socket.emit (events.js:132:15)
    at endReadableNT (_stream_readable.js:1101:12)
    at process._tickCallback (internal/process/next_tick.js:114:19) code: 'ECONNRESET' }
problem with request: connect ECONNREFUSED 127.0.0.1:9003
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=041845 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "041845"
{ token: '5319079395b6ae9e6ab416232a2d692d',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "041845" WHERE userid = "100356"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=041845 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "041845"
problem with request: socket hang up
{ Error: socket hang up
    at createHangUpError (_http_client.js:335:15)
    at Socket.socketOnEnd (_http_client.js:428:23)
    at Socket.emit (events.js:132:15)
    at endReadableNT (_stream_readable.js:1101:12)
    at process._tickCallback (internal/process/next_tick.js:114:19) code: 'ECONNRESET' }
problem with request: connect ECONNREFUSED 127.0.0.1:9003
problem with request: connect ECONNREFUSED 127.0.0.1:9003
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=041845 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "041845"
{ token: '244d9b936d12787f873ea2991bddbe56',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "041845" WHERE userid = "100356"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=041845 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "041845"
{ errcode: 404, errmsg: 'kai qi ding wei' }
kai qi ding wei
problem with request: connect ECONNREFUSED 127.0.0.1:9003
problem with request: connect ECONNREFUSED 127.0.0.1:9003
problem with request: connect ECONNREFUSED 127.0.0.1:9003
problem with request: connect ECONNREFUSED 127.0.0.1:9003
game server is listening on localhost:9003
account server is listening on 9000
dealer api is listening on localhost:12581
client service is listening on port 9001
room service is listening on localhost:9002
game server is listening on 10000
game server registered.
	id:192.168.1.116:10000
	addr:127.0.0.1
	http port:9003
	socket clientport:10000
192.168.1.116:10000
fdc2bc4bd7b8672bcc815668e90b8904
invalid parameters
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1520231931729"
SELECT gems FROM t_users WHERE account = "guest_1520231931729"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
{ account: 'guest_1520231931729',
  sign: 'ad0a547d2eca60d992dc63da937c6d54',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"type":"sjmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"type":"sjmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1520231931729"
SELECT gems FROM t_users WHERE account = "guest_1520231931729"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100329"
club_id isundefined
{ type: 'sjmj',
  baseScore: 0.5,
  jinfen: 1,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100329,
  paytype: 0,
  cheat: false,
  clubId: undefined }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1524039055150415036','415036','{"type":"sjmj","baseScore":0.5,"jinfen":1,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100329,"paytype":0,"cheat":false}','127.0.0.1',10000,1524039056,100329,4,'NULL')
1524039055150415036
SELECT ip,port FROM t_rooms WHERE id = "415036"
{ userid: '100329',
  name: '东阳有钱',
  roomid: '415036',
  sign: '21a589c55da72ffa205c8f19b0ef57b6' }
21a589c55da72ffa205c8f19b0ef57b6
SELECT gems FROM t_users WHERE userid = 100329
UPDATE t_rooms SET user_id0 = 100329,user_icon0 = "",user_name0 = "5Lic6Ziz5pyJ6ZKx" WHERE id = "415036"
{ token: '9d5cb82152e64e9d1a96995c11d91a6e',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "415036" WHERE userid = "100329"
415036
9d5cb82152e64e9d1a96995c11d91a6e
1524039055353
d00af39acc9d354eb454feeb425216b2
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_uiooiuh"
SELECT gems FROM t_users WHERE account = "guest_uiooiuh"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_uiooiuh"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=415066 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "415066"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_uiooiuh"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=415036 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "415036"
{ userid: '100331',
  name: '长孙赌侠',
  roomid: '415036',
  sign: 'c63fb24883a9add7fcce53e7c03093dd' }
c63fb24883a9add7fcce53e7c03093dd
SELECT gems FROM t_users WHERE userid = 100331
UPDATE t_rooms SET user_id1 = 100331,user_icon1 = "",user_name1 = "6ZW/5a2Z6LWM5L6g" WHERE id = "415036"
{ token: '396b5f9d87137c082b0caa43322542fd',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "415036" WHERE userid = "100331"
415036
396b5f9d87137c082b0caa43322542fd
1524039099278
2c002eeeead8a274bf8c672f18bf2dab
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_uiooi"
SELECT gems FROM t_users WHERE account = "guest_uiooi"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_uiooi"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=415036 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "415036"
{ userid: '100332',
  name: '上官自摸',
  roomid: '415036',
  sign: '712c1dcc4c16f38c13d2d71d082f6912' }
712c1dcc4c16f38c13d2d71d082f6912
SELECT gems FROM t_users WHERE userid = 100332
UPDATE t_rooms SET user_id2 = 100332,user_icon2 = "",user_name2 = "5LiK5a6Y6Ieq5pG4" WHERE id = "415036"
{ token: '023c3f11a98289396f465ba3f2de7347',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "415036" WHERE userid = "100332"
415036
023c3f11a98289396f465ba3f2de7347
1524039108697
f5aa3cfcf8b02de0f3bd79fc91a6ed38
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_uio"
SELECT gems FROM t_users WHERE account = "guest_uio"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_uio"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=415036 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "415036"
{ userid: '100328',
  name: '独孤雀圣',
  roomid: '415036',
  sign: 'da6f188a938d11ab4ed87a05350c3ce7' }
da6f188a938d11ab4ed87a05350c3ce7
SELECT gems FROM t_users WHERE userid = 100328
UPDATE t_rooms SET user_id3 = 100328,user_icon3 = "",user_name3 = "54us5a2k6ZuA5Zyj" WHERE id = "415036"
{ token: '0760db7b67bc62acf54ac1303623af21',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "415036" WHERE userid = "100328"
415036
0760db7b67bc62acf54ac1303623af21
1524039114668
f2e9f7018f8570927d52d24ade796a95
begin start==============415036
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 28
game_action_push
begin end=================
chupai=========================100329 28
game_mopai_push
{}
Targert is 31
game_action_push
chupai=========================100331 32
game_mopai_push
{}
Targert is 7
game_action_push
chupai=========================100332 31
game_mopai_push
{}
Targert is 1
game_action_push
chupai=========================100328 33
game_mopai_push
{}
Targert is 1
game_action_push
chupai=========================100329 33
game_mopai_push
{}
Targert is 32
game_action_push
chupai=========================100331 31
game_mopai_push
{}
Targert is 28
game_action_push
chupai=========================100332 28
game_mopai_push
{}
Targert is 32
game_action_push
chupai=========================100328 29
game_mopai_push
{}
Targert is 22
game_action_push
chupai=========================100329 26
game_mopai_push
{}
Targert is 31
game_action_push
chupai=========================100331 31
game_mopai_push
{}
Targert is 20
game_action_push
chupai=========================100332 2
game_action_push
chupai=========================100329 14
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100331 32
game_mopai_push
{}
Targert is 18
game_action_push
chupai=========================100332 18
game_action_push
chupai=========================100328 32
game_mopai_push
{}
Targert is 25
game_action_push
chupai=========================100329 25
game_mopai_push
{}
Targert is 4
game_action_push
chupai=========================100331 28
game_mopai_push
{}
Targert is 32
game_action_push
chupai=========================100332 32
game_mopai_push
{}
Targert is 15
game_action_push
chupai=========================100328 27
game_mopai_push
{}
Targert is 19
game_action_push
chupai=========================100329 15
game_action_push
chupai=========================100328 1
game_mopai_push
{}
Targert is 16
game_action_push
chupai=========================100329 16
game_mopai_push
{}
Targert is 4
game_action_push
gang=============100331       4
game_mopai_push
{}
Targert is 25
game_action_push
gang end===================
chupai=========================100331 29
game_mopai_push
{}
Targert is 12
game_action_push
chupai=========================100332 26
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 11
kunjin:  true
isMojin: true
isDajin: undefined
game_action_push
chupai=========================100328 22
game_mopai_push
{}
Targert is 6
game_action_push
chupai=========================100329 22
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100331 20
game_mopai_push
{}
Targert is 13
game_action_push
chupai=========================100332 10
game_mopai_push
{ '22': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 1
game_action_push
chupai=========================100328 1
game_mopai_push
{}
Targert is 14
game_action_push
chupai=========================100329 14
game_mopai_push
{}
Targert is 5
game_action_push
chupai=========================100331 3
game_mopai_push
{}
Targert is 3
game_action_push
chupai=========================100332 3
game_mopai_push
{ '22': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 10
game_action_push
chupai=========================100328 10
game_mopai_push
{}
Targert is 5
game_action_push
chupai=========================100329 18
game_mopai_push
{}
Targert is 22
game_action_push
chupai=========================100331 22
game_mopai_push
{}
Targert is 0
game_action_push
chupai=========================100332 24
game_mopai_push
{ '22': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 13
game_action_push
chupai=========================100328 13
game_mopai_push
{}
Targert is 27
game_action_push
chupai=========================100329 27
game_mopai_push
{}
Targert is 33
game_action_push
chupai=========================100331 33
game_mopai_push
{}
Targert is 14
game_action_push
chupai=========================100332 17
game_action_push
chupai=========================100331 5
game_action_push
chupai=========================100329 6
game_action_push
chupai=========================100332 0
game_action_push
chupai=========================100328 23
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100329 8
game_action_push
gang=============100331       8
game_mopai_push
{ '11': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '25': { pattern: 'normal', fan: 0 } }
Targert is 28
game_action_push
gang end===================
chupai=========================100331 28
game_mopai_push
{ '7': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 } }
Targert is 19
kunjin:  true
isMojin: true
isDajin: true
game_action_push
hu==========================100332
do game over!
roomid :415036
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
normal
UPDATE t_rooms SET next_button = 1 WHERE id = "415036"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1524039055150415036',0,'{"type":"sjmj","button":0,"index":0,"mahjongs":[2,29,26,27,2,25,31,18,5,28,6,0,18,8,24,29,26,17,6,21,33,32,10,18,0,3,24,0,14,11,2,15,9,20,30,23,7,11,21,33,19,17,7,10,15,4,17,22,10,4,30,9,28,31,7,1,1,32,28,32,22,31,20,8,18,25,4,32,15,19,16,4,25,12,11,6,8,13,1,14,5,3,10,5,22,0,13,27,33,14,8,28,19,24,21,12,9,26,30,20,3,23,13,33,12,25,2,12,21,30,14,3,15,23,6,20,31,9,13,27,26,22,1,29,16,27,19,17,29,5,7,16,24,23,11,16],"jin":[22,24],"game_seats":[[2,2,5,18,26,33,0,14,9,7,19,15,10,28],[29,25,28,8,17,32,3,11,20,11,17,4,4],[26,31,6,24,6,10,24,2,30,21,7,17,30],[27,18,0,29,21,18,0,15,23,33,10,22,9]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[-4.5,2.5,5.5,-3.5]' WHERE room_uuid = '1524039055150415036' AND game_index = 0
UPDATE t_games SET action_records = '[0,1,28,1,2,31,1,1,32,2,2,7,2,1,31,3,2,1,3,1,33,0,2,1,0,1,33,1,2,32,1,1,31,2,2,28,2,1,28,3,2,32,3,1,29,0,2,22,0,1,26,1,2,31,1,1,31,2,2,20,2,1,2,0,3,2,0,1,14,1,2,8,1,1,32,2,2,18,2,1,18,3,3,18,3,1,32,0,2,25,0,1,25,1,2,4,1,1,28,2,2,32,2,1,32,3,2,15,3,1,27,0,2,19,0,1,15,3,3,15,3,1,1,0,2,16,0,1,16,1,2,4,1,4,4,1,2,25,1,1,29,2,2,12,2,1,26,3,2,11,3,1,22,0,2,6,0,1,22,1,2,8,1,1,20,2,2,13,2,1,10,3,2,1,3,1,1,0,2,14,0,1,14,1,2,5,1,1,3,2,2,3,2,1,3,3,2,10,3,1,10,0,2,5,0,1,18,1,2,22,1,1,22,2,2,0,2,1,24,3,2,13,3,1,13,0,2,27,0,1,27,1,2,33,1,1,33,2,2,14,2,1,17,1,3,17,1,1,5,0,3,5,0,1,6,2,3,6,2,1,0,3,3,0,3,1,23,0,2,8,0,1,8,1,4,8,1,2,28,1,1,28,2,2,19,2,5,19]' WHERE room_uuid = '1524039055150415036' AND game_index = 0
UPDATE t_rooms SET num_of_turns = 1 WHERE id = "415036"
UPDATE t_users SET gems = gems -4 WHERE userid = 100329
game_over_push
begin start==============415036
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 25
game_action_push
begin end=================
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=041845 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "041845"
{ userid: '100356',
  name: '东郭有钱',
  roomid: '041845',
  sign: '6de0491600373380ef9d6ca2b34d385e' }
6de0491600373380ef9d6ca2b34d385e
SELECT gems FROM t_users WHERE userid = 100356
SELECT * FROM t_rooms WHERE id = "041845"
{ token: '05b6ef74203968d08877fb6a63309dd2',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "041845" WHERE userid = "100356"
041845
05b6ef74203968d08877fb6a63309dd2
1524040281496
48027d0cd324e0e5ce94d64207d46bd0
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT gems FROM t_users WHERE account = "guest_2"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_4"
SELECT gems FROM t_users WHERE account = "guest_4"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_6"
SELECT gems FROM t_users WHERE account = "guest_6"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=041845 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "041845"
{ userid: '100367',
  name: '南宫赌圣',
  roomid: '041845',
  sign: '631d05ecdfb3b940e4b9cb7f33a61c51' }
631d05ecdfb3b940e4b9cb7f33a61c51
SELECT gems FROM t_users WHERE userid = 100367
{ errcode: 404, errmsg: 'kai qi ding wei' }
kai qi ding wei
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=041845 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "041845"
{ userid: '100367',
  name: '南宫赌圣',
  roomid: '041845',
  sign: '631d05ecdfb3b940e4b9cb7f33a61c51' }
631d05ecdfb3b940e4b9cb7f33a61c51
SELECT gems FROM t_users WHERE userid = 100367
{ errcode: 404, errmsg: 'kai qi ding wei' }
kai qi ding wei
100356			100356
UPDATE t_users SET roomid = null WHERE userid = "100356"
DELETE FROM t_rooms WHERE id = '041845'
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
{ account: 'guest_1516885718529',
  sign: 'e708e736e1fb3267cafd9d47e65e0d64',
  conf: '{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}' }
conf is{"wanfaxuanze":0,"jinfengding":0,"xuanzejushu":0,"paytype":0,"iplimit":0,"difen":0.5,"jinfen":1,"cheat":1,"clubId":"","type":"sjmj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT SUM(creator_cost) AS cost,COUNT(creator_cost) AS roomsNum From t_rooms WHERE creator = "100356"
club_id is
{ type: 'sjmj',
  baseScore: 0.5,
  jinfen: 1,
  kunjin: true,
  jinfengding: 2,
  maxGames: 4,
  creator: 100356,
  paytype: 0,
  cheat: false,
  clubId: '' }
INSERT INTO t_rooms(uuid,id,base_info,ip,port,create_time,creator,creator_cost,club_id)                 VALUES('1524040375425388746','388746','{"type":"sjmj","baseScore":0.5,"jinfen":1,"kunjin":true,"jinfengding":2,"maxGames":4,"creator":100356,"paytype":0,"cheat":false,"clubId":""}','127.0.0.1',10000,1524040376,100356,4,'')
1524040375425388746
SELECT ip,port FROM t_rooms WHERE id = "388746"
{ userid: '100356',
  name: '东郭有钱',
  roomid: '388746',
  sign: '0d39044af203f89958373b25a98f7e7a' }
0d39044af203f89958373b25a98f7e7a
SELECT gems FROM t_users WHERE userid = 100356
UPDATE t_rooms SET user_id0 = 100356,user_icon0 = "",user_name0 = "5Lic6YOt5pyJ6ZKx" WHERE id = "388746"
{ token: 'd4f8d21dea55083a82eab9176d8bbfeb',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "388746" WHERE userid = "100356"
388746
d4f8d21dea55083a82eab9176d8bbfeb
1524040375651
d23ee797ed15003ebae70021a861ef5b
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=388746 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "388746"
{ userid: '100367',
  name: '南宫赌圣',
  roomid: '388746',
  sign: '82398410bd3ad23f0788aacd10f4f51e' }
82398410bd3ad23f0788aacd10f4f51e
SELECT gems FROM t_users WHERE userid = 100367
UPDATE t_rooms SET user_id1 = 100367,user_icon1 = "",user_name1 = "5Y2X5a6r6LWM5Zyj" WHERE id = "388746"
{ token: '784275102416f736c97ba2b0679a7518',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "388746" WHERE userid = "100367"
388746
784275102416f736c97ba2b0679a7518
1524040382087
01c7108e7404c42a45d218e88f663c42
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_4"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=388846 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "388846"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_4"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=388746 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "388746"
{ userid: '100360',
  name: '夏侯赌侠',
  roomid: '388746',
  sign: 'e86d22ab88e6b4203df3dbc38b03839e' }
e86d22ab88e6b4203df3dbc38b03839e
SELECT gems FROM t_users WHERE userid = 100360
UPDATE t_rooms SET user_id2 = 100360,user_icon2 = "",user_name2 = "5aSP5L6v6LWM5L6g" WHERE id = "388746"
{ token: '44f5bc11e06c1c2b225add1e98a3ffd5',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "388746" WHERE userid = "100360"
388746
44f5bc11e06c1c2b225add1e98a3ffd5
1524040404990
7b7f661d114cb2f4fdc9bbe4fec6d85a
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_6"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=388746 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "388746"
{ userid: '100368',
  name: '皇甫自摸',
  roomid: '388746',
  sign: '8dd0e5c0a000be3208a900ea19bd9886' }
8dd0e5c0a000be3208a900ea19bd9886
SELECT gems FROM t_users WHERE userid = 100368
UPDATE t_rooms SET user_id3 = 100368,user_icon3 = "",user_name3 = "55qH55Sr6Ieq5pG4" WHERE id = "388746"
{ token: '3c94060f57d4c659909788d57f7ccbc6',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "388746" WHERE userid = "100368"
388746
3c94060f57d4c659909788d57f7ccbc6
1524040409829
6c9b727641e57008dc2e399c6354b48a
begin start==============388746
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 29
game_action_push
begin end=================
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=388746
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=388746
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=388746
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=388746
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
chupai=========================100356 6
game_mopai_push
{}
Targert is 18
game_action_push
chupai=========================100367 17
game_action_push
chupai=========================100356 31
game_mopai_push
{}
Targert is 21
game_action_push
chupai=========================100367 33
game_mopai_push
{}
Targert is 7
game_action_push
chupai=========================100360 33
game_mopai_push
{}
Targert is 24
game_action_push
chupai=========================100368 33
game_mopai_push
{}
Targert is 4
game_action_push
chupai=========================100356 32
game_mopai_push
{}
Targert is 24
game_action_push
chupai=========================100367 1
game_mopai_push
{}
Targert is 14
game_action_push
chupai=========================100360 29
game_mopai_push
{}
Targert is 1
game_action_push
chupai=========================100368 27
game_mopai_push
{}
Targert is 0
game_action_push
chupai=========================100356 30
game_mopai_push
{}
Targert is 20
game_action_push
chupai=========================100367 24
game_mopai_push
{}
Targert is 25
game_action_push
chupai=========================100360 29
game_mopai_push
{}
Targert is 13
game_action_push
chupai=========================100368 26
game_mopai_push
{}
Targert is 25
game_action_push
chupai=========================100356 29
game_mopai_push
{}
Targert is 26
game_action_push
chupai=========================100367 4
game_mopai_push
{}
Targert is 28
game_action_push
chupai=========================100360 25
game_mopai_push
{}
Targert is 30
game_action_push
chupai=========================100368 30
game_mopai_push
{}
Targert is 16
game_action_push
chupai=========================100356 27
game_mopai_push
{}
Targert is 12
game_action_push
chupai=========================100367 12
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100360 28
game_mopai_push
{}
Targert is 30
game_action_push
chupai=========================100368 6
game_mopai_push
{}
Targert is 3
game_action_push
chupai=========================100356 28
game_mopai_push
{}
Targert is 10
game_action_push
chupai=========================100367 10
game_mopai_push
{}
Targert is 15
game_action_push
chupai=========================100360 28
game_mopai_push
{}
Targert is 33
game_action_push
chupai=========================100368 33
game_mopai_push
{}
Targert is 9
game_action_push
chupai=========================100356 19
game_mopai_push
{}
Targert is 26
game_action_push
chupai=========================100367 21
game_mopai_push
{}
Targert is 4
game_action_push
chupai=========================100360 4
game_mopai_push
{}
Targert is 22
game_action_push
chupai=========================100368 30
game_mopai_push
{}
Targert is 14
game_action_push
chupai=========================100356 9
game_mopai_push
{}
Targert is 25
game_action_push
chupai=========================100367 15
game_action_push
chupai=========================100360 20
game_action_push
gang=============100367       20
game_mopai_push
{}
Targert is 31
game_action_push
gang end===================
chupai=========================100367 31
game_mopai_push
{}
Targert is 0
game_action_push
chupai=========================100360 0
game_action_push
chupai=========================100356 3
game_mopai_push
{}
Targert is 18
game_action_push
chupai=========================100367 9
game_mopai_push
{}
Targert is 11
game_action_push
chupai=========================100360 11
game_mopai_push
{}
Targert is 25
game_action_push
chupai=========================100368 16
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '6': { pattern: 'normal', fan: 0 },
  '12': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '15': { pattern: 'normal', fan: 0 },
  '16': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 2
game_action_push
chupai=========================100356 2
game_mopai_push
{}
Targert is 32
game_action_push
chupai=========================100367 32
game_mopai_push
{}
Targert is 32
game_action_push
chupai=========================100360 32
game_mopai_push
{}
Targert is 30
game_action_push
chupai=========================100368 30
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '6': { pattern: 'normal', fan: 0 },
  '12': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '15': { pattern: 'normal', fan: 0 },
  '16': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 29
game_action_push
chupai=========================100356 29
game_mopai_push
{}
Targert is 11
game_action_push
chupai=========================100367 25
game_mopai_push
{}
Targert is 18
game_action_push
chupai=========================100360 18
game_action_push
guo=================================100367
guo_result
game_mopai_push
{}
Targert is 17
game_action_push
guo end=============================
chupai=========================100368 17
game_mopai_push
{ '4': { pattern: 'normal', fan: 0 },
  '6': { pattern: 'normal', fan: 0 },
  '12': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '15': { pattern: 'normal', fan: 0 },
  '16': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 9
game_action_push
chupai=========================100356 25
game_mopai_push
{}
Targert is 16
game_action_push
chupai=========================100367 16
game_mopai_push
{}
Targert is 16
game_action_push
chupai=========================100360 23
game_mopai_push
{}
Targert is 27
game_action_push
chupai=========================100368 27
game_mopai_push
{}
Targert is 12
game_action_push
chupai=========================100356 23
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100367 8
game_mopai_push
{}
Targert is 8
game_action_push
chupai=========================100360 8
game_mopai_push
{}
Targert is 28
game_action_push
chupai=========================100368 12
game_action_push
chupai=========================100356 9
game_mopai_push
{}
Targert is 11
game_action_push
chupai=========================100367 11
game_mopai_push
{}
Targert is 26
game_action_push
chupai=========================100360 26
game_action_push
guo=================================100367
guo_result
game_mopai_push
{}
Targert is 8
game_action_push
guo end=============================
chupai=========================100368 28
game_mopai_push
{ '0': { pattern: 'normal', fan: 0 },
  '1': { pattern: 'normal', fan: 0 },
  '2': { pattern: 'normal', fan: 0 },
  '3': { pattern: 'normal', fan: 0 },
  '4': { pattern: 'normal', fan: 0 },
  '5': { pattern: 'normal', fan: 0 },
  '6': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 },
  '8': { pattern: 'normal', fan: 0 },
  '9': { pattern: 'normal', fan: 0 },
  '10': { pattern: 'normal', fan: 0 },
  '11': { pattern: 'normal', fan: 0 },
  '12': { pattern: 'normal', fan: 0 },
  '13': { pattern: 'normal', fan: 0 },
  '14': { pattern: 'normal', fan: 0 },
  '15': { pattern: 'normal', fan: 0 },
  '16': { pattern: 'normal', fan: 0 },
  '17': { pattern: 'normal', fan: 0 },
  '18': { pattern: 'normal', fan: 0 },
  '19': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '21': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '25': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 },
  '27': { pattern: 'normal', fan: 0 },
  '28': { pattern: 'normal', fan: 0 },
  '29': { pattern: 'normal', fan: 0 },
  '30': { pattern: 'normal', fan: 0 },
  '31': { pattern: 'normal', fan: 0 },
  '32': { pattern: 'normal', fan: 0 },
  '33': { pattern: 'normal', fan: 0 } }
Targert is 27
kunjin:  true
isMojin: true
isDajin: true
game_action_push
hu==========================100356
do game over!
roomid :388746
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
normal
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1524040375425388746',0,'{"type":"sjmj","button":0,"index":0,"mahjongs":[0,9,29,23,12,4,29,9,17,22,15,27,19,15,13,33,32,10,20,12,31,7,23,22,27,17,28,16,6,2,14,4,28,20,5,3,6,1,2,7,23,20,23,14,17,19,3,26,30,33,33,6,29,18,21,7,24,4,24,14,1,0,20,25,13,25,26,28,30,16,12,8,30,3,10,15,33,9,26,4,22,14,25,31,0,18,11,25,2,32,32,30,29,11,18,17,9,16,16,27,12,8,8,28,11,26,8,27,31,21,5,5,10,22,32,18,0,1,2,7,24,19,19,3,13,10,1,31,15,11,6,5,21,13,24,21],"jin":[4,6],"game_seats":[[0,12,17,19,32,31,27,6,28,6,23,17,30,29],[9,4,22,15,10,7,17,2,20,1,20,19,33],[29,29,15,13,20,23,28,14,5,2,23,3,33],[23,9,27,33,12,22,16,4,3,7,14,26,6]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[8.5,-1.5,-3.5,-3.5]' WHERE room_uuid = '1524040375425388746' AND game_index = 0
UPDATE t_games SET action_records = '[0,1,6,1,2,18,1,1,17,0,3,17,0,1,31,1,2,21,1,1,33,2,2,7,2,1,33,3,2,24,3,1,33,0,2,4,0,1,32,1,2,24,1,1,1,2,2,14,2,1,29,3,2,1,3,1,27,0,2,0,0,1,30,1,2,20,1,1,24,2,2,25,2,1,29,3,2,13,3,1,26,0,2,25,0,1,29,1,2,26,1,1,4,2,2,28,2,1,25,3,2,30,3,1,30,0,2,16,0,1,27,1,2,12,1,1,12,2,2,8,2,1,28,3,2,30,3,1,6,0,2,3,0,1,28,1,2,10,1,1,10,2,2,15,2,1,28,3,2,33,3,1,33,0,2,9,0,1,19,1,2,26,1,1,21,2,2,4,2,1,4,3,2,22,3,1,30,0,2,14,0,1,9,1,2,25,1,1,15,2,3,15,2,1,20,1,4,20,1,2,31,1,1,31,2,2,0,2,1,0,0,3,0,0,1,3,1,2,18,1,1,9,2,2,11,2,1,11,3,2,25,3,1,16,0,2,2,0,1,2,1,2,32,1,1,32,2,2,32,2,1,32,3,2,30,3,1,30,0,2,29,0,1,29,1,2,11,1,1,25,2,2,18,2,1,18,3,2,17,3,1,17,0,2,9,0,1,25,1,2,16,1,1,16,2,2,16,2,1,23,3,2,27,3,1,27,0,2,12,0,1,23,1,2,8,1,1,8,2,2,8,2,1,8,3,2,28,3,1,12,0,3,12,0,1,9,1,2,11,1,1,11,2,2,26,2,1,26,3,2,8,3,1,28,0,2,27,0,5,27]' WHERE room_uuid = '1524040375425388746' AND game_index = 0
UPDATE t_rooms SET num_of_turns = 1 WHERE id = "388746"
UPDATE t_users SET gems = gems -4 WHERE userid = 100356
game_over_push
begin start==============388746
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 10
game_action_push
begin end=================
chupai=========================100356 29
game_mopai_push
{}
Targert is 12
game_action_push
chupai=========================100367 14
game_mopai_push
{}
Targert is 10
game_action_push
chupai=========================100360 30
game_mopai_push
{}
Targert is 14
game_action_push
chupai=========================100368 14
game_mopai_push
{}
Targert is 19
game_action_push
chupai=========================100356 31
game_mopai_push
{}
Targert is 29
game_action_push
chupai=========================100367 32
game_action_push
chupai=========================100368 27
game_mopai_push
{}
Targert is 30
game_action_push
chupai=========================100356 25
game_mopai_push
{}
Targert is 31
game_action_push
chupai=========================100367 31
game_mopai_push
{}
Targert is 15
game_action_push
chupai=========================100360 11
game_action_push
chupai=========================100368 28
game_action_push
guo=================================100367
guo_result
game_mopai_push
{}
Targert is 7
game_action_push
guo end=============================
chupai=========================100356 21
game_mopai_push
{}
Targert is 5
game_action_push
chupai=========================100367 20
game_action_push
chupai=========================100360 25
game_mopai_push
{}
Targert is 25
game_action_push
chupai=========================100368 3
game_mopai_push
{}
Targert is 31
game_action_push
chupai=========================100356 31
game_mopai_push
{}
Targert is 21
game_action_push
chupai=========================100367 29
game_mopai_push
{}
Targert is 17
game_action_push
chupai=========================100360 23
game_mopai_push
{}
Targert is 18
game_action_push
chupai=========================100368 15
game_action_push
guo=================================100360
guo_result
game_mopai_push
{}
Targert is 11
game_action_push
guo end=============================
chupai=========================100356 13
game_mopai_push
{}
Targert is 21
game_action_push
chupai=========================100367 29
game_mopai_push
{}
Targert is 2
game_action_push
chupai=========================100360 10
game_mopai_push
{ '12': { pattern: 'normal', fan: 0 },
  '14': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 24
game_action_push
chupai=========================100368 25
game_mopai_push
{}
Targert is 26
game_action_push
chupai=========================100356 30
game_mopai_push
{}
Targert is 13
game_action_push
chupai=========================100367 28
game_mopai_push
{}
Targert is 10
game_action_push
chupai=========================100360 7
game_action_push
guo=================================100356
guo_result
game_mopai_push
{ '12': { pattern: 'normal', fan: 0 },
  '14': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 8
game_action_push
guo end=============================
chupai=========================100368 8
game_mopai_push
{}
Targert is 10
game_action_push
chupai=========================100356 30
game_mopai_push
{}
Targert is 30
game_action_push
chupai=========================100367 28
game_mopai_push
{}
Targert is 13
game_action_push
chupai=========================100360 10
game_action_push
guo=================================100356
guo_result
game_mopai_push
{ '12': { pattern: 'normal', fan: 0 },
  '14': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 33
game_action_push
guo end=============================
chupai=========================100368 33
game_mopai_push
{}
Targert is 31
game_action_push
chupai=========================100356 31
game_mopai_push
{}
Targert is 5
game_action_push
chupai=========================100367 30
game_mopai_push
{}
Targert is 16
game_action_push
chupai=========================100360 16
game_mopai_push
{ '12': { pattern: 'normal', fan: 0 },
  '14': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 5
game_action_push
chupai=========================100368 5
game_action_push
guo=================================100367
guo_result
game_mopai_push
{}
Targert is 16
game_action_push
guo end=============================
chupai=========================100356 16
game_mopai_push
{}
Targert is 26
game_action_push
chupai=========================100367 13
game_mopai_push
{}
Targert is 27
game_action_push
chupai=========================100360 27
game_mopai_push
{ '12': { pattern: 'normal', fan: 0 },
  '14': { pattern: 'normal', fan: 0 },
  '20': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 } }
Targert is 19
game_action_push
chupai=========================100368 18
game_mopai_push
{}
Targert is 20
game_action_push
chupai=========================100356 19
game_action_push
chupai=========================100368 24
game_mopai_push
{}
Targert is 4
game_action_push
chupai=========================100356 4
game_mopai_push
{ '5': { pattern: 'normal', fan: 0 },
  '7': { pattern: 'normal', fan: 0 },
  '12': { pattern: 'normal', fan: 0 },
  '14': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 0
game_action_push
chupai=========================100367 0
game_mopai_push
{}
Targert is 9
game_action_push
chupai=========================100360 9
game_mopai_push
{ '12': { pattern: 'normal', fan: 0 },
  '14': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '25': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 32
game_action_push
gang=============100368       32
game_mopai_push
{ '12': { pattern: 'normal', fan: 0 },
  '14': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '25': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 18
game_action_push
gang end===================
chupai=========================100368 18
game_mopai_push
{}
Targert is 18
game_action_push
chupai=========================100356 26
game_action_push
chupai=========================100367 6
game_mopai_push
{}
Targert is 23
game_action_push
chupai=========================100360 23
game_mopai_push
{ '12': { pattern: 'normal', fan: 0 },
  '14': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '25': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 15
game_action_push
chupai=========================100368 15
game_action_push
chupai=========================100360 13
game_mopai_push
{ '12': { pattern: 'normal', fan: 0 },
  '14': { pattern: 'normal', fan: 0 },
  '22': { pattern: 'normal', fan: 0 },
  '23': { pattern: 'normal', fan: 0 },
  '24': { pattern: 'normal', fan: 0 },
  '25': { pattern: 'normal', fan: 0 },
  '26': { pattern: 'normal', fan: 0 } }
Targert is 22
kunjin:  true
isMojin: true
isDajin: true
game_action_push
hu==========================100368
do game over!
roomid :388746
roomInfo:[object Object]
forceEnd :undefined
========do calculate=======!
normal
UPDATE t_rooms SET next_button = 1 WHERE id = "388746"
INSERT INTO t_games(room_uuid,game_index,base_info,create_time) VALUES('1524040375425388746',1,'{"type":"sjmj","button":0,"index":1,"mahjongs":[30,28,1,27,13,20,7,15,19,2,20,11,31,32,30,12,3,21,4,28,17,28,23,19,7,2,20,32,8,29,1,22,25,2,11,22,9,26,25,3,4,6,15,24,21,14,17,11,29,8,6,32,10,12,10,14,19,29,30,31,15,7,5,25,31,21,17,18,11,21,2,24,26,13,10,8,10,30,13,33,31,5,16,5,16,26,27,19,20,4,0,9,32,18,18,23,15,22,27,26,0,8,9,6,23,16,28,1,9,6,17,4,27,0,33,18,24,33,0,5,7,14,3,16,29,22,33,23,12,24,14,3,25,13,12,1],"jin":[12,14],"game_seats":[[30,13,19,31,3,17,7,8,25,9,4,21,29,10],[28,20,2,32,21,28,2,29,2,26,6,14,8],[1,7,20,30,4,23,20,1,11,25,15,17,6],[27,15,11,12,28,19,32,22,22,3,24,11,32]]}',unix_timestamp(now()))
UPDATE t_games SET result = '[-3.5,-2.5,-2.5,8.5]' WHERE room_uuid = '1524040375425388746' AND game_index = 1
UPDATE t_games SET action_records = '[0,1,29,1,2,12,1,1,14,2,2,10,2,1,30,3,2,14,3,1,14,0,2,19,0,1,31,1,2,29,1,1,32,3,3,32,3,1,27,0,2,30,0,1,25,1,2,31,1,1,31,2,2,15,2,1,11,3,3,11,3,1,28,0,2,7,0,1,21,1,2,5,1,1,20,2,3,20,2,1,25,3,2,25,3,1,3,0,2,31,0,1,31,1,2,21,1,1,29,2,2,17,2,1,23,3,2,18,3,1,15,0,2,11,0,1,13,1,2,21,1,1,29,2,2,2,2,1,10,3,2,24,3,1,25,0,2,26,0,1,30,1,2,13,1,1,28,2,2,10,2,1,7,3,2,8,3,1,8,0,2,10,0,1,30,1,2,30,1,1,28,2,2,13,2,1,10,3,2,33,3,1,33,0,2,31,0,1,31,1,2,5,1,1,30,2,2,16,2,1,16,3,2,5,3,1,5,0,2,16,0,1,16,1,2,26,1,1,13,2,2,27,2,1,27,3,2,19,3,1,18,0,2,20,0,1,19,3,3,19,3,1,24,0,2,4,0,1,4,1,2,0,1,1,0,2,2,9,2,1,9,3,2,32,3,4,32,3,2,18,3,1,18,0,2,18,0,1,26,1,3,26,1,1,6,2,2,23,2,1,23,3,2,15,3,1,15,2,3,15,2,1,13,3,2,22,3,5,22]' WHERE room_uuid = '1524040375425388746' AND game_index = 1
UPDATE t_rooms SET num_of_turns = 2 WHERE id = "388746"
game_over_push
begin start==============388746
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 5
game_action_push
begin end=================
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=388746
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=388746 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "388746"
{ userid: '100356',
  name: '东郭有钱',
  roomid: '388746',
  sign: '0d39044af203f89958373b25a98f7e7a' }
0d39044af203f89958373b25a98f7e7a
SELECT gems FROM t_users WHERE userid = 100356
{ token: '5a6043fea64c5a924a433baa632e404d',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "388746" WHERE userid = "100356"
388746
5a6043fea64c5a924a433baa632e404d
1524041150193
9ef45b76c0700ab786db069aa6a4939c
game_sync_push
game_action_push
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT gems FROM t_users WHERE account = "guest_2"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_4"
SELECT gems FROM t_users WHERE account = "guest_4"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_4"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=388746 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "388746"
{ userid: '100360',
  name: '夏侯赌侠',
  roomid: '388746',
  sign: 'e86d22ab88e6b4203df3dbc38b03839e' }
e86d22ab88e6b4203df3dbc38b03839e
SELECT gems FROM t_users WHERE userid = 100360
{ token: '03a1f38d82aee405486149ca556e09a5',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "388746" WHERE userid = "100360"
388746
03a1f38d82aee405486149ca556e09a5
1524041153255
5aab5f677900a66466c16a921ecd192c
game_sync_push
game_action_push
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_6"
SELECT gems FROM t_users WHERE account = "guest_6"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_6"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=388746 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "388746"
{ userid: '100368',
  name: '皇甫自摸',
  roomid: '388746',
  sign: '8dd0e5c0a000be3208a900ea19bd9886' }
8dd0e5c0a000be3208a900ea19bd9886
SELECT gems FROM t_users WHERE userid = 100368
{ token: '623e88c7f44ddd7c90cf470c71576610',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "388746" WHERE userid = "100368"
388746
623e88c7f44ddd7c90cf470c71576610
1524041155639
6c7ec08741da4ae039e55a47cc09f58a
game_sync_push
game_action_push
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=388746
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_6"
SELECT gems FROM t_users WHERE account = "guest_6"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_6"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=388746 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "388746"
{ userid: '100368',
  name: '皇甫自摸',
  roomid: '388746',
  sign: '8dd0e5c0a000be3208a900ea19bd9886' }
8dd0e5c0a000be3208a900ea19bd9886
SELECT gems FROM t_users WHERE userid = 100368
{ token: '5a7a14c7be19a0d1550c2eb54393180e',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "388746" WHERE userid = "100368"
388746
5a7a14c7be19a0d1550c2eb54393180e
1524041250047
317f9ca8ef99a1280591a967bee173bf
game_sync_push
game_action_push
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=388746
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=388746
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=388746
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=388746
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=388746
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
account server is listening on 9000
dealer api is listening on localhost:12581
client service is listening on port 9001
room service is listening on localhost:9002
game server is listening on localhost:9003
game server is listening on 10000
game server registered.
	id:192.168.1.116:10000
	addr:127.0.0.1
	http port:9003
	socket clientport:10000
192.168.1.116:10000
fdc2bc4bd7b8672bcc815668e90b8904
invalid parameters
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_6"
SELECT gems FROM t_users WHERE account = "guest_6"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_6"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=388746 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "388746"
{ userid: '100368',
  name: '皇甫自摸',
  roomid: '388746',
  sign: '8dd0e5c0a000be3208a900ea19bd9886' }
8dd0e5c0a000be3208a900ea19bd9886
SELECT gems FROM t_users WHERE userid = 100368
SELECT * FROM t_rooms WHERE id = "388746"
{ token: '58652dc189d0f0279ffb8def07cc0706',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "388746" WHERE userid = "100368"
388746
58652dc189d0f0279ffb8def07cc0706
1524042687770
eeea0412919ac4c99ac20af6d308a943
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_4"
SELECT gems FROM t_users WHERE account = "guest_4"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_4"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=388746 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "388746"
{ userid: '100360',
  name: '夏侯赌侠',
  roomid: '388746',
  sign: 'e86d22ab88e6b4203df3dbc38b03839e' }
e86d22ab88e6b4203df3dbc38b03839e
SELECT gems FROM t_users WHERE userid = 100360
{ token: 'a6774b0cefd51901ae3315aea553f540',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "388746" WHERE userid = "100360"
388746
a6774b0cefd51901ae3315aea553f540
1524042692854
a96271aa470315148ebdb73bb65fb2e6
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT gems FROM t_users WHERE account = "guest_2"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=388746 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "388746"
{ userid: '100367',
  name: '南宫赌圣',
  roomid: '388746',
  sign: '82398410bd3ad23f0788aacd10f4f51e' }
82398410bd3ad23f0788aacd10f4f51e
SELECT gems FROM t_users WHERE userid = 100367
{ token: 'da0412f24b84211e2c9801b0adf0ddc2',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "388746" WHERE userid = "100367"
388746
da0412f24b84211e2c9801b0adf0ddc2
1524042708500
c6ac5e2e187a64b28bbbd3817376e4a1
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=388746 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "388746"
{ userid: '100356',
  name: '东郭有钱',
  roomid: '388746',
  sign: '0d39044af203f89958373b25a98f7e7a' }
0d39044af203f89958373b25a98f7e7a
SELECT gems FROM t_users WHERE userid = 100356
{ token: '400a7f66774b056a71a2630aec00f709',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "388746" WHERE userid = "100356"
388746
400a7f66774b056a71a2630aec00f709
1524042710361
0ab4a9d6042baa92acd7fb41a45ba8f9
begin start==============388746
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
game_holds_push
mj_count_push
game_num_push
game_begin_push
{}
Targert is 31
game_action_push
begin end=================
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=388746
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=388746
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=388746
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
距离0
1
5
6
do game over!
roomid :388746
roomInfo:[object Object]
forceEnd :true
UPDATE t_rooms SET next_button = 2 WHERE id = "388746"
game_over_push
SELECT history FROM t_users WHERE userid = "100356"
SELECT history FROM t_users WHERE userid = "100367"
SELECT history FROM t_users WHERE userid = "100360"
SELECT history FROM t_users WHERE userid = "100368"
UPDATE t_users SET roomid = null WHERE userid = "100356"
UPDATE t_users SET roomid = null WHERE userid = "100367"
UPDATE t_users SET roomid = null WHERE userid = "100360"
UPDATE t_users SET roomid = null WHERE userid = "100368"
DELETE FROM t_rooms WHERE id = '388746'
INSERT INTO t_games_archive(SELECT * FROM t_games WHERE room_uuid = '1524040375425388746')
1179
UPDATE t_users SET roomid = null, history = '[{"uuid":"1522655473440895375","id":"895375","time":1522655474,"seats":[{"userid":100356,"name":"5Lic6YOt5pyJ6ZKx","score":-2},{"userid":100360,"name":"5aSP5L6v6LWM5L6g","score":-1.5},{"userid":100359,"name":"5Lic6Ziz6Ieq5pG4","score":5},{"userid":100358,"name":"56uv5pyo5pyJ6ZKx","score":-1.5}]},{"uuid":"1522655473440895375","id":"895375","time":1522655474,"seats":[{"userid":100356,"name":"5Lic6YOt5pyJ6ZKx","score":-2},{"userid":100360,"name":"5aSP5L6v6LWM5L6g","score":-1.5},{"userid":100359,"name":"5Lic6Ziz6Ieq5pG4","score":5},{"userid":100358,"name":"56uv5pyo5pyJ6ZKx","score":-1.5}]},{"uuid":"1523242029452707199","id":"707199","time":1523242030,"seats":[{"userid":100356,"name":"5Lic6YOt5pyJ6ZKx","score":6},{"userid":100367,"name":"5Y2X5a6r6LWM5Zyj","score":-2},{"userid":100360,"name":"5aSP5L6v6LWM5L6g","score":-2},{"userid":100368,"name":"55qH55Sr6Ieq5pG4","score":-2}]},{"uuid":"1523242651091245835","id":"245835","time":1523242652,"seats":[{"userid":100356,"name":"5Lic6YOt5pyJ6ZKx","score":0},{"userid":100367,"name":"5Y2X5a6r6LWM5Zyj","score":-3.5},{"userid":100360,"name":"5aSP5L6v6LWM5L6g","score":0},{"userid":100368,"name":"55qH55Sr6Ieq5pG4","score":3.5}]},{"uuid":"1524040375425388746","id":"388746","time":1524040376,"seats":[{"userid":100356,"name":"5Lic6YOt5pyJ6ZKx","score":0},{"userid":100367,"name":"5Y2X5a6r6LWM5Zyj","score":0},{"userid":100360,"name":"5aSP5L6v6LWM5L6g","score":0},{"userid":100368,"name":"55qH55Sr6Ieq5pG4","score":0}]}]' WHERE userid = "100356"
587
UPDATE t_users SET roomid = null, history = '[{"uuid":"1523242029452707199","id":"707199","time":1523242030,"seats":[{"userid":100356,"name":"5Lic6YOt5pyJ6ZKx","score":6},{"userid":100367,"name":"5Y2X5a6r6LWM5Zyj","score":-2},{"userid":100360,"name":"5aSP5L6v6LWM5L6g","score":-2},{"userid":100368,"name":"55qH55Sr6Ieq5pG4","score":-2}]},{"uuid":"1523242651091245835","id":"245835","time":1523242652,"seats":[{"userid":100356,"name":"5Lic6YOt5pyJ6ZKx","score":0},{"userid":100367,"name":"5Y2X5a6r6LWM5Zyj","score":-3.5},{"userid":100360,"name":"5aSP5L6v6LWM5L6g","score":0},{"userid":100368,"name":"55qH55Sr6Ieq5pG4","score":3.5}]},{"uuid":"1524040375425388746","id":"388746","time":1524040376,"seats":[{"userid":100356,"name":"5Lic6YOt5pyJ6ZKx","score":0},{"userid":100367,"name":"5Y2X5a6r6LWM5Zyj","score":0},{"userid":100360,"name":"5aSP5L6v6LWM5L6g","score":0},{"userid":100368,"name":"55qH55Sr6Ieq5pG4","score":0}]}]' WHERE userid = "100368"
587
UPDATE t_users SET roomid = null, history = '[{"uuid":"1523242029452707199","id":"707199","time":1523242030,"seats":[{"userid":100356,"name":"5Lic6YOt5pyJ6ZKx","score":6},{"userid":100367,"name":"5Y2X5a6r6LWM5Zyj","score":-2},{"userid":100360,"name":"5aSP5L6v6LWM5L6g","score":-2},{"userid":100368,"name":"55qH55Sr6Ieq5pG4","score":-2}]},{"uuid":"1523242651091245835","id":"245835","time":1523242652,"seats":[{"userid":100356,"name":"5Lic6YOt5pyJ6ZKx","score":0},{"userid":100367,"name":"5Y2X5a6r6LWM5Zyj","score":-3.5},{"userid":100360,"name":"5aSP5L6v6LWM5L6g","score":0},{"userid":100368,"name":"55qH55Sr6Ieq5pG4","score":3.5}]},{"uuid":"1524040375425388746","id":"388746","time":1524040376,"seats":[{"userid":100356,"name":"5Lic6YOt5pyJ6ZKx","score":0},{"userid":100367,"name":"5Y2X5a6r6LWM5Zyj","score":0},{"userid":100360,"name":"5aSP5L6v6LWM5L6g","score":0},{"userid":100368,"name":"55qH55Sr6Ieq5pG4","score":0}]}]' WHERE userid = "100367"
1179
UPDATE t_users SET roomid = null, history = '[{"uuid":"1522655473440895375","id":"895375","time":1522655474,"seats":[{"userid":100356,"name":"5Lic6YOt5pyJ6ZKx","score":-2},{"userid":100360,"name":"5aSP5L6v6LWM5L6g","score":-1.5},{"userid":100359,"name":"5Lic6Ziz6Ieq5pG4","score":5},{"userid":100358,"name":"56uv5pyo5pyJ6ZKx","score":-1.5}]},{"uuid":"1522655473440895375","id":"895375","time":1522655474,"seats":[{"userid":100356,"name":"5Lic6YOt5pyJ6ZKx","score":-2},{"userid":100360,"name":"5aSP5L6v6LWM5L6g","score":-1.5},{"userid":100359,"name":"5Lic6Ziz6Ieq5pG4","score":5},{"userid":100358,"name":"56uv5pyo5pyJ6ZKx","score":-1.5}]},{"uuid":"1523242029452707199","id":"707199","time":1523242030,"seats":[{"userid":100356,"name":"5Lic6YOt5pyJ6ZKx","score":6},{"userid":100367,"name":"5Y2X5a6r6LWM5Zyj","score":-2},{"userid":100360,"name":"5aSP5L6v6LWM5L6g","score":-2},{"userid":100368,"name":"55qH55Sr6Ieq5pG4","score":-2}]},{"uuid":"1523242651091245835","id":"245835","time":1523242652,"seats":[{"userid":100356,"name":"5Lic6YOt5pyJ6ZKx","score":0},{"userid":100367,"name":"5Y2X5a6r6LWM5Zyj","score":-3.5},{"userid":100360,"name":"5aSP5L6v6LWM5L6g","score":0},{"userid":100368,"name":"55qH55Sr6Ieq5pG4","score":3.5}]},{"uuid":"1524040375425388746","id":"388746","time":1524040376,"seats":[{"userid":100356,"name":"5Lic6YOt5pyJ6ZKx","score":0},{"userid":100367,"name":"5Y2X5a6r6LWM5Zyj","score":0},{"userid":100360,"name":"5aSP5L6v6LWM5L6g","score":0},{"userid":100368,"name":"55qH55Sr6Ieq5pG4","score":0}]}]' WHERE userid = "100360"
DELETE FROM t_games WHERE room_uuid = '1524040375425388746'
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT history FROM t_users WHERE userid = "100356"
1468
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT history FROM t_users WHERE userid = "100356"
1468
SELECT game_index,create_time,result FROM t_games_archive WHERE room_uuid = "1524040375425388746"
[ RowDataPacket {
    game_index: 0,
    create_time: 1524040684,
    result: '[8.5,-1.5,-3.5,-3.5]' },
  RowDataPacket {
    game_index: 1,
    create_time: 1524040957,
    result: '[-3.5,-2.5,-2.5,8.5]' } ]
SELECT base_info,action_records FROM t_games_archive WHERE room_uuid = "1524040375425388746" AND game_index = 1
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=388746
SELECT user_name0,user_name1,user_name2,user_name3,user_id0,user_id1,user_id2,user_id3 FROM t_rooms WHERE id=388746
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
account server is listening on 9000
dealer api is listening on localhost:12581
events.js:112
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE :::9000
    at Server.setupListenHandle [as _listen2] (net.js:1361:14)
    at listenInCluster (net.js:1402:12)
    at Server.listen (net.js:1490:7)
    at Function.listen (/Users/bin_mac/Documents/workplace/HengShengYuLe/server/node_modules/express/lib/application.js:617:24)
    at Object.exports.start (/Users/bin_mac/Documents/workplace/HengShengYuLe/server/account_server/account_server.js:19:6)
    at Object.<anonymous> (/Users/bin_mac/Documents/workplace/HengShengYuLe/server/account_server/app.js:11:4)
    at Module._compile (module.js:662:30)
    at Object.Module._extensions..js (module.js:673:10)
    at Module.load (module.js:575:32)
    at tryModuleLoad (module.js:515:12)
client service is listening on port 9001
room service is listening on localhost:9002
events.js:112
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE :::9001
    at Server.setupListenHandle [as _listen2] (net.js:1361:14)
    at listenInCluster (net.js:1402:12)
    at Server.listen (net.js:1490:7)
    at Function.listen (/Users/bin_mac/Documents/workplace/HengShengYuLe/server/node_modules/express/lib/application.js:617:24)
    at Object.exports.start (/Users/bin_mac/Documents/workplace/HengShengYuLe/server/hall_server/client_service.js:892:6)
    at Object.<anonymous> (/Users/bin_mac/Documents/workplace/HengShengYuLe/server/hall_server/app.js:10:16)
    at Module._compile (module.js:662:30)
    at Object.Module._extensions..js (module.js:673:10)
    at Module.load (module.js:575:32)
    at tryModuleLoad (module.js:515:12)
account server is listening on 9000
dealer api is listening on localhost:12581
client service is listening on port 9001
room service is listening on localhost:9002
game server registered.
	id:192.168.1.115:10000
	addr:127.0.0.1
	http port:9003
	socket clientport:10000
invalid parameters
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT gems FROM t_users WHERE account = "guest_2"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_6"
SELECT gems FROM t_users WHERE account = "guest_6"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_6"
SELECT gems FROM t_users WHERE account = "guest_6"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
{ account: 'guest_1516885718529',
  sign: 'f093e905b3cd9f17002df63c2e99536a',
  conf: '{"wanfaxuanze":0,"xuanzejushu":0,"paytype":0,"difen":"0.5","cheat":1,"daifeng":0,"clubId":"","type":"bymj"}' }
conf is{"wanfaxuanze":0,"xuanzejushu":0,"paytype":0,"difen":"0.5","cheat":1,"daifeng":0,"clubId":"","type":"bymj"}
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_1516885718529"
SELECT gems FROM t_users WHERE account = "guest_1516885718529"
SELECT ip,port FROM t_rooms WHERE id = "465358"
{ token: 'a201ef5a7d44e2e70fe45fbfadf679a1',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "465358" WHERE userid = "100356"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_2"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=465358 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "465358"
{ token: 'ffcd7d9a49378d27d82c961b4c75db60',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "465358" WHERE userid = "100367"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_6"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=465358 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "465358"
{ token: '15f056a399f48a7bd7099249b6075265',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "465358" WHERE userid = "100368"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_6"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=465358 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "465358"
{ token: '3ecea2b9b66fb07780b0a7ba4c495ffe',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "465358" WHERE userid = "100368"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_8"
端木自摸
SELECT userid FROM t_users WHERE account = "guest_8"
INSERT INTO t_users(account,name,coins,gems,sex,headimg,blacklist,location) VALUES('guest_8','56uv5pyo6Ieq5pG4',1000,21,0,null,'[]','{"x":0.0,"y":0.0}')
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_8"
SELECT gems FROM t_users WHERE account = "guest_8"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_8"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=465358 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "465358"
{ token: 'bb43325b10d7d059137c30d2ab978160',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "465358" WHERE userid = "100405"
SELECT gems FROM t_users WHERE account = "guest_6"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_6"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=465358 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "465358"
{ token: '90c0bf06299577401d2918004f509849',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "465358" WHERE userid = "100368"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_8"
SELECT gems FROM t_users WHERE account = "guest_8"
SELECT * FROM t_message WHERE type = "notice"
SELECT * FROM t_message WHERE type = "fkgm"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_8"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=465358 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "465358"
{ token: 'b26e92b00d120ff1eda03b43dd2f3e5c',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "465358" WHERE userid = "100405"
SELECT userid,account,name,lv,exp,coins,gems,roomid FROM t_users WHERE account = "guest_8"
SELECT blacklist FROM t_users,t_rooms WHERE t_rooms.id=465358 AND t_rooms.creator=t_users.userid
SELECT ip,port FROM t_rooms WHERE id = "465358"
{ token: 'd0fe18d800e31f1c7ce2620d0bdff86a',
  errcode: 0,
  errmsg: 'ok' }
UPDATE t_users SET roomid = "465358" WHERE userid = "100405"
account server is listening on 9000
dealer api is listening on localhost:12581
client service is listening on port 9001
room service is listening on localhost:9002
game server is listening on localhost:9003
game server is listening on 10000
game server registered.
	id:192.168.1.115:10000
	addr:127.0.0.1
	http port:9003
	socket clientport:10000
192.168.1.115:10000
275c26e2e3d09af5da656d7d4c64b7d7
invalid parameters
